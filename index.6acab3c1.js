/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */let t,e,n,i,s;function a(t){let e=t.length;for(;--e>=0;)t[e]=0}const r=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=Array(576);a(c);const h=Array(60);a(h);const u=Array(512);a(u);const p=Array(256);a(p);const f=Array(29);a(f);const g=Array(30);function m(t,e,n,i,s){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=s,this.has_stree=t&&t.length}function w(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}a(g);const _=t=>t<256?u[t]:u[256+(t>>>7)],b=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},v=(t,e,n)=>{t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,b(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},y=(t,e,n)=>{v(t,n[2*e],n[2*e+1])},x=(t,e)=>{let n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0)return n>>>1},k=t=>{16===t.bi_valid?(b(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)},E=(t,e)=>{let n,i,s,a,r,o;let l=e.dyn_tree,d=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,u=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,g=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(a=l[2*l[2*(i=t.heap[n])+1]+1]+1)>f&&(a=f,g++),l[2*i+1]=a,!(i>d)&&(t.bl_count[a]++,r=0,i>=p&&(r=u[i-p]),o=l[2*i],t.opt_len+=o*(a+r),h&&(t.static_len+=o*(c[2*i+1]+r)));if(0!==g){do{for(a=f-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[f]--,g-=2}while(g>0)for(a=f;0!==a;a--)for(i=t.bl_count[a];0!==i;)!((s=t.heap[--n])>d)&&(l[2*s+1]!==a&&(t.opt_len+=(a-l[2*s+1])*l[2*s],l[2*s+1]=a),i--)}},S=(t,e,n)=>{let i,s;let a=Array(16),r=0;for(i=1;i<=15;i++)r=r+n[i-1]<<1,a[i]=r;for(s=0;s<=e;s++){let e=t[2*s+1];0!==e&&(t[2*s]=x(a[e]++,e))}},A=()=>{let i,s,a,d,w;let _=Array(16);for(d=0,a=0;d<28;d++)for(i=0,f[d]=a;i<1<<r[d];i++)p[a++]=d;for(p[a-1]=d,w=0,d=0;d<16;d++)for(i=0,g[d]=w;i<1<<o[d];i++)u[w++]=d;for(w>>=7;d<30;d++)for(i=0,g[d]=w<<7;i<1<<o[d]-7;i++)u[256+w++]=d;for(s=0;s<=15;s++)_[s]=0;for(i=0;i<=143;)c[2*i+1]=8,i++,_[8]++;for(;i<=255;)c[2*i+1]=9,i++,_[9]++;for(;i<=279;)c[2*i+1]=7,i++,_[7]++;for(;i<=287;)c[2*i+1]=8,i++,_[8]++;for(S(c,287,_),i=0;i<30;i++)h[2*i+1]=5,h[2*i]=x(i,5);t=new m(c,r,257,286,15),e=new m(h,o,0,30,15),n=new m([],l,0,19,7)},O=t=>{let e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},D=t=>{t.bi_valid>8?b(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},z=(t,e,n,i)=>{let s=2*e,a=2*n;return t[s]<t[a]||t[s]===t[a]&&i[e]<=i[n]},C=(t,e,n)=>{let i=t.heap[n],s=n<<1;for(;s<=t.heap_len&&(s<t.heap_len&&z(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!z(e,i,t.heap[s],t.depth));)t.heap[n]=t.heap[s],n=s,s<<=1;t.heap[n]=i},L=(t,e,n)=>{let i,s,a,l;let d=0;if(0!==t.sym_next)do i=(255&t.pending_buf[t.sym_buf+d++])+((255&t.pending_buf[t.sym_buf+d++])<<8),s=t.pending_buf[t.sym_buf+d++],0===i?y(t,s,e):(y(t,(a=p[s])+256+1,e),0!==(l=r[a])&&v(t,s-=f[a],l),y(t,a=_(--i),n),0!==(l=o[a])&&v(t,i-=g[a],l));while(d<t.sym_next)y(t,256,e)},N=(t,e)=>{let n,i,s;let a=e.dyn_tree,r=e.stat_desc.static_tree,o=e.stat_desc.has_stree,l=e.stat_desc.elems,d=-1;for(n=0,t.heap_len=0,t.heap_max=573;n<l;n++)0!==a[2*n]?(t.heap[++t.heap_len]=d=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(s=t.heap[++t.heap_len]=d<2?++d:0)]=1,t.depth[s]=0,t.opt_len--,o&&(t.static_len-=r[2*s+1]);for(e.max_code=d,n=t.heap_len>>1;n>=1;n--)C(t,a,n);s=l;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],C(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,a[2*s]=a[2*n]+a[2*i],t.depth[s]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,a[2*n+1]=a[2*i+1]=s,t.heap[1]=s++,C(t,a,1);while(t.heap_len>=2)t.heap[--t.heap_max]=t.heap[1],E(t,e),S(a,d,t.bl_count)},I=(t,e,n)=>{let i,s;let a=-1,r=e[1],o=0,l=7,d=4;for(0===r&&(l=138,d=3),e[(n+1)*2+1]=65535,i=0;i<=n;i++)s=r,r=e[(i+1)*2+1],++o<l&&s===r||(o<d?t.bl_tree[2*s]+=o:0!==s?(s!==a&&t.bl_tree[2*s]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,a=s,0===r?(l=138,d=3):s===r?(l=6,d=3):(l=7,d=4))},T=(t,e,n)=>{let i,s;let a=-1,r=e[1],o=0,l=7,d=4;for(0===r&&(l=138,d=3),i=0;i<=n;i++)if(s=r,r=e[(i+1)*2+1],!(++o<l)||s!==r){if(o<d)do y(t,s,t.bl_tree);while(0!=--o)else 0!==s?(s!==a&&(y(t,s,t.bl_tree),o--),y(t,16,t.bl_tree),v(t,o-3,2)):o<=10?(y(t,17,t.bl_tree),v(t,o-3,3)):(y(t,18,t.bl_tree),v(t,o-11,7));o=0,a=s,0===r?(l=138,d=3):s===r?(l=6,d=3):(l=7,d=4)}},R=t=>{let e;for(I(t,t.dyn_ltree,t.l_desc.max_code),I(t,t.dyn_dtree,t.d_desc.max_code),N(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*d[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e},F=(t,e,n,i)=>{let s;for(v(t,e-257,5),v(t,n-1,5),v(t,i-4,4),s=0;s<i;s++)v(t,t.bl_tree[2*d[s]+1],3);T(t,t.dyn_ltree,e-1),T(t,t.dyn_dtree,n-1)},j=t=>{let e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0};let P=!1;const U=(t,e,n,i)=>{v(t,0+(i?1:0),3),D(t),b(t,n),b(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n};var M,W,B,Z,$,H={_tr_init:i=>{P||(A(),P=!0),i.l_desc=new w(i.dyn_ltree,t),i.d_desc=new w(i.dyn_dtree,e),i.bl_desc=new w(i.bl_tree,n),i.bi_buf=0,i.bi_valid=0,O(i)},_tr_stored_block:U,_tr_flush_block:(t,e,n,i)=>{let s,a;let r=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=j(t)),N(t,t.l_desc),N(t,t.d_desc),r=R(t),s=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=s&&(s=a)):s=a=n+5,n+4<=s&&-1!==e?U(t,e,n,i):4===t.strategy||a===s?(v(t,2+(i?1:0),3),L(t,c,h)):(v(t,4+(i?1:0),3),F(t,t.l_desc.max_code+1,t.d_desc.max_code+1,r+1),L(t,t.dyn_ltree,t.dyn_dtree)),O(t),i&&D(t)},_tr_tally:(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[(p[n]+256+1)*2]++,t.dyn_dtree[2*_(e)]++),t.sym_next===t.sym_end),_tr_align:t=>{v(t,2,3),y(t,256,c),k(t)}},V=(t,e,n,i)=>{let s=65535&t|0,a=t>>>16&65535|0,r=0;for(;0!==n;){r=n>2e3?2e3:n,n-=r;do a=a+(s=s+e[i++]|0)|0;while(--r)s%=65521,a%=65521}return s|a<<16|0};const q=new Uint32Array((()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e})());var Y=(t,e,n,i)=>{let s=i+n;t^=-1;for(let n=i;n<s;n++)t=t>>>8^q[(t^e[n])&255];return -1^t},J={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},K={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:G,_tr_stored_block:X,_tr_flush_block:Q,_tr_tally:tt,_tr_align:te}=H,{Z_NO_FLUSH:tn,Z_PARTIAL_FLUSH:ti,Z_FULL_FLUSH:ts,Z_FINISH:ta,Z_BLOCK:tr,Z_OK:to,Z_STREAM_END:tl,Z_STREAM_ERROR:td,Z_DATA_ERROR:tc,Z_BUF_ERROR:th,Z_DEFAULT_COMPRESSION:tu,Z_FILTERED:tp,Z_HUFFMAN_ONLY:tf,Z_RLE:tg,Z_FIXED:tm,Z_DEFAULT_STRATEGY:tw,Z_UNKNOWN:t_,Z_DEFLATED:tb}=K,tv=(t,e)=>(t.msg=J[e],e),ty=t=>2*t-(t>4?9:0),tx=t=>{let e=t.length;for(;--e>=0;)t[e]=0},tk=t=>{let e,n,i;let s=t.w_size;i=e=t.hash_size;do n=t.head[--i],t.head[i]=n>=s?n-s:0;while(--e)i=e=s;do n=t.prev[--i],t.prev[i]=n>=s?n-s:0;while(--e)};let tE=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask;const tS=t=>{let e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},tA=(t,e)=>{Q(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tS(t.strm)},tO=(t,e)=>{t.pending_buf[t.pending++]=e},tD=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},tz=(t,e,n,i)=>{let s=t.avail_in;return(s>i&&(s=i),0===s)?0:(t.avail_in-=s,e.set(t.input.subarray(t.next_in,t.next_in+s),n),1===t.state.wrap?t.adler=V(t.adler,e,s,n):2===t.state.wrap&&(t.adler=Y(t.adler,e,s,n)),t.next_in+=s,t.total_in+=s,s)},tC=(t,e)=>{let n,i,s=t.max_chain_length,a=t.strstart,r=t.prev_length,o=t.nice_match,l=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,d=t.window,c=t.w_mask,h=t.prev,u=t.strstart+258,p=d[a+r-1],f=d[a+r];t.prev_length>=t.good_match&&(s>>=2),o>t.lookahead&&(o=t.lookahead);do{if(d[(n=e)+r]!==f||d[n+r-1]!==p||d[n]!==d[a]||d[++n]!==d[a+1])continue;a+=2,n++;do;while(d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&d[++a]===d[++n]&&a<u)if(i=258-(u-a),a=u-258,i>r){if(t.match_start=e,r=i,i>=o)break;p=d[a+r-1],f=d[a+r]}}while((e=h[e&c])>l&&0!=--s)return r<=t.lookahead?r:t.lookahead},tL=t=>{let e,n,i;let s=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-262)&&(t.window.set(t.window.subarray(s,s+s-n),0),t.match_start-=s,t.strstart-=s,t.block_start-=s,t.insert>t.strstart&&(t.insert=t.strstart),tk(t),n+=s),0===t.strm.avail_in)break;if(e=tz(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=e,t.lookahead+t.insert>=3)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=tE(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=tE(t,t.ins_h,t.window[i+3-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)},tN=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,i,s,a,r=0,o=t.strm.avail_in;do{if(i=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,i>(s=t.strstart-t.block_start)+t.strm.avail_in&&(i=s+t.strm.avail_in),i>a&&(i=a),i<n&&(0===i&&e!==ta||e===tn||i!==s+t.strm.avail_in)))break;r=e===ta&&i===s+t.strm.avail_in?1:0,X(t,0,0,r),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,tS(t.strm),s&&(s>i&&(s=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+s),t.strm.next_out),t.strm.next_out+=s,t.strm.avail_out-=s,t.strm.total_out+=s,t.block_start+=s,i-=s),i&&(tz(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(0===r)return((o-=t.strm.avail_in)&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),r)?4:e!==tn&&e!==ta&&0===t.strm.avail_in&&t.strstart===t.block_start?2:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(tz(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,n=(a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a)>t.w_size?t.w_size:a,((s=t.strstart-t.block_start)>=n||(s||e===ta)&&e!==tn&&0===t.strm.avail_in&&s<=a)&&(i=s>a?a:s,r=e===ta&&0===t.strm.avail_in&&i===s?1:0,X(t,t.block_start,i,r),t.block_start+=i,tS(t.strm)),r?3:1)},tI=(t,e)=>{let n,i;for(;;){if(t.lookahead<262){if(tL(t),t.lookahead<262&&e===tn)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=tE(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=tC(t,n)),t.match_length>=3){if(i=tt(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do t.strstart++,t.ins_h=tE(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!=--t.match_length)t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=tE(t,t.ins_h,t.window[t.strstart+1])}else i=tt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(tA(t,!1),0===t.strm.avail_out))return 1}return(t.insert=t.strstart<2?t.strstart:2,e===ta)?(tA(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(tA(t,!1),0===t.strm.avail_out)?1:2},tT=(t,e)=>{let n,i,s;for(;;){if(t.lookahead<262){if(tL(t),t.lookahead<262&&e===tn)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=tE(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=tC(t,n),t.match_length<=5&&(t.strategy===tp||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){s=t.strstart+t.lookahead-3,i=tt(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=s&&(t.ins_h=tE(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!=--t.prev_length)if(t.match_available=0,t.match_length=2,t.strstart++,i&&(tA(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=tt(t,0,t.window[t.strstart-1]))&&tA(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return(t.match_available&&(i=tt(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===ta)?(tA(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(tA(t,!1),0===t.strm.avail_out)?1:2},tR=(t,e)=>{let n,i,s,a;let r=t.window;for(;;){if(t.lookahead<=258){if(tL(t),t.lookahead<=258&&e===tn)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=r[s=t.strstart-1])===r[++s]&&i===r[++s]&&i===r[++s]){a=t.strstart+258;do;while(i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&i===r[++s]&&s<a)t.match_length=258-(a-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=tt(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=tt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(tA(t,!1),0===t.strm.avail_out))return 1}return(t.insert=0,e===ta)?(tA(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(tA(t,!1),0===t.strm.avail_out)?1:2},tF=(t,e)=>{let n;for(;;){if(0===t.lookahead&&(tL(t),0===t.lookahead)){if(e===tn)return 1;break}if(t.match_length=0,n=tt(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(tA(t,!1),0===t.strm.avail_out))return 1}return(t.insert=0,e===ta)?(tA(t,!0),0===t.strm.avail_out)?3:4:t.sym_next&&(tA(t,!1),0===t.strm.avail_out)?1:2};function tj(t,e,n,i,s){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=s}const tP=[new tj(0,0,0,0,tN),new tj(4,4,8,4,tI),new tj(4,5,16,8,tI),new tj(4,6,32,32,tI),new tj(4,4,16,16,tT),new tj(8,16,32,32,tT),new tj(8,16,128,128,tT),new tj(8,32,128,256,tT),new tj(32,128,258,1024,tT),new tj(32,258,258,4096,tT)],tU=t=>{t.window_size=2*t.w_size,tx(t.head),t.max_lazy_match=tP[t.level].max_lazy,t.good_match=tP[t.level].good_length,t.nice_match=tP[t.level].nice_length,t.max_chain_length=tP[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0};function tM(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=tb,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),tx(this.dyn_ltree),tx(this.dyn_dtree),tx(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),tx(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),tx(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const tW=t=>{if(!t)return 1;let e=t.state;return e&&e.strm===t&&(42===e.status||57===e.status||69===e.status||73===e.status||91===e.status||103===e.status||113===e.status||666===e.status)?0:1},tB=t=>{if(tW(t))return tv(t,td);t.total_in=t.total_out=0,t.data_type=t_;let e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=2===e.wrap?57:e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=-2,G(e),to},tZ=t=>{let e=tB(t);return e===to&&tU(t.state),e};var t$={deflateInit2:(t,e,n,i,s,a)=>{if(!t)return td;let r=1;if(e===tu&&(e=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),s<1||s>9||n!==tb||i<8||i>15||e<0||e>9||a<0||a>tm||8===i&&1!==r)return tv(t,td);8===i&&(i=9);let o=new tM;return t.state=o,o.strm=t,o.status=42,o.wrap=r,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=s+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<s+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=a,o.method=n,tZ(t)},deflateSetHeader:(t,e)=>tW(t)||2!==t.state.wrap?td:(t.state.gzhead=e,to),deflate:(t,e)=>{if(tW(t)||e>tr||e<0)return t?tv(t,td):td;let n=t.state;if(!t.output||0!==t.avail_in&&!t.input||666===n.status&&e!==ta)return tv(t,0===t.avail_out?th:td);let i=n.last_flush;if(n.last_flush=e,0!==n.pending){if(tS(t),0===t.avail_out)return n.last_flush=-1,to}else if(0===t.avail_in&&ty(e)<=ty(i)&&e!==ta)return tv(t,th);if(666===n.status&&0!==t.avail_in)return tv(t,th);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status){let e=tb+(n.w_bits-8<<4)<<8;if(e|=(n.strategy>=tf||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(e|=32),tD(n,e+=31-e%31),0!==n.strstart&&(tD(n,t.adler>>>16),tD(n,65535&t.adler)),t.adler=1,n.status=113,tS(t),0!==n.pending)return n.last_flush=-1,to}if(57===n.status){if(t.adler=0,tO(n,31),tO(n,139),tO(n,8),n.gzhead)tO(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),tO(n,255&n.gzhead.time),tO(n,n.gzhead.time>>8&255),tO(n,n.gzhead.time>>16&255),tO(n,n.gzhead.time>>24&255),tO(n,9===n.level?2:n.strategy>=tf||n.level<2?4:0),tO(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(tO(n,255&n.gzhead.extra.length),tO(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=Y(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(tO(n,0),tO(n,0),tO(n,0),tO(n,0),tO(n,0),tO(n,9===n.level?2:n.strategy>=tf||n.level<2?4:0),tO(n,3),n.status=113,tS(t),0!==n.pending)return n.last_flush=-1,to}if(69===n.status){if(n.gzhead.extra){let e=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let s=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>e&&(t.adler=Y(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex+=s,tS(t),0!==n.pending)return n.last_flush=-1,to;e=0,i-=s}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>e&&(t.adler=Y(t.adler,n.pending_buf,n.pending-e,e)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let e,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Y(t.adler,n.pending_buf,n.pending-i,i)),tS(t),0!==n.pending)return n.last_flush=-1,to;i=0}e=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,tO(n,e)}while(0!==e)n.gzhead.hcrc&&n.pending>i&&(t.adler=Y(t.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let e,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(t.adler=Y(t.adler,n.pending_buf,n.pending-i,i)),tS(t),0!==n.pending)return n.last_flush=-1,to;i=0}e=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,tO(n,e)}while(0!==e)n.gzhead.hcrc&&n.pending>i&&(t.adler=Y(t.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(tS(t),0!==n.pending))return n.last_flush=-1,to;tO(n,255&t.adler),tO(n,t.adler>>8&255),t.adler=0}if(n.status=113,tS(t),0!==n.pending)return n.last_flush=-1,to}if(0!==t.avail_in||0!==n.lookahead||e!==tn&&666!==n.status){let i=0===n.level?tN(n,e):n.strategy===tf?tF(n,e):n.strategy===tg?tR(n,e):tP[n.level].func(n,e);if((3===i||4===i)&&(n.status=666),1===i||3===i)return 0===t.avail_out&&(n.last_flush=-1),to;if(2===i&&(e===ti?te(n):e!==tr&&(X(n,0,0,!1),e===ts&&(tx(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),tS(t),0===t.avail_out))return n.last_flush=-1,to}return e!==ta?to:n.wrap<=0?tl:(2===n.wrap?(tO(n,255&t.adler),tO(n,t.adler>>8&255),tO(n,t.adler>>16&255),tO(n,t.adler>>24&255),tO(n,255&t.total_in),tO(n,t.total_in>>8&255),tO(n,t.total_in>>16&255),tO(n,t.total_in>>24&255)):(tD(n,t.adler>>>16),tD(n,65535&t.adler)),tS(t),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?to:tl)},deflateEnd:t=>{if(tW(t))return td;let e=t.state.status;return t.state=null,113===e?tv(t,tc):to},deflateSetDictionary:(t,e)=>{let n=e.length;if(tW(t))return td;let i=t.state,s=i.wrap;if(2===s||1===s&&42!==i.status||i.lookahead)return td;if(1===s&&(t.adler=V(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){0===s&&(tx(i.head),i.strstart=0,i.block_start=0,i.insert=0);let t=new Uint8Array(i.w_size);t.set(e.subarray(n-i.w_size,n),0),e=t,n=i.w_size}let a=t.avail_in,r=t.next_in,o=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,tL(i);i.lookahead>=3;){let t=i.strstart,e=i.lookahead-2;do i.ins_h=tE(i,i.ins_h,i.window[t+3-1]),i.prev[t&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=t,t++;while(--e)i.strstart=t,i.lookahead=2,tL(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=r,t.input=o,t.avail_in=a,i.wrap=s,to}};const tH=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var tV={assign:function(t){let e=Array.prototype.slice.call(arguments,1);for(;e.length;){let n=e.shift();if(n){if("object"!=typeof n)throw TypeError(n+"must be non-object");for(let e in n)tH(n,e)&&(t[e]=n[e])}}return t},flattenChunks:t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;let n=new Uint8Array(e);for(let e=0,i=0,s=t.length;e<s;e++){let s=t[e];n.set(s,i),i+=s.length}return n}};let tq=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){tq=!1}const tY=new Uint8Array(256);for(let t=0;t<256;t++)tY[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;tY[254]=tY[254]=1;const tJ=(t,e)=>{if(e<65534&&t.subarray&&tq)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n};var tK={string2buf:t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,s,a,r=t.length,o=0;for(s=0;s<r;s++)(64512&(n=t.charCodeAt(s)))==55296&&s+1<r&&(64512&(i=t.charCodeAt(s+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),s++),o+=n<128?1:n<2048?2:n<65536?3:4;for(a=0,e=new Uint8Array(o),s=0;a<o;s++)(64512&(n=t.charCodeAt(s)))==55296&&s+1<r&&(64512&(i=t.charCodeAt(s+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),s++),n<128?e[a++]=n:(n<2048?e[a++]=192|n>>>6:(n<65536?e[a++]=224|n>>>12:(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63),e[a++]=128|n>>>6&63),e[a++]=128|63&n);return e},buf2string:(t,e)=>{let n,i;let s=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let a=Array(2*s);for(i=0,n=0;n<s;){let e=t[n++];if(e<128){a[i++]=e;continue}let r=tY[e];if(r>4){a[i++]=65533,n+=r-1;continue}for(e&=2===r?31:3===r?15:7;r>1&&n<s;)e=e<<6|63&t[n++],r--;if(r>1){a[i++]=65533;continue}e<65536?a[i++]=e:(e-=65536,a[i++]=55296|e>>10&1023,a[i++]=56320|1023&e)}return tJ(a,i)},utf8border:(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(192&t[n])==128;)n--;return n<0||0===n?e:n+tY[t[n]]>e?n:e}},tG=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const tX=Object.prototype.toString,{Z_NO_FLUSH:tQ,Z_SYNC_FLUSH:t0,Z_FULL_FLUSH:t1,Z_FINISH:t2,Z_OK:t5,Z_STREAM_END:t6,Z_DEFAULT_COMPRESSION:t3,Z_DEFAULT_STRATEGY:t8,Z_DEFLATED:t4}=K;function t9(t){this.options=tV.assign({level:t3,method:t4,chunkSize:16384,windowBits:15,memLevel:8,strategy:t8},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tG,this.strm.avail_out=0;let n=t$.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==t5)throw Error(J[n]);if(e.header&&t$.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"==typeof e.dictionary?tK.string2buf(e.dictionary):"[object ArrayBuffer]"===tX.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=t$.deflateSetDictionary(this.strm,t))!==t5)throw Error(J[n]);this._dict_set=!0}}function t7(t,e){let n=new t9(e);if(n.push(t,!0),n.err)throw n.msg||J[n.err];return n.result}t9.prototype.push=function(t,e){let n,i;let s=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(i=e===~~e?e:!0===e?t2:tQ,"string"==typeof t?s.input=tK.string2buf(t):"[object ArrayBuffer]"===tX.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;;){if(0===s.avail_out&&(s.output=new Uint8Array(a),s.next_out=0,s.avail_out=a),(i===t0||i===t1)&&s.avail_out<=6){this.onData(s.output.subarray(0,s.next_out)),s.avail_out=0;continue}if((n=t$.deflate(s,i))===t6)return s.next_out>0&&this.onData(s.output.subarray(0,s.next_out)),n=t$.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===t5;if(0===s.avail_out){this.onData(s.output);continue}if(i>0&&s.next_out>0){this.onData(s.output.subarray(0,s.next_out)),s.avail_out=0;continue}if(0===s.avail_in)break}return!0},t9.prototype.onData=function(t){this.chunks.push(t)},t9.prototype.onEnd=function(t){t===t5&&(this.result=tV.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var et=function(t,e){let n,i,s,a,r,o,l,d,c,h,u,p,f,g,m,w,_,b,v,y,x,k,E,S;let A=t.state;n=t.next_in,E=t.input,i=n+(t.avail_in-5),s=t.next_out,S=t.output,a=s-(e-t.avail_out),r=s+(t.avail_out-257),o=A.dmax,l=A.wsize,d=A.whave,c=A.wnext,h=A.window,u=A.hold,p=A.bits,f=A.lencode,g=A.distcode,m=(1<<A.lenbits)-1,w=(1<<A.distbits)-1;t:do for(p<15&&(u+=E[n++]<<p,p+=8,u+=E[n++]<<p,p+=8),_=f[u&m];;){if(u>>>=b=_>>>24,p-=b,0==(b=_>>>16&255))S[s++]=65535&_;else if(16&b)for(v=65535&_,(b&=15)&&(p<b&&(u+=E[n++]<<p,p+=8),v+=u&(1<<b)-1,u>>>=b,p-=b),p<15&&(u+=E[n++]<<p,p+=8,u+=E[n++]<<p,p+=8),_=g[u&w];;){if(u>>>=b=_>>>24,p-=b,16&(b=_>>>16&255)){if(y=65535&_,p<(b&=15)&&(u+=E[n++]<<p,(p+=8)<b&&(u+=E[n++]<<p,p+=8)),(y+=u&(1<<b)-1)>o){t.msg="invalid distance too far back",A.mode=16209;break t}if(u>>>=b,p-=b,y>(b=s-a)){if((b=y-b)>d&&A.sane){t.msg="invalid distance too far back",A.mode=16209;break t}if(x=0,k=h,0===c){if(x+=l-b,b<v){v-=b;do S[s++]=h[x++];while(--b)x=s-y,k=S}}else if(c<b){if(x+=l+c-b,(b-=c)<v){v-=b;do S[s++]=h[x++];while(--b)if(x=0,c<v){v-=b=c;do S[s++]=h[x++];while(--b)x=s-y,k=S}}}else if(x+=c-b,b<v){v-=b;do S[s++]=h[x++];while(--b)x=s-y,k=S}for(;v>2;)S[s++]=k[x++],S[s++]=k[x++],S[s++]=k[x++],v-=3;v&&(S[s++]=k[x++],v>1&&(S[s++]=k[x++]))}else{x=s-y;do S[s++]=S[x++],S[s++]=S[x++],S[s++]=S[x++],v-=3;while(v>2)v&&(S[s++]=S[x++],v>1&&(S[s++]=S[x++]))}}else if((64&b)==0){_=g[(65535&_)+(u&(1<<b)-1)];continue}else{t.msg="invalid distance code",A.mode=16209;break t}break}else if((64&b)==0){_=f[(65535&_)+(u&(1<<b)-1)];continue}else if(32&b){A.mode=16191;break t}else{t.msg="invalid literal/length code",A.mode=16209;break t}break}while(n<i&&s<r)n-=v=p>>3,p-=v<<3,u&=(1<<p)-1,t.next_in=n,t.next_out=s,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=s<r?257+(r-s):257-(s-r),A.hold=u,A.bits=p};const ee=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),en=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ei=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),es=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ea=(t,e,n,i,s,a,r,o)=>{let l,d,c,h,u,p,f,g,m;let w=o.bits,_=0,b=0,v=0,y=0,x=0,k=0,E=0,S=0,A=0,O=0,D=null,z=new Uint16Array(16),C=new Uint16Array(16),L=null;for(_=0;_<=15;_++)z[_]=0;for(b=0;b<i;b++)z[e[n+b]]++;for(y=15,x=w;y>=1&&0===z[y];y--);if(x>y&&(x=y),0===y)return s[a++]=20971520,s[a++]=20971520,o.bits=1,0;for(v=1;v<y&&0===z[v];v++);for(x<v&&(x=v),S=1,_=1;_<=15;_++)if(S<<=1,(S-=z[_])<0)return -1;if(S>0&&(0===t||1!==y))return -1;for(_=1,C[1]=0;_<15;_++)C[_+1]=C[_]+z[_];for(b=0;b<i;b++)0!==e[n+b]&&(r[C[e[n+b]]++]=b);if(0===t?(D=L=r,p=20):1===t?(D=ee,L=en,p=257):(D=ei,L=es,p=0),O=0,b=0,_=v,u=a,k=x,E=0,c=-1,h=(A=1<<x)-1,1===t&&A>852||2===t&&A>592)return 1;for(;;){f=_-E,r[b]+1<p?(g=0,m=r[b]):r[b]>=p?(g=L[r[b]-p],m=D[r[b]-p]):(g=96,m=0),l=1<<_-E,v=d=1<<k;do s[u+(O>>E)+(d-=l)]=f<<24|g<<16|m|0;while(0!==d)for(l=1<<_-1;O&l;)l>>=1;if(0!==l?(O&=l-1,O+=l):O=0,b++,0==--z[_]){if(_===y)break;_=e[n+r[b]]}if(_>x&&(O&h)!==c){for(0===E&&(E=x),u+=v,S=1<<(k=_-E);k+E<y&&!((S-=z[k+E])<=0);)k++,S<<=1;if(A+=1<<k,1===t&&A>852||2===t&&A>592)return 1;s[c=O&h]=x<<24|k<<16|u-a|0}}return 0!==O&&(s[u+O]=_-E<<24|4194304),o.bits=x,0};const{Z_FINISH:er,Z_BLOCK:eo,Z_TREES:el,Z_OK:ed,Z_STREAM_END:ec,Z_NEED_DICT:eh,Z_STREAM_ERROR:eu,Z_DATA_ERROR:ep,Z_MEM_ERROR:ef,Z_BUF_ERROR:eg,Z_DEFLATED:em}=K,ew=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function e_(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const eb=t=>{if(!t)return 1;let e=t.state;return!e||e.strm!==t||e.mode<16180||e.mode>16211?1:0},ev=t=>{if(eb(t))return eu;let e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,ed},ey=t=>{if(eb(t))return eu;let e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,ev(t)},ex=(t,e)=>{let n;if(eb(t))return eu;let i=t.state;return(e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15))?eu:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,ey(t))};let ek=!0;const eE=t=>{if(ek){i=new Int32Array(512),s=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(ea(1,t.lens,0,288,i,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;ea(2,t.lens,0,32,s,0,t.work,{bits:5}),ek=!1}t.lencode=i,t.lenbits=9,t.distcode=s,t.distbits=5},eS=(t,e,n,i)=>{let s;let a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):((s=a.wsize-a.wnext)>i&&(s=i),a.window.set(e.subarray(n-i,n-i+s),a.wnext),(i-=s)?(a.window.set(e.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0};var eA={inflateReset:ey,inflateInit2:(t,e)=>{if(!t)return eu;let n=new e_;t.state=n,n.strm=t,n.window=null,n.mode=16180;let i=ex(t,e);return i!==ed&&(t.state=null),i},inflate:(t,e)=>{let n,i,s,a,r,o,l,d,c,h,u,p,f,g,m,w,_,b,v,y,x,k,E,S;let A=0,O=new Uint8Array(4),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(eb(t)||!t.output||!t.input&&0!==t.avail_in)return eu;16191===(n=t.state).mode&&(n.mode=16192),r=t.next_out,s=t.output,l=t.avail_out,a=t.next_in,i=t.input,o=t.avail_in,d=n.hold,c=n.bits,h=o,u=l,k=ed;e:for(;;)switch(n.mode){case 16180:if(0===n.wrap){n.mode=16192;break}for(;c<16;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}if(2&n.wrap&&35615===d){0===n.wbits&&(n.wbits=15),n.check=0,O[0]=255&d,O[1]=d>>>8&255,n.check=Y(n.check,O,2,0),d=0,c=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){t.msg="incorrect header check",n.mode=16209;break}if((15&d)!==em){t.msg="unknown compression method",n.mode=16209;break}if(d>>>=4,c-=4,x=(15&d)+8,0===n.wbits&&(n.wbits=x),x>15||x>n.wbits){t.msg="invalid window size",n.mode=16209;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=512&d?16189:16191,d=0,c=0;break;case 16181:for(;c<16;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}if(n.flags=d,(255&n.flags)!==em){t.msg="unknown compression method",n.mode=16209;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=16209;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&4&n.wrap&&(O[0]=255&d,O[1]=d>>>8&255,n.check=Y(n.check,O,2,0)),d=0,c=0,n.mode=16182;case 16182:for(;c<32;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}n.head&&(n.head.time=d),512&n.flags&&4&n.wrap&&(O[0]=255&d,O[1]=d>>>8&255,O[2]=d>>>16&255,O[3]=d>>>24&255,n.check=Y(n.check,O,4,0)),d=0,c=0,n.mode=16183;case 16183:for(;c<16;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&4&n.wrap&&(O[0]=255&d,O[1]=d>>>8&255,n.check=Y(n.check,O,2,0)),d=0,c=0,n.mode=16184;case 16184:if(1024&n.flags){for(;c<16;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&4&n.wrap&&(O[0]=255&d,O[1]=d>>>8&255,n.check=Y(n.check,O,2,0)),d=0,c=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&((p=n.length)>o&&(p=o),p&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+p),x)),512&n.flags&&4&n.wrap&&(n.check=Y(n.check,i,p,a)),o-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;p=0;do x=i[a+p++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x));while(x&&p<o)if(512&n.flags&&4&n.wrap&&(n.check=Y(n.check,i,p,a)),o-=p,a+=p,x)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;p=0;do x=i[a+p++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x));while(x&&p<o)if(512&n.flags&&4&n.wrap&&(n.check=Y(n.check,i,p,a)),o-=p,a+=p,x)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;c<16;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}if(4&n.wrap&&d!==(65535&n.check)){t.msg="header crc mismatch",n.mode=16209;break}d=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=16191;break;case 16189:for(;c<32;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}t.adler=n.check=ew(d),d=0,c=0,n.mode=16190;case 16190:if(0===n.havedict)return t.next_out=r,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=d,n.bits=c,eh;t.adler=n.check=1,n.mode=16191;case 16191:if(e===eo||e===el)break e;case 16192:if(n.last){d>>>=7&c,c-=7&c,n.mode=16206;break}for(;c<3;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}switch(n.last=1&d,c-=1,3&(d>>>=1)){case 0:n.mode=16193;break;case 1:if(eE(n),n.mode=16199,e===el){d>>>=2,c-=2;break e}break;case 2:n.mode=16196;break;case 3:t.msg="invalid block type",n.mode=16209}d>>>=2,c-=2;break;case 16193:for(d>>>=7&c,c-=7&c;c<32;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}if((65535&d)!=(d>>>16^65535)){t.msg="invalid stored block lengths",n.mode=16209;break}if(n.length=65535&d,d=0,c=0,n.mode=16194,e===el)break e;case 16194:n.mode=16195;case 16195:if(p=n.length){if(p>o&&(p=o),p>l&&(p=l),0===p)break e;s.set(i.subarray(a,a+p),r),o-=p,a+=p,l-=p,r+=p,n.length-=p;break}n.mode=16191;break;case 16196:for(;c<14;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}if(n.nlen=(31&d)+257,d>>>=5,c-=5,n.ndist=(31&d)+1,d>>>=5,c-=5,n.ncode=(15&d)+4,d>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=16209;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;c<3;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}n.lens[D[n.have++]]=7&d,d>>>=3,c-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},k=ea(0,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,k){t.msg="invalid code lengths set",n.mode=16209;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;m=(A=n.lencode[d&(1<<n.lenbits)-1])>>>24,w=A>>>16&255,_=65535&A,!(m<=c);){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}if(_<16)d>>>=m,c-=m,n.lens[n.have++]=_;else{if(16===_){for(S=m+2;c<S;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}if(d>>>=m,c-=m,0===n.have){t.msg="invalid bit length repeat",n.mode=16209;break}x=n.lens[n.have-1],p=3+(3&d),d>>>=2,c-=2}else if(17===_){for(S=m+3;c<S;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}d>>>=m,c-=m,x=0,p=3+(7&d),d>>>=3,c-=3}else{for(S=m+7;c<S;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}d>>>=m,c-=m,x=0,p=11+(127&d),d>>>=7,c-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=16209;break}for(;p--;)n.lens[n.have++]=x}}if(16209===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=16209;break}if(n.lenbits=9,E={bits:n.lenbits},k=ea(1,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,k){t.msg="invalid literal/lengths set",n.mode=16209;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},k=ea(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,k){t.msg="invalid distances set",n.mode=16209;break}if(n.mode=16199,e===el)break e;case 16199:n.mode=16200;case 16200:if(o>=6&&l>=258){t.next_out=r,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=d,n.bits=c,et(t,u),r=t.next_out,s=t.output,l=t.avail_out,a=t.next_in,i=t.input,o=t.avail_in,d=n.hold,c=n.bits,16191===n.mode&&(n.back=-1);break}for(n.back=0;m=(A=n.lencode[d&(1<<n.lenbits)-1])>>>24,w=A>>>16&255,_=65535&A,!(m<=c);){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}if(w&&(240&w)==0){for(b=m,v=w,y=_;m=(A=n.lencode[y+((d&(1<<b+v)-1)>>b)])>>>24,w=A>>>16&255,_=65535&A,!(b+m<=c);){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}d>>>=b,c-=b,n.back+=b}if(d>>>=m,c-=m,n.back+=m,n.length=_,0===w){n.mode=16205;break}if(32&w){n.back=-1,n.mode=16191;break}if(64&w){t.msg="invalid literal/length code",n.mode=16209;break}n.extra=15&w,n.mode=16201;case 16201:if(n.extra){for(S=n.extra;c<S;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;m=(A=n.distcode[d&(1<<n.distbits)-1])>>>24,w=A>>>16&255,_=65535&A,!(m<=c);){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}if((240&w)==0){for(b=m,v=w,y=_;m=(A=n.distcode[y+((d&(1<<b+v)-1)>>b)])>>>24,w=A>>>16&255,_=65535&A,!(b+m<=c);){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}d>>>=b,c-=b,n.back+=b}if(d>>>=m,c-=m,n.back+=m,64&w){t.msg="invalid distance code",n.mode=16209;break}n.offset=_,n.extra=15&w,n.mode=16203;case 16203:if(n.extra){for(S=n.extra;c<S;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=16209;break}n.mode=16204;case 16204:if(0===l)break e;if(p=u-l,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=16209;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),g=n.window}else g=s,f=r-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do s[r++]=g[f++];while(--p)0===n.length&&(n.mode=16200);break;case 16205:if(0===l)break e;s[r++]=n.length,l--,n.mode=16200;break;case 16206:if(n.wrap){for(;c<32;){if(0===o)break e;o--,d|=i[a++]<<c,c+=8}if(u-=l,t.total_out+=u,n.total+=u,4&n.wrap&&u&&(t.adler=n.check=n.flags?Y(n.check,s,u,r-u):V(n.check,s,u,r-u)),u=l,4&n.wrap&&(n.flags?d:ew(d))!==n.check){t.msg="incorrect data check",n.mode=16209;break}d=0,c=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;c<32;){if(0===o)break e;o--,d+=i[a++]<<c,c+=8}if(4&n.wrap&&d!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=16209;break}d=0,c=0}n.mode=16208;case 16208:k=ec;break e;case 16209:k=ep;break e;case 16210:return ef;default:return eu}return t.next_out=r,t.avail_out=l,t.next_in=a,t.avail_in=o,n.hold=d,n.bits=c,(n.wsize||u!==t.avail_out&&n.mode<16209&&(n.mode<16206||e!==er))&&eS(t,t.output,t.next_out,u-t.avail_out),h-=t.avail_in,u-=t.avail_out,t.total_in+=h,t.total_out+=u,n.total+=u,4&n.wrap&&u&&(t.adler=n.check=n.flags?Y(n.check,s,u,t.next_out-u):V(n.check,s,u,t.next_out-u)),t.data_type=n.bits+(n.last?64:0)+(16191===n.mode?128:0)+(16199===n.mode||16194===n.mode?256:0),(0===h&&0===u||e===er)&&k===ed&&(k=eg),k},inflateEnd:t=>{if(eb(t))return eu;let e=t.state;return e.window&&(e.window=null),t.state=null,ed},inflateGetHeader:(t,e)=>{if(eb(t))return eu;let n=t.state;return(2&n.wrap)==0?eu:(n.head=e,e.done=!1,ed)},inflateSetDictionary:(t,e)=>{let n;let i=e.length;return eb(t)||0!==(n=t.state).wrap&&16190!==n.mode?eu:16190===n.mode&&V(1,e,i,0)!==n.check?ep:eS(t,e,i,i)?(n.mode=16210,ef):(n.havedict=1,ed)}},eO=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const eD=Object.prototype.toString,{Z_NO_FLUSH:ez,Z_FINISH:eC,Z_OK:eL,Z_STREAM_END:eN,Z_NEED_DICT:eI,Z_STREAM_ERROR:eT,Z_DATA_ERROR:eR,Z_MEM_ERROR:eF}=K;function ej(t){this.options=tV.assign({chunkSize:65536,windowBits:15,to:""},t||{});let e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(15&e.windowBits)==0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new tG,this.strm.avail_out=0;let n=eA.inflateInit2(this.strm,e.windowBits);if(n!==eL||(this.header=new eO,eA.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=tK.string2buf(e.dictionary):"[object ArrayBuffer]"===eD.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=eA.inflateSetDictionary(this.strm,e.dictionary))!==eL)))throw Error(J[n])}function eP(t,e){let n=new ej(e);if(n.push(t),n.err)throw n.msg||J[n.err];return n.result}ej.prototype.push=function(t,e){let n,i,s;let a=this.strm,r=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(i=e===~~e?e:!0===e?eC:ez,"[object ArrayBuffer]"===eD.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(r),a.next_out=0,a.avail_out=r),(n=eA.inflate(a,i))===eI&&o&&((n=eA.inflateSetDictionary(a,o))===eL?n=eA.inflate(a,i):n===eR&&(n=eI));a.avail_in>0&&n===eN&&a.state.wrap>0&&0!==t[a.next_in];)eA.inflateReset(a),n=eA.inflate(a,i);switch(n){case eT:case eR:case eI:case eF:return this.onEnd(n),this.ended=!0,!1}if(s=a.avail_out,a.next_out&&(0===a.avail_out||n===eN)){if("string"===this.options.to){let t=tK.utf8border(a.output,a.next_out),e=a.next_out-t,n=tK.buf2string(a.output,t);a.next_out=e,a.avail_out=r-e,e&&a.output.set(a.output.subarray(t,t+e),0),this.onData(n)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out))}if(n!==eL||0!==s){if(n===eN)return n=eA.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},ej.prototype.onData=function(t){this.chunks.push(t)},ej.prototype.onEnd=function(t){t===eL&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=tV.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const{Deflate:eU,deflate:eM,deflateRaw:eW,gzip:eB}={Deflate:t9,deflate:t7,deflateRaw:function(t,e){return(e=e||{}).raw=!0,t7(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,t7(t,e)},constants:K},{Inflate:eZ,inflate:e$,inflateRaw:eH,ungzip:eV}={Inflate:ej,inflate:eP,inflateRaw:function(t,e){return(e=e||{}).raw=!0,eP(t,e)},ungzip:eP,constants:K},eq=window.navigator;function eY(...t){return t.join("-")}async function eJ(t){try{await eq.clipboard.writeText(t)}catch(t){console.error("Could not write to clipboard.",t.message)}}const eK=window.history,eG=window.localStorage,eX=window.location;class eQ{key;#t;#e;constructor(t,e,n={}){if(this.key=t,this.#t=!0===n.ephemeral,this.#e=structuredClone(e),!this.#t&&void 0!==t){let e=eG.getItem(t);if(e){console.debug(`Found local cache for key '${t}'.`,e);try{this.set(JSON.parse(e))}catch(e){console.debug(`Could not parse cache for key '${t}'.`,e.message)}}}let i=n.params??{};for(let t in i){let e=eQ.getParam(i[t]);void 0!==e&&this.set(t,e)}}get(t){return structuredClone(void 0===t?this.#e:this.#e[t])}set(t,e){void 0===e&&(e=t,t=this.key);let n=t===this.key;return e=structuredClone(e),n?this.#e=e:this.#e[t]=e,this.#t||eG.setItem(this.key,JSON.stringify(this.#e)),this.get()}update(t){return this.set(t(this.get()))}static url=new URL(eX);static params=eQ.url.searchParams;static decode(t){return function(t){let e=window.atob((t+"===".slice((t.length+3)%4)).replace(/-/g,"+").replace(/_/g,"/"));return new TextDecoder().decode(e$(Uint8Array.from(e,t=>t.codePointAt(0))))}(t)}static encode(t){return window.btoa(String.fromCodePoint(...eM(new TextEncoder().encode(t)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}static getParam(t){if(eQ.params.has(t.name))return eQ.#n(t,eQ.params.get(t.name))}static getStorage(t){let e=eG.getItem(t.name);if(console.log(t,e),null!==e)return eQ.#n(t,e)}static #n(t,e){let n=t.isEncoded?eQ.decode(e):e;return t.isJson?JSON.parse(n):n}static reload(){eX.assign(eQ.url.search)}static setParam(t,e){eQ.params.has(t.name)&&(t.isJson&&(e=JSON.stringify(e)),t.isEncoded&&(e=eQ.encode(e)),eQ.params.set(t.name,e),eK.pushState({[t.name]:e},"",eQ.url))}static Param=class{name;isEncoded;isJson;constructor(t,e,n){this.name=t,this.isEncoded=!0===e,this.isJson=!0===n}};static Params=Object.freeze({Debug:"debug",Expand:"expand",Id:"id",State:"state",Width:"width"})}const e0=window.console=window.console||{debug:function(){}},e1=e0.debug;function e2(t){e0.debug=t?e1:function(){}}e2(eQ.params.has(eQ.Params.Debug)??!1);const e5="direction",e6="east",e3="north",e8="south",e4="west",e9=Object.freeze({East:eY(e5,e6),North:eY(e5,e3),NorthEast:eY(e5,e3,e6),NorthWest:eY(e5,e3,e4),South:eY(e5,e8),SouthEast:eY(e5,e8,e6),SouthWest:eY(e5,e8,e4),West:eY(e5,e4)});class e7{id;index;#i;#s;constructor(t,e,n){this.id=[t,e].join(","),this.row=Number(t),this.column=Number(e),void 0!==n&&(this.#s=n,this.index=this.row*n+this.column)}add(t){return new e7(this.row+t.row,this.column+t.column,this.#s)}equals(t){return this.id===t?.id}getDirection(t){return this.getNeighbors().find(e=>e.coordinates.equals(t))?.direction}getNeighbors(){return this.#i??(this.#i=e7.getNeighbors(this))}getNeighborsCrossing(t){let e=e7.Crossings[this.getDirection(t)]??[];return this.getNeighbors().filter(t=>e.includes(t.direction))}isNeighbor(t){return this.getNeighbors().some(e=>e.coordinates.equals(t))}toString(){return this.id}static getNeighbors(t){return e7.Neighbors.map(e=>new e7.Neighbor(e.direction,t.add(e.coordinates)))}static Crossings=Object.freeze({[e9.NorthEast]:[e9.North,e9.East],[e9.NorthWest]:[e9.North,e9.West],[e9.SouthEast]:[e9.South,e9.East],[e9.SouthWest]:[e9.South,e9.West]});static Neighbor=class{coordinates;direction;index;constructor(t,e){this.direction=t,this.coordinates=e,this.index=e.index}};static Neighbors=Object.freeze([new e7.Neighbor(e9.East,new e7(0,1)),new e7.Neighbor(e9.North,new e7(-1,0)),new e7.Neighbor(e9.NorthEast,new e7(-1,1)),new e7.Neighbor(e9.NorthWest,new e7(-1,-1)),new e7.Neighbor(e9.South,new e7(1,0)),new e7.Neighbor(e9.SouthEast,new e7(1,1)),new e7.Neighbor(e9.SouthWest,new e7(1,-1)),new e7.Neighbor(e9.West,new e7(0,-1))])}let nt=0;class ne{name;value;constructor(t){this.name=t,this.value=1<<nt++}}class nn{#e;constructor(...t){this.set(...t)}add(...t){return t.forEach(t=>{this.#e|=t.value}),this}get(){return this.#e}has(...t){return t.some(t=>(this.#e&t.value)>0)}remove(...t){return t.forEach(t=>{this.#e&=~t.value}),this}set(...t){return this.#e=0,t.forEach(t=>{"number"==typeof t?this.#e=t:t instanceof nn?this.#e=t.get():t instanceof ne&&this.add(t)}),this}toString(t){return t.flatMap(t=>this.has(t)?[t.name]:[]).join(",")}}class ni{#a=[];#r={context:void 0,element:document};constructor(t={},e=[]){this.#r=Object.assign(this.#r,t),this.add(e)}add(t={},e=[]){Array.isArray(t)&&(e=t,t={}),0!==e.length&&(this.#a=this.#a.concat(e.map(e=>{if((e=Object.assign({},this.#r,t,e)).type)Array.isArray(e.type)||(e.type=[e.type]);else throw Error("Event type is required");return e.context&&(Array.isArray(e.context)||(e.context=[e.context]),e.handler=e.handler.bind(...e.context)),e.type.forEach(t=>e.element.addEventListener(t,e.handler,e.options)),e})))}remove(){this.#a.forEach(t=>t.type.forEach(e=>t.element.removeEventListener(e,t.handler))),this.#a=[]}}const ns=document.getElementById("grid");class na{#o=document.createElement("span");#l=document.createElement("div");#d;#c=new ni({context:this,element:this.#l});#h;constructor(t,e){this.#d=t,this.#h=e,this.#c.add([{type:"pointerdown",handler:this.#u},{type:"pointerenter",handler:this.#u}]),this.#o.className="content";let n=document.createElement("div");n.classList.add("background"),n.append(this.#o),this.#l.append(n),this.update()}equals(t){return this.getIndex()===t.getIndex()}getContent(){return this.#h.content}getCoordinates(){return this.#d}getDirection(t){return this.getCoordinates().getDirection(t.getCoordinates())}getElement(){return this.#l}getFlags(){return this.#h.getFlags()}getIndex(){return this.#h.index}isConnected(t){return this.getFlags().has(na.FlagsByName[this.getDirection(t)])}isNeighbor(t){return this.getCoordinates().isNeighbor(t?.getCoordinates())}reset(){this.update(t=>{let e=new nn,n=t.getFlags();return na.StickyFlags.filter(t=>n.has(t)).forEach(t=>e.add(t)),t.copy({flags:e})})}toString(){return`[${na.Name}:${this.getCoordinates.toString()}]`}update(t){if(void 0!==t){if("function"==typeof t&&(t=t(this.#h)),!(t instanceof na.State))throw Error("Cannot update cell state: value given is not of type Cell.State");this.#h=t}this.#l.className=na.Name,this.#l.dataset.index=this.getIndex();let e=this.getFlags();return Object.values(na.Flags).filter(t=>e.has(t)).forEach(t=>this.#l.classList.add(eY(na.Name,t.name))),this.#o.textContent=this.#h.content,this.#h}#u(t){if("pointerdown"===t.type&&t.target.releasePointerCapture(t.pointerId),t.buttons>0){let e={cell:this,event:t};setTimeout(()=>ns.dispatchEvent(new CustomEvent(na.Events.Select,{detail:e})))}}static Events=Object.freeze({Select:"cell-select"});static Flags=Object.freeze({Active:new ne("active"),DirectionEast:new ne(e9.East),DirectionNorth:new ne(e9.North),DirectionNorthEast:new ne(e9.NorthEast),DirectionNorthWest:new ne(e9.NorthWest),DirectionSouth:new ne(e9.South),DirectionSouthEast:new ne(e9.SouthEast),DirectionSouthWest:new ne(e9.SouthWest),DirectionWest:new ne(e9.West),First:new ne("first"),Last:new ne("last"),Path:new ne("path"),Selected:new ne("selected"),Swap:new ne("swap"),Swapped:new ne("swapped"),Validated:new ne("validated"),WordEnd:new ne("word-end"),WordStart:new ne("word-start")});static FlagsByName=Object.fromEntries(Object.values(na.Flags).map(t=>[t.name,t]));static StickyFlags=Object.freeze([na.Flags.Swapped]);static Name="cell";static State=class{index;content;flags;#p;constructor(t,e,n=0){this.index=t,this.content=e,this.flags=n instanceof nn?n.get():n}copy(t){return new na.State(t.index??this.index,t.content??this.content,t.flags??this.flags)}getFlags(){return this.#p??(this.#p=new nn(this.flags))}}}class nr{character;frequency;points;weight;constructor(t){this.character=t,this.frequency=nr.frequencies[t],this.points=nr.pointTiers.reduce((t,e)=>t+(this.frequency<e?1:0),1);let e=nr.characters.slice(0,nr.characters.indexOf(t)+1);this.weight=e.reduce((t,e)=>t+nr.frequencies[e],0)}static frequencies=Object.freeze({a:.08167,b:.01492,c:.02782,d:.04253,e:.12702,f:.02228,g:.02015,h:.06094,i:.06966,j:.00153,k:.00772,l:.04025,m:.02406,n:.06749,o:.07507,p:.01929,q:95e-5,r:.05987,s:.06327,t:.09056,u:.02758,v:.00978,w:.0236,x:.0015,y:.01974,z:74e-5});static characters=Object.freeze(Object.keys(nr.frequencies));static pointTiers=[.1,.5,1,4,8].map(t=>t/100)}const no=Object.fromEntries(nr.characters.map(t=>[t,new nr(t)])),nl=Object.values(no),nd=document.getElementById("letter-points"),nc={};for(const t in nl.forEach(t=>(nc[t.points]??(nc[t.points]=[])).push(t)),nc){let e=document.createElement("li"),n=document.createElement("span");n.classList.add("points"),n.textContent=`${t} Point${t>1?"s":""}:`;let i=document.createElement("span");i.classList.add("letters"),i.textContent=nc[t].map(t=>t.character).join(", "),e.append(n,i),nd.append(e)}class nh{content;indexes=[];points;constructor(t,e){let n=[],i=[];e.forEach(t=>{let e=t.getContent();n.push(e);let s=no[e];t.getFlags().has(na.Flags.Swapped)||i.push(s),this.indexes.push(t.getIndex())}),this.content=n.join("");let s=Math.floor(i.length/nh.widthMultiplier(t));this.points=i.reduce((t,e)=>t+e.points,0)*s}static widthMultiplier(t){return Math.floor(t/2)}static minimumLength=3}class nu{constructor(t,e){this.start=t,this.end=e}contains(t){return t>=this.start&&t<=this.end}}class np{name;url;constructor(t,e){this.name=t,this.url=e}}const nf=Object.freeze({Default:"default",Profanity:"profanity"}),ng=Object.freeze({Default:new np(nf.Default,"https://raw.githubusercontent.com/kflorence/word-list/main/words.txt?v=1"),Profanity:new np(nf.Profanity,"https://raw.githubusercontent.com/kflorence/word-list/main/words-profanity.txt?v=1")});class nm{dictionaries={};values=[];async load(t){if(this.dictionaries[t.name]){console.debug(`Dictionary '${t.name}' has already been loaded.`);return}console.debug(`Words is loading dictionary '${t.name}' from URL: '${t.url}'`);try{let e=await fetch(t.url,{cache:"force-cache"}),n=await e.text(),i=this.values.length-1;this.values=Array.from(new Set(this.values.concat(n.split("\n").filter(t=>t.length>=nh.minimumLength)))),this.dictionaries[t.name]=new nu(i,this.values.length-1),console.debug(`Words loaded. New word count: ${this.values.length}`)}catch(e){console.error(`Could not load words for dictionary '${t.name}' from URL '${t.url}'`,e.message)}}getRandom(t,e){let n=Array.from(this.values),i=0,s=[];return function a(){let r=e-i-nh.minimumLength;r>=nh.minimumLength?n=n.filter(t=>t.length<=r):(r+=nh.minimumLength,n=n.filter(t=>t.length===r)),console.debug(`getWords ${s.length}: count = ${i}/${e}, maximumWordLength = ${r}, availableWords = ${n.length}`);let o=Math.floor(t()*n.length),l=n[o];return(n.splice(o,1),console.debug(`getWords picked word '${l}' at index ${o}.`),s.push(l),(i+=l.length)===e)?(console.debug(`getWords result: ${s.join(", ")}`),s):a()}()}getDictionary(t){let e=this.values.indexOf(t);if(!(e<0)){for(let t in this.dictionaries)if(this.dictionaries[t].contains(e))return t}}isValid(t){return t.length>=nh.minimumLength&&this.values.includes(t)}unload(t){let e=this.dictionaries[t.name];e&&(console.debug(`Unloading dictionary '${t.name}'. Current length: ${this.values.length}`),this.values.splice(e.start,e.end-e.start+1),delete this.dictionaries[t.name],console.debug(`Done unloading. New length: ${this.values.length}`))}}const nw=document.getElementById("grid");class n_{ephemeral;id;size;width;#f;#g=[];#m=[];#c=new ni({context:this,element:nw});#w=-1;#_;#b;#v;#y=[];#x;#h;#k;constructor(t){let e=eQ.params.has(eQ.Params.State),n=e?n_.#E.fromState(eQ.getParam(n_.StateParam)):n_.#E.fromParams();if(e){let t=eQ.getStorage(new eQ.Param(n.getSeed(),!1,!0))??{best:0};n.best=t.best}this.ephemeral=e,this.id=n.id,this.width=n.width,this.size=this.width*this.width,this.#b=n.getSeed(),this.#_=n_.splitmix32(this.#b),this.#h=new eQ(this.#b,n,{ephemeral:e}),this.#k=t,nw.dataset.width=this.width,this.#c.add([{type:na.Events.Select,handler:this.#u},{type:"pointerup",element:document,handler:this.#S}])}getDictionaries(){return Array.from(new Set([nf.Default].concat(this.#A().dictionary))).sort()}getMoves(){return this.#A().moves}getSeedWords(){return Array.from(this.#v)}getSelection(){return Array.from(this.#y)}getState(){return eQ.encode(JSON.stringify(this.#h.get()))}getStatistics(t){return t??=this.#A(),new n_.Statistics(t,this.getWords(t),this.size)}getSwaps(){return this.#A().swaps.map(t=>t.map(t=>{let e=this.#g[t],n=this.#m[t].content,i=e.getCoordinates().toString();return`${n} (${i})`}))}getWords(t){return(t??this.#A()).words.map(t=>new nh(this.width,t.map(t=>this.#g[t])))}removeSwap(t){let e=this.#A(),n=e.swaps.splice(t,1)[0],i=[n_.Moves.Swap,t].join(":"),s=e.moves.findIndex(t=>i===t);e.moves.splice(s,1),this.#O(e);let a=e.words.findIndex(t=>n.some(e=>t.indexOf(e)>=0));a>=0&&this.removeWord(a),this.#D(n)}removeWord(t){let e=this.#A(),n=e.words.splice(t)[0],i=e.path.findIndex(t=>n.indexOf(t)>=0),s=e.path.splice(i);e.dictionary.splice(t),e.moves=e.moves.filter(e=>{let[n,i]=e.split(":");return!(n===n_.Moves.Spell&&i>=t)}),this.#O(e);let a=e.path[e.path.length-1];void 0!==a&&s.push(a),this.#D(s)}reset(){this.#O(new n_.#E(this.id,this.width)),this.#D(n_.getIndexes(this.#g))}setup(){this.#v=this.#k.getRandom(this.#_,this.size);let t=this.#v.join("").split(""),e=[];for(let n=0;n<this.size;n++){e.push(n);let i=new e7(Math.floor(n/this.width),n%this.width,this.width),s=Math.floor(this.#_()*t.length),a=t.splice(s,1)[0],r=new na.State(n,a),o=new na(i,r);this.#g.push(o),this.#m.push(r)}this.#D(e),nw.replaceChildren(...this.#g.map(t=>t.getElement())),nw.classList.remove(n_.ClassNames.Loading)}undo(){if(this.#y.length){this.#z(this.#y.splice(0));return}let t=this.#A();if(0===t.moves.length)return;let[e,n]=t.moves[t.moves.length-1].split(":");switch(e){case n_.Moves.Spell:this.removeWord(n);break;case n_.Moves.Swap:this.removeSwap(n)}}#C(t){this.#L(),t.update(t=>t.copy({flags:t.getFlags().add(na.Flags.Active)})),this.#f=t}#N(t){let e=this.#y[this.#I(t)];if(e){let n=t.getDirection(e);t.update(t=>t.copy({flags:t.getFlags().add(na.FlagsByName[n])}))}}#L(){this.#f&&(this.#f.update(t=>t.copy({flags:t.getFlags().remove(na.Flags.Active)})),this.#f=void 0)}#z(t){t.forEach(t=>t.reset());let e=this.#T();e&&this.#D([e.getIndex()]),this.#R(n_.Events.Selection)}#R(t,e=null){let n=new CustomEvent(t,{detail:e});setTimeout(()=>document.dispatchEvent(n))}#T(){let t=this.#A();return this.#g[t.path[t.path.length-1]]}#I(t){if(0===this.#y.length||!(t??=this.#T()))return;let e=[0],n=this.#y.length-1;return 0!==n&&e.push(n),e.find(e=>{let n=this.#y[e];return!n.getFlags().has(na.Flags.Swap)&&this.#F(t,n)})??-1}#A(){return n_.#E.fromState(this.#h.get())}#j(t,e){let[n,i]=t.getCoordinates().getNeighborsCrossing(e.getCoordinates()).map(t=>this.#g[t.index]);return n?.isConnected(i)||i?.isConnected(n)||!1}#F(t,e){return t?.isNeighbor(e)&&!this.#j(t,e)}#S(t){if(this.#L(),!this.#x){t.target.closest("#grid")||t.target.closest("#undo")||this.#z(this.#y.splice(0));return}let e=this.#y.length;e-this.#x.length>1?this.#P():2===e&&this.#y[e-1].getFlags().has(na.Flags.Swap)&&this.#U(...this.#y.splice(0)),this.#x=void 0}#u(t){if(!this.#x&&"pointerdown"!==t.detail.event.type){console.debug("Ignoring cell events prior to pointerdown.");return}let e=t.detail.cell;if(this.#C(e),e.getFlags().has(na.Flags.Validated))return;let n=void 0!==this.#x;if(n){if(0===this.#y.length){console.debug("SelectMultiple: Selection was cleared during multi-select. Wait for pointerup before continuing.");return}}else this.#x=new n_.SelectionStart(t,this.#y.length);let i=[],s=this.#y[this.#y.length-1],a=this.#y.findIndex(t=>t.equals(e));if(s?.getFlags().has(na.Flags.Swap))this.#M(e,s,i,a,n);else{let t=e.isNeighbor(s),r=this.#F(s,e);n?this.#W(e,s,i,a,r):this.#B(e,s,i,a,t,r)}i.includes(na.Flags.Path)&&i.push(na.FlagsByName[e.getDirection(s)],na.Flags.Selected);let r=this.#T();r&&(this.#D([r.getIndex()]),this.#y.length&&!i.includes(na.Flags.Swap)&&this.#N(r)),i.length&&(e.update(t=>t.copy({flags:t.getFlags().add(...i)})),this.#R(n_.Events.Selection))}#W(t,e,n,i,s){i>=0?(console.debug("SelectMultiple: Re-selecting a previously selected cell. De-select everything after it."),this.#z(this.#y.splice(i+1))):s?(console.debug("SelectMultiple: A valid new cell has been selected."),this.#y.push(t),n.push(na.Flags.Path)):console.debug("SelectMultiple: Invalid cell selected. Ignoring.")}#B(t,e,n,i,s,a){if(i>=0){if(1!==this.#y.length||t.getFlags().has(na.Flags.Swapped)){let t=this.#y.length-1;this.#y.length>=nh.minimumLength&&i===t?(console.debug("SelectSingle: Submitting selection for validation."),this.#P()):(console.debug("SelectSingle: Re-selecting a previously selected cell. De-select everything after it."),this.#z(this.#y.splice(i+1)))}else console.debug("SelectSingle: A non-swapped selected cell has been re-tapped. Mark for swap."),n.push(na.Flags.Swap)}else s?a?(console.debug("SelectSingle: A valid new cell has been selected."),this.#y.push(t),n.push(na.Flags.Path)):console.debug("SelectSingle: Invalid cell selected. Ignoring."):(this.#y.length&&(console.debug("SelectSingle: A non-neighboring cell has been selected. De-select everything else."),this.#z(this.#y.splice(0))),this.#y.push(t),n.push(na.Flags.Selected))}#M(t,e,n,i,s){s?(console.debug("Swap: Multiple target cells selected. De-selecting everything except source cell."),this.#z(this.#y.splice(1))):t.getFlags().has(na.Flags.Swap,na.Flags.Swapped)||t.getContent()===e.getContent()?(console.debug("Swap: Invalid target cell selected. Cancelling swap."),this.#z(this.#y.splice(0))):t.getFlags().has(na.Flags.Swapped)||(console.debug("Swap: Valid target cell selected. Initiating swap."),n.push(na.Flags.Swap),this.#y.push(t))}#O(t){this.#h.set(t),this.ephemeral&&eQ.setParam(n_.StateParam,t)}#U(t,e){let n=this.#A(),i=[t.getIndex(),e.getIndex()];n.swaps.push(i),n.moves.push([n_.Moves.Swap,n.swaps.length-1].join(":")),this.#O(n),this.#D(i)}#D(t){let e=this.#A(),n=e.path.length-1;if(t.forEach(t=>{let i=this.#g[t],s=this.#m[t].content,a=new nn,r=e.swaps.find(e=>e.includes(t));if(r){a.add(na.Flags.Swapped);let e=0===r.indexOf(t)?r[1]:r[0];s=this.#m[e].content}let o=e.path.indexOf(t);if(o>=0){a.add(na.Flags.Path);let s=e.path[o+1];if(void 0!==s){let t=this.#g[s];a.add(na.FlagsByName[i.getDirection(t)])}0===o&&a.add(na.Flags.First),o===n&&(n!==this.#w&&this.#w>=0&&this.#g[this.#w].update(t=>t.copy({flags:t.getFlags().remove(na.Flags.Last)})),a.add(na.Flags.Last));let r=e.words.find(e=>e.includes(t));if(r){a.add(na.Flags.Validated);let n=r.length-1,i=(e.path.indexOf(r[0])>e.path.indexOf(r[n])?Array.from(r).reverse():r).indexOf(t);0===i?a.add(na.Flags.WordStart):i===n&&a.add(na.Flags.WordEnd)}}i.update(t=>t.copy({content:s,flags:a}))}),this.#w=n,!this.ephemeral){let t=this.getStatistics(e);t.score>e.best&&(e.best=t.score,this.#O(e))}this.#R(n_.Events.Update)}#P(){let t=n_.getIndexes(this.#y),e=this.#T();if(e){let n=this.#I(e);n<0?(console.debug("Unable to anchor selection to existing path."),t.splice(0)):0!==n?(console.debug("Anchoring selection at end."),t.reverse()):console.debug("Anchoring selection at beginning.")}if(t.length){let e=Array.from(this.#y),n=n_.getContent(e);if(this.#k.isValid(n)||(n=n_.getContent(e.reverse())),this.#k.isValid(n)){let i=this.#A();i.path.push(...t),i.words.push(n_.getIndexes(e)),i.dictionary.push(this.#k.getDictionary(n)),i.moves.push([n_.Moves.Spell,i.words.length-1].join(":")),this.#O(i)}}let n=e?t.concat([e.getIndex()]):t;this.#z(this.#y.splice(0)),this.#D(n)}static cyrb53=function(t,e=0){let n=3735928559^e,i=1103547991^e;for(let e=0,s;e<t.length;e++)n=Math.imul(n^(s=t.charCodeAt(e)),2654435761),i=Math.imul(i^s,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),4294967296*(2097151&(i=Math.imul(i^i>>>16,2246822507)^Math.imul(n^n>>>13,3266489909)))+(n>>>0)};static getIndexes(t){return t.map(t=>t.getIndex())}static getContent(t){return t.map(t=>t.getContent()).join("")}static splitmix32(t){return function(){t|=0;let e=(t=t+2654435769|0)^t>>>16;return e=Math.imul(e,569420461),e^=e>>>15,(((e=Math.imul(e,1935289751))^e>>>15)>>>0)/4294967296}}static Moves=Object.freeze({Spell:"spell",Swap:"swap"});static Name="grid";static ClassNames=Object.freeze({Loading:eY(n_.Name,"loading")});static DefaultId=(()=>{let t=new Date,e=t.getFullYear(),n=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0");return`${e}-${n}-${i}`})();static DefaultWidth=5;static Events=Object.freeze({Selection:eY(n_.Name,"selection"),Update:eY(n_.Name,"update")});static Today=Date.parse(n_.DefaultId);static Widths=Object.freeze([5,7,9]);static SelectionStart=class{event;length;constructor(t,e){this.event=t,this.length=e}};static #E=class{best;dictionary;id;moves;path;swaps;width;words;constructor(t,e,n,i,s,a,r,o){this.best=r??0,this.dictionary=o??[],this.id=t,this.width=n_.Widths.includes(e)?e:n_.DefaultWidth,this.path=n??[],this.swaps=i??[],this.words=s??[],this.moves=a??[]}getSeed(){return n_.cyrb53([this.id,this.width].join(","))}static fromParams(){let t=eQ.params.get(eQ.Params.Id);if(null!==t){let e=Date.parse(t);!isNaN(e)&&e>n_.Today&&(console.debug("The provided ID is for a future date, defaulting to the ID for today.",t),t=n_.DefaultId)}else t=n_.DefaultId;let e=eQ.params.get(eQ.Params.Width);return new n_.#E(t,Number(e))}static fromState(t){return new n_.#E(t.id,t.width,t.path,t.swaps,t.words,t.moves,t.best,t.dictionary)}};static Rating=class{description;emoji;constructor(t,e){this.description=t,this.emoji=e}};static StateParam=new eQ.Param(eQ.Params.State,!0,!0);static Statistics=class{averageWordLength;best;bestDiff;moves;progress;rating;score;swapCount;wordCount;constructor(t,e,n){let{length:i,points:s}=e.reduce((t,e)=>({length:t.length+e.content.length,points:t.points+e.points}),{length:0,points:0}),a=s+(i===n?n:0),r=t.best-a;this.averageWordLength=0===i?0:(i/e.length).toPrecision(2),this.best=t.best,this.bestDiff=0===r?"=":r<0?r:`+${r}`,this.moves=t.moves.map(t=>t.split(":")[0]),this.progress=Math.trunc(t.path.length/n*100),this.score=a;let o=Math.min(n_.Statistics.Ratings.length-1,Math.floor(this.score/n));this.rating=69===s?new n_.Rating("Heh","\uD83D\uDE0F"):n_.Statistics.Ratings[o],this.swapCount=t.swaps.length,this.wordCount=e.length}static Ratings=Object.freeze([new n_.Rating("Hmm","\uD83E\uDD14"),new n_.Rating("Meh","\uD83D\uDE10"),new n_.Rating("Whew","\uD83D\uDE05"),new n_.Rating("Great","\uD83E\uDD73"),new n_.Rating("Wow","\uD83E\uDD2F")])}}const nb=document.getElementById("grid-size-multipliers");function nv(t){return t?(t.nodeName||"").toLowerCase():null}function ny(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function nx(t){var e=ny(t).Element;return t instanceof e||t instanceof Element}function nk(t){var e=ny(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function nE(t){if("undefined"==typeof ShadowRoot)return!1;var e=ny(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}n_.Widths.forEach(t=>{let e=document.createElement("li");e.textContent=`${t}x${t} = ${nh.widthMultiplier(t)}`,nb.append(e)});var nS={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},s=e.elements[t];nk(s)&&nv(s)&&(Object.assign(s.style,n),Object.keys(i).forEach(function(t){var e=i[t];!1===e?s.removeAttribute(t):s.setAttribute(t,!0===e?"":e)}))})},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(t){var i=e.elements[t],s=e.attributes[t]||{},a=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce(function(t,e){return t[e]="",t},{});nk(i)&&nv(i)&&(Object.assign(i.style,a),Object.keys(s).forEach(function(t){i.removeAttribute(t)}))})}},requires:["computeStyles"]},nA=Math.max,nO=Math.min,nD=Math.round;function nz(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function nC(){return!/^((?!chrome|android).)*safari/i.test(nz())}function nL(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i=t.getBoundingClientRect(),s=1,a=1;e&&nk(t)&&(s=t.offsetWidth>0&&nD(i.width)/t.offsetWidth||1,a=t.offsetHeight>0&&nD(i.height)/t.offsetHeight||1);var r=(nx(t)?ny(t):window).visualViewport,o=!nC()&&n,l=(i.left+(o&&r?r.offsetLeft:0))/s,d=(i.top+(o&&r?r.offsetTop:0))/a,c=i.width/s,h=i.height/a;return{width:c,height:h,top:d,right:l+c,bottom:d+h,left:l,x:l,y:d}}function nN(t){var e=ny(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function nI(t){return((nx(t)?t.ownerDocument:t.document)||window.document).documentElement}function nT(t){return nL(nI(t)).left+nN(t).scrollLeft}function nR(t){return ny(t).getComputedStyle(t)}function nF(t){var e=nR(t),n=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+i)}function nj(t){var e=nL(t),n=t.offsetWidth,i=t.offsetHeight;return 1>=Math.abs(e.width-n)&&(n=e.width),1>=Math.abs(e.height-i)&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function nP(t){return"html"===nv(t)?t:t.assignedSlot||t.parentNode||(nE(t)?t.host:null)||nI(t)}function nU(t,e){void 0===e&&(e=[]);var n,i=function t(e){return["html","body","#document"].indexOf(nv(e))>=0?e.ownerDocument.body:nk(e)&&nF(e)?e:t(nP(e))}(t),s=i===(null==(n=t.ownerDocument)?void 0:n.body),a=ny(i),r=s?[a].concat(a.visualViewport||[],nF(i)?i:[]):i,o=e.concat(r);return s?o:o.concat(nU(nP(r)))}function nM(t){return nk(t)&&"fixed"!==nR(t).position?t.offsetParent:null}function nW(t){for(var e=ny(t),n=nM(t);n&&["table","td","th"].indexOf(nv(n))>=0&&"static"===nR(n).position;)n=nM(n);return n&&("html"===nv(n)||"body"===nv(n)&&"static"===nR(n).position)?e:n||function(t){var e=/firefox/i.test(nz());if(/Trident/i.test(nz())&&nk(t)&&"fixed"===nR(t).position)return null;var n=nP(t);for(nE(n)&&(n=n.host);nk(n)&&0>["html","body"].indexOf(nv(n));){var i=nR(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||e&&"filter"===i.willChange||e&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(t)||e}var nB="bottom",nZ="right",n$="left",nH="auto",nV=["top",nB,nZ,n$],nq="start",nY="viewport",nJ="popper",nK=nV.reduce(function(t,e){return t.concat([e+"-"+nq,e+"-end"])},[]),nG=[].concat(nV,[nH]).reduce(function(t,e){return t.concat([e,e+"-"+nq,e+"-end"])},[]),nX=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],nQ={placement:"bottom",modifiers:[],strategy:"absolute"};function n0(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(t){return!(t&&"function"==typeof t.getBoundingClientRect)})}var n1={passive:!0};function n2(t){return t.split("-")[0]}function n5(t){return t.split("-")[1]}function n6(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function n3(t){var e,n=t.reference,i=t.element,s=t.placement,a=s?n2(s):null,r=s?n5(s):null,o=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(a){case"top":e={x:o,y:n.y-i.height};break;case nB:e={x:o,y:n.y+n.height};break;case nZ:e={x:n.x+n.width,y:l};break;case n$:e={x:n.x-i.width,y:l};break;default:e={x:n.x,y:n.y}}var d=a?n6(a):null;if(null!=d){var c="y"===d?"height":"width";switch(r){case nq:e[d]=e[d]-(n[c]/2-i[c]/2);break;case"end":e[d]=e[d]+(n[c]/2-i[c]/2)}}return e}var n8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function n4(t){var e,n,i,s,a,r,o,l=t.popper,d=t.popperRect,c=t.placement,h=t.variation,u=t.offsets,p=t.position,f=t.gpuAcceleration,g=t.adaptive,m=t.roundOffsets,w=t.isFixed,_=u.x,b=void 0===_?0:_,v=u.y,y=void 0===v?0:v,x="function"==typeof m?m({x:b,y:y}):{x:b,y:y};b=x.x,y=x.y;var k=u.hasOwnProperty("x"),E=u.hasOwnProperty("y"),S=n$,A="top",O=window;if(g){var D=nW(l),z="clientHeight",C="clientWidth";D===ny(l)&&"static"!==nR(D=nI(l)).position&&"absolute"===p&&(z="scrollHeight",C="scrollWidth"),("top"===c||(c===n$||c===nZ)&&"end"===h)&&(A=nB,y-=(w&&D===O&&O.visualViewport?O.visualViewport.height:D[z])-d.height,y*=f?1:-1),(c===n$||("top"===c||c===nB)&&"end"===h)&&(S=nZ,b-=(w&&D===O&&O.visualViewport?O.visualViewport.width:D[C])-d.width,b*=f?1:-1)}var L=Object.assign({position:p},g&&n8),N=!0===m?(e={x:b,y:y},n=ny(l),i=e.x,s=e.y,{x:nD(i*(a=n.devicePixelRatio||1))/a||0,y:nD(s*a)/a||0}):{x:b,y:y};return(b=N.x,y=N.y,f)?Object.assign({},L,((o={})[A]=E?"0":"",o[S]=k?"0":"",o.transform=1>=(O.devicePixelRatio||1)?"translate("+b+"px, "+y+"px)":"translate3d("+b+"px, "+y+"px, 0)",o)):Object.assign({},L,((r={})[A]=E?y+"px":"",r[S]=k?b+"px":"",r.transform="",r))}var n9={left:"right",right:"left",bottom:"top",top:"bottom"};function n7(t){return t.replace(/left|right|bottom|top/g,function(t){return n9[t]})}var it={start:"end",end:"start"};function ie(t){return t.replace(/start|end/g,function(t){return it[t]})}function ii(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&nE(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function is(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ia(t,e,n){var i,s,a,r,o,l,d,c,h,u;return e===nY?is(function(t,e){var n=ny(t),i=nI(t),s=n.visualViewport,a=i.clientWidth,r=i.clientHeight,o=0,l=0;if(s){a=s.width,r=s.height;var d=nC();(d||!d&&"fixed"===e)&&(o=s.offsetLeft,l=s.offsetTop)}return{width:a,height:r,x:o+nT(t),y:l}}(t,n)):nx(e)?((i=nL(e,!1,"fixed"===n)).top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i):is((s=nI(t),r=nI(s),o=nN(s),l=null==(a=s.ownerDocument)?void 0:a.body,d=nA(r.scrollWidth,r.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),c=nA(r.scrollHeight,r.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),h=-o.scrollLeft+nT(s),u=-o.scrollTop,"rtl"===nR(l||r).direction&&(h+=nA(r.clientWidth,l?l.clientWidth:0)-d),{width:d,height:c,x:h,y:u}))}function ir(){return{top:0,right:0,bottom:0,left:0}}function io(t){return Object.assign({},ir(),t)}function il(t,e){return e.reduce(function(e,n){return e[n]=t,e},{})}function id(t,e){void 0===e&&(e={});var n,i,s,a,r,o,l,d,c=e,h=c.placement,u=void 0===h?t.placement:h,p=c.strategy,f=void 0===p?t.strategy:p,g=c.boundary,m=c.rootBoundary,w=c.elementContext,_=void 0===w?nJ:w,b=c.altBoundary,v=c.padding,y=void 0===v?0:v,x=io("number"!=typeof y?y:il(y,nV)),k=t.rects.popper,E=t.elements[void 0!==b&&b?_===nJ?"reference":nJ:_],S=(n=nx(E)?E:E.contextElement||nI(t.elements.popper),i=void 0===g?"clippingParents":g,s=void 0===m?nY:m,l=(o=[].concat("clippingParents"===i?(a=nU(nP(n)),nx(r=["absolute","fixed"].indexOf(nR(n).position)>=0&&nk(n)?nW(n):n)?a.filter(function(t){return nx(t)&&ii(t,r)&&"body"!==nv(t)}):[]):[].concat(i),[s]))[0],(d=o.reduce(function(t,e){var i=ia(n,e,f);return t.top=nA(i.top,t.top),t.right=nO(i.right,t.right),t.bottom=nO(i.bottom,t.bottom),t.left=nA(i.left,t.left),t},ia(n,l,f))).width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d),A=nL(t.elements.reference),O=n3({reference:A,element:k,strategy:"absolute",placement:u}),D=is(Object.assign({},k,O)),z=_===nJ?D:A,C={top:S.top-z.top+x.top,bottom:z.bottom-S.bottom+x.bottom,left:S.left-z.left+x.left,right:z.right-S.right+x.right},L=t.modifiersData.offset;if(_===nJ&&L){var N=L[u];Object.keys(C).forEach(function(t){var e=[nZ,nB].indexOf(t)>=0?1:-1,n=["top",nB].indexOf(t)>=0?"y":"x";C[t]+=N[n]*e})}return C}function ic(t,e,n){return nA(t,nO(e,n))}function ih(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function iu(t){return["top",nZ,nB,n$].some(function(e){return t[e]>=0})}var ip=(B=void 0===(W=(M={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,i=t.options,s=i.scroll,a=void 0===s||s,r=i.resize,o=void 0===r||r,l=ny(e.elements.popper),d=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&d.forEach(function(t){t.addEventListener("scroll",n.update,n1)}),o&&l.addEventListener("resize",n.update,n1),function(){a&&d.forEach(function(t){t.removeEventListener("scroll",n.update,n1)}),o&&l.removeEventListener("resize",n.update,n1)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=n3({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,i=n.gpuAcceleration,s=n.adaptive,a=n.roundOffsets,r=void 0===a||a,o={placement:n2(e.placement),variation:n5(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:void 0===i||i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,n4(Object.assign({},o,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:void 0===s||s,roundOffsets:r})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,n4(Object.assign({},o,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:r})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},nS,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,i=t.name,s=n.offset,a=void 0===s?[0,0]:s,r=nG.reduce(function(t,n){var i,s,r,o,l,d;return t[n]=(i=e.rects,r=[n$,"top"].indexOf(s=n2(n))>=0?-1:1,l=(o="function"==typeof a?a(Object.assign({},i,{placement:n})):a)[0],d=o[1],l=l||0,d=(d||0)*r,[n$,nZ].indexOf(s)>=0?{x:d,y:l}:{x:l,y:d}),t},{}),o=r[e.placement],l=o.x,d=o.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=d),e.modifiersData[i]=r}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var s=n.mainAxis,a=void 0===s||s,r=n.altAxis,o=void 0===r||r,l=n.fallbackPlacements,d=n.padding,c=n.boundary,h=n.rootBoundary,u=n.altBoundary,p=n.flipVariations,f=void 0===p||p,g=n.allowedAutoPlacements,m=e.options.placement,w=n2(m)===m,_=l||(w||!f?[n7(m)]:function(t){if(n2(t)===nH)return[];var e=n7(t);return[ie(t),e,ie(e)]}(m)),b=[m].concat(_).reduce(function(t,n){var i,s,a,r,o,l,u,p,m,w,_,b;return t.concat(n2(n)===nH?(s=(i={placement:n,boundary:c,rootBoundary:h,padding:d,flipVariations:f,allowedAutoPlacements:g}).placement,a=i.boundary,r=i.rootBoundary,o=i.padding,l=i.flipVariations,p=void 0===(u=i.allowedAutoPlacements)?nG:u,0===(_=(w=(m=n5(s))?l?nK:nK.filter(function(t){return n5(t)===m}):nV).filter(function(t){return p.indexOf(t)>=0})).length&&(_=w),Object.keys(b=_.reduce(function(t,n){return t[n]=id(e,{placement:n,boundary:a,rootBoundary:r,padding:o})[n2(n)],t},{})).sort(function(t,e){return b[t]-b[e]})):n)},[]),v=e.rects.reference,y=e.rects.popper,x=new Map,k=!0,E=b[0],S=0;S<b.length;S++){var A=b[S],O=n2(A),D=n5(A)===nq,z=["top",nB].indexOf(O)>=0,C=z?"width":"height",L=id(e,{placement:A,boundary:c,rootBoundary:h,altBoundary:u,padding:d}),N=z?D?nZ:n$:D?nB:"top";v[C]>y[C]&&(N=n7(N));var I=n7(N),T=[];if(a&&T.push(L[O]<=0),o&&T.push(L[N]<=0,L[I]<=0),T.every(function(t){return t})){E=A,k=!1;break}x.set(A,T)}if(k)for(var R=f?3:1,F=function(t){var e=b.find(function(e){var n=x.get(e);if(n)return n.slice(0,t).every(function(t){return t})});if(e)return E=e,"break"},j=R;j>0&&"break"!==F(j);j--);e.placement!==E&&(e.modifiersData[i]._skip=!0,e.placement=E,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name,s=n.mainAxis,a=n.altAxis,r=n.boundary,o=n.rootBoundary,l=n.altBoundary,d=n.padding,c=n.tether,h=void 0===c||c,u=n.tetherOffset,p=void 0===u?0:u,f=id(e,{boundary:r,rootBoundary:o,padding:d,altBoundary:l}),g=n2(e.placement),m=n5(e.placement),w=!m,_=n6(g),b="x"===_?"y":"x",v=e.modifiersData.popperOffsets,y=e.rects.reference,x=e.rects.popper,k="function"==typeof p?p(Object.assign({},e.rects,{placement:e.placement})):p,E="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),S=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,A={x:0,y:0};if(v){if(void 0===s||s){var O,D="y"===_?"top":n$,z="y"===_?nB:nZ,C="y"===_?"height":"width",L=v[_],N=L+f[D],I=L-f[z],T=h?-x[C]/2:0,R=m===nq?y[C]:x[C],F=m===nq?-x[C]:-y[C],j=e.elements.arrow,P=h&&j?nj(j):{width:0,height:0},U=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ir(),M=U[D],W=U[z],B=ic(0,y[C],P[C]),Z=w?y[C]/2-T-B-M-E.mainAxis:R-B-M-E.mainAxis,$=w?-y[C]/2+T+B+W+E.mainAxis:F+B+W+E.mainAxis,H=e.elements.arrow&&nW(e.elements.arrow),V=H?"y"===_?H.clientTop||0:H.clientLeft||0:0,q=null!=(O=null==S?void 0:S[_])?O:0,Y=ic(h?nO(N,L+Z-q-V):N,L,h?nA(I,L+$-q):I);v[_]=Y,A[_]=Y-L}if(void 0!==a&&a){var J,K,G="x"===_?"top":n$,X="x"===_?nB:nZ,Q=v[b],tt="y"===b?"height":"width",te=Q+f[G],tn=Q-f[X],ti=-1!==["top",n$].indexOf(g),ts=null!=(K=null==S?void 0:S[b])?K:0,ta=ti?te:Q-y[tt]-x[tt]-ts+E.altAxis,tr=ti?Q+y[tt]+x[tt]-ts-E.altAxis:tn,to=h&&ti?(J=ic(ta,Q,tr))>tr?tr:J:ic(h?ta:te,Q,h?tr:tn);v[b]=to,A[b]=to-Q}e.modifiersData[i]=A}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,i=t.name,s=t.options,a=n.elements.arrow,r=n.modifiersData.popperOffsets,o=n2(n.placement),l=n6(o),d=[n$,nZ].indexOf(o)>=0?"height":"width";if(a&&r){var c,h=io("number"!=typeof(c="function"==typeof(c=s.padding)?c(Object.assign({},n.rects,{placement:n.placement})):c)?c:il(c,nV)),u=nj(a),p="y"===l?"top":n$,f="y"===l?nB:nZ,g=n.rects.reference[d]+n.rects.reference[l]-r[l]-n.rects.popper[d],m=r[l]-n.rects.reference[l],w=nW(a),_=w?"y"===l?w.clientHeight||0:w.clientWidth||0:0,b=h[p],v=_-u[d]-h[f],y=_/2-u[d]/2+(g/2-m/2),x=ic(b,y,v);n.modifiersData[i]=((e={})[l]=x,e.centerOffset=x-y,e)}},effect:function(t){var e=t.state,n=t.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=e.elements.popper.querySelector(i)))&&ii(e.elements.popper,i)&&(e.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,i=e.rects.reference,s=e.rects.popper,a=e.modifiersData.preventOverflow,r=id(e,{elementContext:"reference"}),o=id(e,{altBoundary:!0}),l=ih(r,i),d=ih(o,s,a),c=iu(l),h=iu(d);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}}]}).defaultModifiers)?[]:W,$=void 0===(Z=M.defaultOptions)?nQ:Z,function(t,e,n){void 0===n&&(n=$);var i,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},nQ,$),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},r=[],o=!1,l={state:a,setOptions:function(n){var i,s,o,c,h,u="function"==typeof n?n(a.options):n;d(),a.options=Object.assign({},$,a.options,u),a.scrollParents={reference:nx(t)?nU(t):t.contextElement?nU(t.contextElement):[],popper:nU(e)};var p=(s=Object.keys(i=[].concat(B,a.options.modifiers).reduce(function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t},{})).map(function(t){return i[t]}),o=new Map,c=new Set,h=[],s.forEach(function(t){o.set(t.name,t)}),s.forEach(function(t){c.has(t.name)||function t(e){c.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!c.has(e)){var n=o.get(e);n&&t(n)}}),h.push(e)}(t)}),nX.reduce(function(t,e){return t.concat(h.filter(function(t){return t.phase===e}))},[]));return a.orderedModifiers=p.filter(function(t){return t.enabled}),a.orderedModifiers.forEach(function(t){var e=t.name,n=t.options,i=t.effect;if("function"==typeof i){var s=i({state:a,name:e,instance:l,options:void 0===n?{}:n});r.push(s||function(){})}}),l.update()},forceUpdate:function(){if(!o){var t=a.elements,e=t.reference,n=t.popper;if(n0(e,n)){a.rects={reference:(s=nW(n),r="fixed"===a.options.strategy,d=nk(s),p=nk(s)&&(h=nD((c=s.getBoundingClientRect()).width)/s.offsetWidth||1,u=nD(c.height)/s.offsetHeight||1,1!==h||1!==u),f=nI(s),g=nL(e,p,r),m={scrollLeft:0,scrollTop:0},w={x:0,y:0},(d||!d&&!r)&&(("body"!==nv(s)||nF(f))&&(m=(i=s)!==ny(i)&&nk(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:nN(i)),nk(s)?(w=nL(s,!0),w.x+=s.clientLeft,w.y+=s.clientTop):f&&(w.x=nT(f))),{x:g.left+m.scrollLeft-w.x,y:g.top+m.scrollTop-w.y,width:g.width,height:g.height}),popper:nj(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach(function(t){return a.modifiersData[t.name]=Object.assign({},t.data)});for(var i,s,r,d,c,h,u,p,f,g,m,w,_=0;_<a.orderedModifiers.length;_++){if(!0===a.reset){a.reset=!1,_=-1;continue}var b=a.orderedModifiers[_],v=b.fn,y=b.options,x=void 0===y?{}:y,k=b.name;"function"==typeof v&&(a=v({state:a,options:x,name:k,instance:l})||a)}}}},update:(i=function(){return new Promise(function(t){l.forceUpdate(),t(a)})},function(){return s||(s=new Promise(function(t){Promise.resolve().then(function(){s=void 0,t(i())})})),s}),destroy:function(){d(),o=!0}};if(!n0(t,e))return l;function d(){r.forEach(function(t){return t()}),r=[]}return l.setOptions(n).then(function(t){!o&&n.onFirstUpdate&&n.onFirstUpdate(t)}),l}),ig="tippy-content",im="tippy-arrow",iw="tippy-svg-arrow",i_={passive:!0,capture:!0},ib=function(){return document.body};function iv(t,e,n){if(Array.isArray(t)){var i=t[e];return null==i?Array.isArray(n)?n[e]:n:i}return t}function iy(t,e){var n=({}).toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function ix(t,e){return"function"==typeof t?t.apply(void 0,e):t}function ik(t,e){var n;return 0===e?t:function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function iE(t){return[].concat(t)}function iS(t,e){-1===t.indexOf(e)&&t.push(e)}function iA(t){return[].slice.call(t)}function iO(t){return Object.keys(t).reduce(function(e,n){return void 0!==t[n]&&(e[n]=t[n]),e},{})}function iD(){return document.createElement("div")}function iz(t){return["Element","Fragment"].some(function(e){return iy(t,e)})}function iC(t,e){t.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function iL(t,e){t.forEach(function(t){t&&t.setAttribute("data-state",e)})}function iN(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(e){t[i](e,n)})}function iI(t,e){for(var n,i=e;i;){if(t.contains(i))return!0;i=null==i.getRootNode?void 0:null==(n=i.getRootNode())?void 0:n.host}return!1}var iT={isTouch:!1},iR=0;function iF(){!iT.isTouch&&(iT.isTouch=!0,window.performance&&document.addEventListener("mousemove",ij))}function ij(){var t=performance.now();t-iR<20&&(iT.isTouch=!1,document.removeEventListener("mousemove",ij)),iR=t}function iP(){var t=document.activeElement;if(t&&t._tippy&&t._tippy.reference===t){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var iU=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,iM=Object.assign({appendTo:ib,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),iW=Object.keys(iM);function iB(t){var e=(t.plugins||[]).reduce(function(e,n){var i,s=n.name,a=n.defaultValue;return s&&(e[s]=void 0!==t[s]?t[s]:null!=(i=iM[s])?i:a),e},{});return Object.assign({},t,e)}function iZ(t,e){var n,i=Object.assign({},e,{content:ix(e.content,[t])},e.ignoreAttributes?{}:((n=e.plugins)?Object.keys(iB(Object.assign({},iM,{plugins:n}))):iW).reduce(function(e,n){var i=(t.getAttribute("data-tippy-"+n)||"").trim();if(!i)return e;if("content"===n)e[n]=i;else try{e[n]=JSON.parse(i)}catch(t){e[n]=i}return e},{}));return i.aria=Object.assign({},iM.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?e.interactive:i.aria.expanded,content:"auto"===i.aria.content?e.interactive?null:"describedby":i.aria.content},i}function i$(t,e){t.innerHTML=e}function iH(t){var e=iD();return!0===t?e.className=im:(e.className=iw,iz(t)?e.appendChild(t):i$(e,t)),e}function iV(t,e){iz(e.content)?(i$(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?i$(t,e.content):t.textContent=e.content)}function iq(t){var e=t.firstElementChild,n=iA(e.children);return{box:e,content:n.find(function(t){return t.classList.contains(ig)}),arrow:n.find(function(t){return t.classList.contains(im)||t.classList.contains(iw)}),backdrop:n.find(function(t){return t.classList.contains("tippy-backdrop")})}}function iY(t){var e=iD(),n=iD();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=iD();function s(n,i){var s=iq(e),a=s.box,r=s.content,o=s.arrow;i.theme?a.setAttribute("data-theme",i.theme):a.removeAttribute("data-theme"),"string"==typeof i.animation?a.setAttribute("data-animation",i.animation):a.removeAttribute("data-animation"),i.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?a.setAttribute("role",i.role):a.removeAttribute("role"),(n.content!==i.content||n.allowHTML!==i.allowHTML)&&iV(r,t.props),i.arrow?o?n.arrow!==i.arrow&&(a.removeChild(o),a.appendChild(iH(i.arrow))):a.appendChild(iH(i.arrow)):o&&a.removeChild(o)}return i.className=ig,i.setAttribute("data-state","hidden"),iV(i,t.props),e.appendChild(n),n.appendChild(i),s(t.props,t.props),{popper:e,onUpdate:s}}iY.$$tippy=!0;var iJ=1,iK=[],iG=[];function iX(t,e){void 0===e&&(e={});var n=iM.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",iF,i_),window.addEventListener("blur",iP);var i=Object.assign({},e,{plugins:n}),s=(iz(t)?[t]:iy(t,"NodeList")?iA(t):Array.isArray(t)?t:iA(document.querySelectorAll(t))).reduce(function(t,e){var n=e&&function(t,e){var n,i,s,a,r,o,l,d,c=iZ(t,Object.assign({},iM,iB(iO(e)))),h=!1,u=!1,p=!1,f=!1,g=[],m=ik(H,c.interactiveDebounce),w=iJ++,_=(n=c.plugins).filter(function(t,e){return n.indexOf(t)===e}),b={id:w,reference:t,popper:iD(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:_,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(s),cancelAnimationFrame(a)},setProps:function(e){if(!b.state.isDestroyed){L("onBeforeUpdate",[b,e]),Z();var n=b.props,i=iZ(t,Object.assign({},n,iO(e),{ignoreAttributes:!0}));b.props=i,B(),n.interactiveDebounce!==i.interactiveDebounce&&(T(),m=ik(H,i.interactiveDebounce)),n.triggerTarget&&!i.triggerTarget?iE(n.triggerTarget).forEach(function(t){t.removeAttribute("aria-expanded")}):i.triggerTarget&&t.removeAttribute("aria-expanded"),I(),C(),x&&x(n,i),b.popperInstance&&(J(),G().forEach(function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})),L("onAfterUpdate",[b,e])}},setContent:function(t){b.setProps({content:t})},show:function(){var e=b.state.isVisible,n=b.state.isDestroyed,i=!b.state.isEnabled,s=iT.isTouch&&!b.props.touch,a=iv(b.props.duration,0,iM.duration);if(!(e||n||i||s||(d||t).hasAttribute("disabled"))&&(L("onShow",[b],!1),!1!==b.props.onShow(b))){if(b.state.isVisible=!0,O()&&(y.style.visibility="visible"),C(),P(),b.state.isMounted||(y.style.transition="none"),O()){var r,o,c,h=iq(y);iC([h.box,h.content],0)}l=function(){var t;if(b.state.isVisible&&!f){if(f=!0,y.offsetHeight,y.style.transition=b.props.moveTransition,O()&&b.props.animation){var e=iq(y),n=e.box,i=e.content;iC([n,i],a),iL([n,i],"visible")}N(),I(),iS(iG,b),null==(t=b.popperInstance)||t.forceUpdate(),L("onMount",[b]),b.props.animation&&O()&&M(a,function(){b.state.isShown=!0,L("onShown",[b])})}},o=b.props.appendTo,c=d||t,(r=b.props.interactive&&o===ib||"parent"===o?c.parentNode:ix(o,[c])).contains(y)||r.appendChild(y),b.state.isMounted=!0,J()}},hide:function(){var t=!b.state.isVisible,e=b.state.isDestroyed,n=!b.state.isEnabled,i=iv(b.props.duration,1,iM.duration);if(!t&&!e&&!n&&(L("onHide",[b],!1),!1!==b.props.onHide(b))){if(b.state.isVisible=!1,b.state.isShown=!1,f=!1,h=!1,O()&&(y.style.visibility="hidden"),T(),U(),C(!0),O()){var s,a=iq(y),r=a.box,o=a.content;b.props.animation&&(iC([r,o],i),iL([r,o],"hidden"))}(N(),I(),b.props.animation)?O()&&(s=b.unmount,M(i,function(){!b.state.isVisible&&y.parentNode&&y.parentNode.contains(y)&&s()})):b.unmount()}},hideWithInteractivity:function(t){D().addEventListener("mousemove",m),iS(iK,m),m(t)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){b.state.isVisible&&b.hide(),b.state.isMounted&&(K(),G().forEach(function(t){t._tippy.unmount()}),y.parentNode&&y.parentNode.removeChild(y),iG=iG.filter(function(t){return t!==b}),b.state.isMounted=!1,L("onHidden",[b]))},destroy:function(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),Z(),delete t._tippy,b.state.isDestroyed=!0,L("onDestroy",[b]))}};if(!c.render)return b;var v=c.render(b),y=v.popper,x=v.onUpdate;y.setAttribute("data-tippy-root",""),y.id="tippy-"+b.id,b.popper=y,t._tippy=b,y._tippy=b;var k=_.map(function(t){return t.fn(b)}),E=t.hasAttribute("aria-expanded");return B(),I(),C(),L("onCreate",[b]),c.showOnCreate&&X(),y.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),y.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&D().addEventListener("mousemove",m)}),b;function S(){var t=b.props.touch;return Array.isArray(t)?t:[t,0]}function A(){return"hold"===S()[0]}function O(){var t;return!!(null!=(t=b.props.render)&&t.$$tippy)}function D(){var e,n,i=(d||t).parentNode;return i&&null!=(n=iE(i)[0])&&null!=(e=n.ownerDocument)&&e.body?n.ownerDocument:document}function z(t){return b.state.isMounted&&!b.state.isVisible||iT.isTouch||r&&"focus"===r.type?0:iv(b.props.delay,t?0:1,iM.delay)}function C(t){void 0===t&&(t=!1),y.style.pointerEvents=b.props.interactive&&!t?"":"none",y.style.zIndex=""+b.props.zIndex}function L(t,e,n){if(void 0===n&&(n=!0),k.forEach(function(n){n[t]&&n[t].apply(n,e)}),n){var i;(i=b.props)[t].apply(i,e)}}function N(){var e=b.props.aria;if(e.content){var n="aria-"+e.content,i=y.id;iE(b.props.triggerTarget||t).forEach(function(t){var e=t.getAttribute(n);if(b.state.isVisible)t.setAttribute(n,e?e+" "+i:i);else{var s=e&&e.replace(i,"").trim();s?t.setAttribute(n,s):t.removeAttribute(n)}})}}function I(){!E&&b.props.aria.expanded&&iE(b.props.triggerTarget||t).forEach(function(e){b.props.interactive?e.setAttribute("aria-expanded",b.state.isVisible&&e===(d||t)?"true":"false"):e.removeAttribute("aria-expanded")})}function T(){D().removeEventListener("mousemove",m),iK=iK.filter(function(t){return t!==m})}function R(e){if(!iT.isTouch||!p&&"mousedown"!==e.type){var n=e.composedPath&&e.composedPath()[0]||e.target;if(!(b.props.interactive&&iI(y,n))){if(iE(b.props.triggerTarget||t).some(function(t){return iI(t,n)})){if(iT.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[b,e]);!0!==b.props.hideOnClick||(b.clearDelayTimeouts(),b.hide(),u=!0,setTimeout(function(){u=!1}),b.state.isMounted||U())}}}function F(){p=!0}function j(){p=!1}function P(){var t=D();t.addEventListener("mousedown",R,!0),t.addEventListener("touchend",R,i_),t.addEventListener("touchstart",j,i_),t.addEventListener("touchmove",F,i_)}function U(){var t=D();t.removeEventListener("mousedown",R,!0),t.removeEventListener("touchend",R,i_),t.removeEventListener("touchstart",j,i_),t.removeEventListener("touchmove",F,i_)}function M(t,e){var n=iq(y).box;function i(t){t.target===n&&(iN(n,"remove",i),e())}if(0===t)return e();iN(n,"remove",o),iN(n,"add",i),o=i}function W(e,n,i){void 0===i&&(i=!1),iE(b.props.triggerTarget||t).forEach(function(t){t.addEventListener(e,n,i),g.push({node:t,eventType:e,handler:n,options:i})})}function B(){A()&&(W("touchstart",$,{passive:!0}),W("touchend",V,{passive:!0})),b.props.trigger.split(/\s+/).filter(Boolean).forEach(function(t){if("manual"!==t)switch(W(t,$),t){case"mouseenter":W("mouseleave",V);break;case"focus":W(iU?"focusout":"blur",q);break;case"focusin":W("focusout",q)}})}function Z(){g.forEach(function(t){var e=t.node,n=t.eventType,i=t.handler,s=t.options;e.removeEventListener(n,i,s)}),g=[]}function $(t){var e,n=!1;if(!(!b.state.isEnabled||Y(t))&&!u){var i=(null==(e=r)?void 0:e.type)==="focus";r=t,d=t.currentTarget,I(),!b.state.isVisible&&iy(t,"MouseEvent")&&iK.forEach(function(e){return e(t)}),"click"===t.type&&(0>b.props.trigger.indexOf("mouseenter")||h)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:X(t),"click"===t.type&&(h=!n),n&&!i&&Q(t)}}function H(e){var n,i,s,a=e.target,r=(d||t).contains(a)||y.contains(a);("mousemove"!==e.type||!r)&&(n=G().concat(y).map(function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:c}:null}).filter(Boolean),i=e.clientX,s=e.clientY,n.every(function(t){var e=t.popperRect,n=t.popperState,a=t.props.interactiveBorder,r=n.placement.split("-")[0],o=n.modifiersData.offset;if(!o)return!0;var l="bottom"===r?o.top.y:0,d="top"===r?o.bottom.y:0,c="right"===r?o.left.x:0,h="left"===r?o.right.x:0,u=e.top-s+l>a,p=s-e.bottom-d>a,f=e.left-i+c>a,g=i-e.right-h>a;return u||p||f||g})&&(T(),Q(e)))}function V(t){if(!(Y(t)||b.props.trigger.indexOf("click")>=0&&h)){if(b.props.interactive){b.hideWithInteractivity(t);return}Q(t)}}function q(e){(!(0>b.props.trigger.indexOf("focusin"))||e.target===(d||t))&&(b.props.interactive&&e.relatedTarget&&y.contains(e.relatedTarget)||Q(e))}function Y(t){return!!iT.isTouch&&A()!==t.type.indexOf("touch")>=0}function J(){K();var e=b.props,n=e.popperOptions,i=e.placement,s=e.offset,a=e.getReferenceClientRect,r=e.moveTransition,o=O()?iq(y).arrow:null,c=a?{getBoundingClientRect:a,contextElement:a.contextElement||d||t}:t,h=[{name:"offset",options:{offset:s}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!r}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(O()){var n=iq(y).box;["placement","reference-hidden","escaped"].forEach(function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)}),e.attributes.popper={}}}}];O()&&o&&h.push({name:"arrow",options:{element:o,padding:3}}),h.push.apply(h,(null==n?void 0:n.modifiers)||[]),b.popperInstance=ip(c,y,Object.assign({},n,{placement:i,onFirstUpdate:l,modifiers:h}))}function K(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function G(){return iA(y.querySelectorAll("[data-tippy-root]"))}function X(t){b.clearDelayTimeouts(),t&&L("onTrigger",[b,t]),P();var e=z(!0),n=S(),s=n[0],a=n[1];iT.isTouch&&"hold"===s&&a&&(e=a),e?i=setTimeout(function(){b.show()},e):b.show()}function Q(t){if(b.clearDelayTimeouts(),L("onUntrigger",[b,t]),!b.state.isVisible){U();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0)||!h){var e=z(!1);e?s=setTimeout(function(){b.state.isVisible&&b.hide()},e):a=requestAnimationFrame(function(){b.hide()})}}}(e,i);return n&&t.push(n),t},[]);return iz(t)?s[0]:s}iX.defaultProps=iM,iX.setDefaultProps=function(t){Object.keys(t).forEach(function(e){iM[e]=t[e]})},iX.currentInput=iT,Object.assign({},nS,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}}),iX.setDefaultProps({render:iY});const iQ=document.getElementById("expand"),i0=document.getElementById("footer"),i1=document.getElementById("include-state"),i2=document.getElementById("include-profanity"),i5=document.getElementById("new"),i6=document.getElementById("path"),i3=document.getElementById("reset"),i8=document.getElementById("score"),i4=document.getElementById("seed-words"),i9=document.getElementById("selection"),i7=document.getElementById("share"),st=document.getElementById("statistics"),se=document.getElementById("swaps"),sn=document.getElementById("undo"),si=document.getElementById("width"),ss=document.getElementById("words"),sa=window.crypto,sr=iX(i7,{content:"Copied!",theme:"custom",trigger:"manual"});eQ.params.has(n_.StateParam.name)&&document.body.classList.add("share");class so{#c=new ni({context:this});#Z;#h;#k;constructor(){this.#h=new eQ("game",{},{params:{[eQ.Params.Expand]:new eQ.Param(eQ.Params.Expand)}}),this.#k=new nm,this.#Z=new n_(this.#k),i5.href=`?${eQ.Params.Id}=${sa.randomUUID().split("-")[0]}`,i6.href=`?${eQ.Params.Id}=${this.#Z.id}`,i6.textContent=this.#Z.id,this.#c.add([{type:"change",element:i2,handler:this.#$},{type:"change",element:i1,handler:this.#H},{type:"change",element:si,handler:this.#V},{type:"click",element:iQ,handler:this.#q},{type:"click",element:i3,handler:this.reset},{type:"click",element:i7,handler:this.share},{type:"click",element:se,handler:this.#Y},{type:"click",element:sn,handler:this.#J},{type:"click",element:ss,handler:this.#K},{type:n_.Events.Selection,handler:this.#G},{type:n_.Events.Update,handler:this.#X}]),this.#Q(),this.#tt()}reset(){this.#Z.reset(),this.update()}async setup(){await this.#k.load(ng.Default),this.#Z.setup(),this.#te(),this.update(),(this.#h.get().includeProfanityInDictionary||this.#Z.getDictionaries().includes(nf.Profanity))&&await this.#k.load(ng.Profanity)}async share(){let t=this.#Z.id,e=this.#Z.width,n=`${e}x${e}`,i=this.#h.get(),s=new URL(eQ.url.toString()),a=this.#Z.getStatistics();i.includeStateInShareUrl?s.searchParams.set(eQ.Params.State,this.#Z.getState()):(s.searchParams.set(eQ.Params.Id,t),s.searchParams.set(eQ.Params.Width,e));let r=this.#Z.getDictionaries().join(" + "),o=a.moves.map(t=>t===n_.Moves.Spell?"\uD83D\uDFE9":"\uD83D\uDFEA").join(""),l=`Path: #${t} (${n})
Score: ${a.score} ${a.rating.description} ${a.rating.emoji} (${a.progress}% filled)
`+(o?`Moves: ${o}
`:"")+(r?`Dictionary: ${r}
`:"")+`${s.toString()}`;await eJ(l),sr.show(),setTimeout(()=>sr.hide(),1e3)}update(){this.#tn(),this.#ti(),this.#ts(),this.#ta()}#Y(t){t.target.classList.contains(so.ClassNames.Delete)&&(this.#Z.removeSwap(t.target.dataset.index),this.update())}#K(t){t.target.classList.contains(so.ClassNames.Delete)&&(this.#Z.removeWord(t.target.dataset.index),this.update())}#q(){this.#h.set(eQ.Params.Expand,!this.#h.get(eQ.Params.Expand)),this.#Q()}#X(){this.update()}async #$(t){let e=this.#h.get();e.includeProfanityInDictionary=t.target.checked,e.includeProfanityInDictionary?await this.#k.load(ng.Profanity):this.#k.unload(ng.Profanity),this.#h.set(e)}#H(t){let e=this.#h.get();e.includeStateInShareUrl=t.target.checked,this.#h.set(e)}#J(){sn.classList.contains(so.ClassNames.Disabled)||this.#Z.undo()}#V(t){eQ.params.set(eQ.Params.Width,t.target.value),eQ.reload()}#Q(){let t=this.#h.get(),e=!0===t.expand;i0.classList.toggle(so.ClassNames.Expanded,e),iQ.textContent=e?"expand_less":"expand_more",i2.checked=t.includeProfanityInDictionary,i1.checked=t.includeStateInShareUrl}#te(){i4.replaceChildren(...this.#Z.getSeedWords().map(t=>{let e=document.createElement("li");return e.textContent=t,e}))}#G(){this.#ts();let t=this.#Z.getSelection().filter(t=>!t.getFlags().has(na.Flags.Swap));if(i9.replaceChildren(),i9.classList.remove(so.ClassNames.Valid),!t.length)return;let e=document.createElement("span");e.textContent=n_.getContent(t);let n=[e];if(this.#k.isValid(e.textContent))e.classList.add(so.ClassNames.Valid);else{let n=n_.getContent(t.reverse());this.#k.isValid(n)&&(e.classList.add(so.ClassNames.Valid),e.textContent=n)}if(e.classList.contains(so.ClassNames.Valid)){let e=new nh(this.#Z.width,t),i=document.createElement("span");i.classList.add(so.ClassNames.Points),i.textContent=e.points,n.push(i)}i9.replaceChildren(...n)}#tn(){let t=this.#Z.getStatistics();i8.textContent=t.score,st.replaceChildren(...[{name:"Average Word Length",value:t.averageWordLength},{name:"Progress",value:`${t.progress}%`},{name:"Rating",value:`${t.rating.description} ${t.rating.emoji}`},{name:"Your Best Score",value:`${t.best} (${t.bestDiff})`}].map(t=>{let e=document.createElement("span");e.textContent=t.name;let n=document.createElement("span");return n.textContent=t.value,so.getListItem(e,n)}))}#ti(){let t=this.#Z.getSwaps();se.replaceChildren(...t.map((t,e)=>{let n=document.createElement("span");return n.classList.add(so.ClassNames.Swap),n.textContent=`${t.map(t=>t.toUpperCase()).join("  ")}`,so.getListItem(n,so.getDeleteElement(e))}))}#ts(){let t=this.#Z.getMoves(),e=this.#Z.getSelection(),n=0===t.length&&0===e.length;sn.classList.toggle(so.ClassNames.Disabled,n)}#tt(){si.replaceChildren(...n_.Widths.map(t=>{let e=document.createElement("option");return e.textContent=`${t}x${t}`,e.value=t.toString(),t===this.#Z.width&&(e.selected=!0),e}))}#ta(){let t=this.#Z.getWords();ss.replaceChildren(...t.map((t,e)=>{let n=document.createElement("span");n.classList.add(so.ClassNames.Word),n.textContent=`${e+1}. ${t.content}`;let i=document.createElement("span");return i.classList.add(so.ClassNames.Points),i.textContent=t.points,so.getListItem([n,i],so.getDeleteElement(e))}))}static getDeleteElement(t){let e=document.createElement("span");return e.classList.add(so.ClassNames.Delete,so.ClassNames.Icon),e.dataset.index=t.toString(),e.textContent="delete",e.title="Delete",e}static getListItem(t,e){let n=document.createElement("li"),i=document.createElement("div");i.classList.add(so.ClassNames.Container),n.append(i);let s=document.createElement("div");s.classList.add(so.ClassNames.FlexLeft),s.append(...Array.isArray(t)?t:[t]),i.append(s);let a=document.createElement("div");return a.classList.add(so.ClassNames.FlexRight),a.append(...Array.isArray(e)?e:[e]),i.append(a),n}static ClassNames=Object.freeze({Container:"container",Delete:"delete",Disabled:"disabled",Expanded:"expanded",FlexLeft:"flex-left",FlexRight:"flex-right",Icon:"material-symbols-outlined",Points:"points",Swap:"swap",Valid:"valid",Word:"word"})}const sl=document.getElementById("help"),sd=document.getElementById("help-dialog");sl.addEventListener("click",()=>{sd.open||sd.showModal()});const sc="G-44BJC1S0CM",sh=document.createElement("script");sh.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=${sc}`),document.head.append(sh);const su=window.dataLayer=window.dataLayer||[];function sp(){su.push(arguments)}sp("js",new Date),sp("config",sc);const sf=new so;sf.setup(),window.addEventListener("popstate",()=>{window.location.reload()}),window.debug=e2,window.game=sf;
//# sourceMappingURL=index.6acab3c1.js.map
