!function(){let e,t,n,i,a;function s(e){let t=e.length;for(;--t>=0;)e[t]=0}let r=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),o=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),d=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=Array(576);s(c);let h=Array(60);s(h);let u=Array(512);s(u);let p=Array(256);s(p);let f=Array(29);s(f);let g=Array(30);function m(e,t,n,i,a){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=a,this.has_stree=e&&e.length}function w(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}s(g);let _=e=>e<256?u[e]:u[256+(e>>>7)],b=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},v=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,b(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},y=(e,t,n)=>{v(e,n[2*t],n[2*t+1])},x=(e,t)=>{let n=0;do n|=1&e,e>>>=1,n<<=1;while(--t>0)return n>>>1},k=e=>{16===e.bi_valid?(b(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)},E=(e,t)=>{let n,i,a,s,r,o;let l=t.dyn_tree,d=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,p=t.stat_desc.extra_base,f=t.stat_desc.max_length,g=0;for(s=0;s<=15;s++)e.bl_count[s]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)(s=l[2*l[2*(i=e.heap[n])+1]+1]+1)>f&&(s=f,g++),l[2*i+1]=s,!(i>d)&&(e.bl_count[s]++,r=0,i>=p&&(r=u[i-p]),o=l[2*i],e.opt_len+=o*(s+r),h&&(e.static_len+=o*(c[2*i+1]+r)));if(0!==g){do{for(s=f-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[f]--,g-=2}while(g>0)for(s=f;0!==s;s--)for(i=e.bl_count[s];0!==i;)!((a=e.heap[--n])>d)&&(l[2*a+1]!==s&&(e.opt_len+=(s-l[2*a+1])*l[2*a],l[2*a+1]=s),i--)}},S=(e,t,n)=>{let i,a;let s=Array(16),r=0;for(i=1;i<=15;i++)r=r+n[i-1]<<1,s[i]=r;for(a=0;a<=t;a++){let t=e[2*a+1];0!==t&&(e[2*a]=x(s[t]++,t))}},A=()=>{let i,a,s,d,w;let _=Array(16);for(d=0,s=0;d<28;d++)for(i=0,f[d]=s;i<1<<r[d];i++)p[s++]=d;for(p[s-1]=d,w=0,d=0;d<16;d++)for(i=0,g[d]=w;i<1<<o[d];i++)u[w++]=d;for(w>>=7;d<30;d++)for(i=0,g[d]=w<<7;i<1<<o[d]-7;i++)u[256+w++]=d;for(a=0;a<=15;a++)_[a]=0;for(i=0;i<=143;)c[2*i+1]=8,i++,_[8]++;for(;i<=255;)c[2*i+1]=9,i++,_[9]++;for(;i<=279;)c[2*i+1]=7,i++,_[7]++;for(;i<=287;)c[2*i+1]=8,i++,_[8]++;for(S(c,287,_),i=0;i<30;i++)h[2*i+1]=5,h[2*i]=x(i,5);e=new m(c,r,257,286,15),t=new m(h,o,0,30,15),n=new m([],l,0,19,7)},O=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},D=e=>{e.bi_valid>8?b(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},z=(e,t,n,i)=>{let a=2*t,s=2*n;return e[a]<e[s]||e[a]===e[s]&&i[t]<=i[n]},C=(e,t,n)=>{let i=e.heap[n],a=n<<1;for(;a<=e.heap_len&&(a<e.heap_len&&z(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!z(t,i,e.heap[a],e.depth));)e.heap[n]=e.heap[a],n=a,a<<=1;e.heap[n]=i},L=(e,t,n)=>{let i,a,s,l;let d=0;if(0!==e.sym_next)do i=(255&e.pending_buf[e.sym_buf+d++])+((255&e.pending_buf[e.sym_buf+d++])<<8),a=e.pending_buf[e.sym_buf+d++],0===i?y(e,a,t):(y(e,(s=p[a])+256+1,t),0!==(l=r[s])&&v(e,a-=f[s],l),y(e,s=_(--i),n),0!==(l=o[s])&&v(e,i-=g[s],l));while(d<e.sym_next)y(e,256,t)},N=(e,t)=>{let n,i,a;let s=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,l=t.stat_desc.elems,d=-1;for(n=0,e.heap_len=0,e.heap_max=573;n<l;n++)0!==s[2*n]?(e.heap[++e.heap_len]=d=n,e.depth[n]=0):s[2*n+1]=0;for(;e.heap_len<2;)s[2*(a=e.heap[++e.heap_len]=d<2?++d:0)]=1,e.depth[a]=0,e.opt_len--,o&&(e.static_len-=r[2*a+1]);for(t.max_code=d,n=e.heap_len>>1;n>=1;n--)C(e,s,n);a=l;do n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],C(e,s,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,s[2*a]=s[2*n]+s[2*i],e.depth[a]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,s[2*n+1]=s[2*i+1]=a,e.heap[1]=a++,C(e,s,1);while(e.heap_len>=2)e.heap[--e.heap_max]=e.heap[1],E(e,t),S(s,d,e.bl_count)},I=(e,t,n)=>{let i,a;let s=-1,r=t[1],o=0,l=7,d=4;for(0===r&&(l=138,d=3),t[(n+1)*2+1]=65535,i=0;i<=n;i++)a=r,r=t[(i+1)*2+1],++o<l&&a===r||(o<d?e.bl_tree[2*a]+=o:0!==a?(a!==s&&e.bl_tree[2*a]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=a,0===r?(l=138,d=3):a===r?(l=6,d=3):(l=7,d=4))},T=(e,t,n)=>{let i,a;let s=-1,r=t[1],o=0,l=7,d=4;for(0===r&&(l=138,d=3),i=0;i<=n;i++)if(a=r,r=t[(i+1)*2+1],!(++o<l)||a!==r){if(o<d)do y(e,a,e.bl_tree);while(0!=--o)else 0!==a?(a!==s&&(y(e,a,e.bl_tree),o--),y(e,16,e.bl_tree),v(e,o-3,2)):o<=10?(y(e,17,e.bl_tree),v(e,o-3,3)):(y(e,18,e.bl_tree),v(e,o-11,7));o=0,s=a,0===r?(l=138,d=3):a===r?(l=6,d=3):(l=7,d=4)}},R=e=>{let t;for(I(e,e.dyn_ltree,e.l_desc.max_code),I(e,e.dyn_dtree,e.d_desc.max_code),N(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t},F=(e,t,n,i)=>{let a;for(v(e,t-257,5),v(e,n-1,5),v(e,i-4,4),a=0;a<i;a++)v(e,e.bl_tree[2*d[a]+1],3);T(e,e.dyn_ltree,t-1),T(e,e.dyn_dtree,n-1)},j=e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0},P=!1,U=(e,t,n,i)=>{v(e,0+(i?1:0),3),D(e),b(e,n),b(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var M,W,B,Z,$,H={_tr_init:i=>{P||(A(),P=!0),i.l_desc=new w(i.dyn_ltree,e),i.d_desc=new w(i.dyn_dtree,t),i.bl_desc=new w(i.bl_tree,n),i.bi_buf=0,i.bi_valid=0,O(i)},_tr_stored_block:U,_tr_flush_block:(e,t,n,i)=>{let a,s;let r=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=j(e)),N(e,e.l_desc),N(e,e.d_desc),r=R(e),a=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==t?U(e,t,n,i):4===e.strategy||s===a?(v(e,2+(i?1:0),3),L(e,c,h)):(v(e,4+(i?1:0),3),F(e,e.l_desc.max_code+1,e.d_desc.max_code+1,r+1),L(e,e.dyn_ltree,e.dyn_dtree)),O(e),i&&D(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[(p[n]+256+1)*2]++,e.dyn_dtree[2*_(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{v(e,2,3),y(e,256,c),k(e)}},V=(e,t,n,i)=>{let a=65535&e|0,s=e>>>16&65535|0,r=0;for(;0!==n;){r=n>2e3?2e3:n,n-=r;do s=s+(a=a+t[i++]|0)|0;while(--r)a%=65521,s%=65521}return a|s<<16|0};let q=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var Y=(e,t,n,i)=>{let a=i+n;e^=-1;for(let n=i;n<a;n++)e=e>>>8^q[(e^t[n])&255];return -1^e},J={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},K={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};let{_tr_init:G,_tr_stored_block:X,_tr_flush_block:Q,_tr_tally:ee,_tr_align:et}=H,{Z_NO_FLUSH:en,Z_PARTIAL_FLUSH:ei,Z_FULL_FLUSH:ea,Z_FINISH:es,Z_BLOCK:er,Z_OK:eo,Z_STREAM_END:el,Z_STREAM_ERROR:ed,Z_DATA_ERROR:ec,Z_BUF_ERROR:eh,Z_DEFAULT_COMPRESSION:eu,Z_FILTERED:ep,Z_HUFFMAN_ONLY:ef,Z_RLE:eg,Z_FIXED:em,Z_DEFAULT_STRATEGY:ew,Z_UNKNOWN:e_,Z_DEFLATED:eb}=K,ev=(e,t)=>(e.msg=J[t],t),ey=e=>2*e-(e>4?9:0),ex=e=>{let t=e.length;for(;--t>=0;)e[t]=0},ek=e=>{let t,n,i;let a=e.w_size;i=t=e.hash_size;do n=e.head[--i],e.head[i]=n>=a?n-a:0;while(--t)i=t=a;do n=e.prev[--i],e.prev[i]=n>=a?n-a:0;while(--t)},eE=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,eS=e=>{let t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},eA=(e,t)=>{Q(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,eS(e.strm)},eO=(e,t)=>{e.pending_buf[e.pending++]=t},eD=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},ez=(e,t,n,i)=>{let a=e.avail_in;return(a>i&&(a=i),0===a)?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),n),1===e.state.wrap?e.adler=V(e.adler,t,a,n):2===e.state.wrap&&(e.adler=Y(e.adler,t,a,n)),e.next_in+=a,e.total_in+=a,a)},eC=(e,t)=>{let n,i,a=e.max_chain_length,s=e.strstart,r=e.prev_length,o=e.nice_match,l=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,d=e.window,c=e.w_mask,h=e.prev,u=e.strstart+258,p=d[s+r-1],f=d[s+r];e.prev_length>=e.good_match&&(a>>=2),o>e.lookahead&&(o=e.lookahead);do{if(d[(n=t)+r]!==f||d[n+r-1]!==p||d[n]!==d[s]||d[++n]!==d[s+1])continue;s+=2,n++;do;while(d[++s]===d[++n]&&d[++s]===d[++n]&&d[++s]===d[++n]&&d[++s]===d[++n]&&d[++s]===d[++n]&&d[++s]===d[++n]&&d[++s]===d[++n]&&d[++s]===d[++n]&&s<u)if(i=258-(u-s),s=u-258,i>r){if(e.match_start=t,r=i,i>=o)break;p=d[s+r-1],f=d[s+r]}}while((t=h[t&c])>l&&0!=--a)return r<=e.lookahead?r:e.lookahead},eL=e=>{let t,n,i;let a=e.w_size;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-262)&&(e.window.set(e.window.subarray(a,a+a-n),0),e.match_start-=a,e.strstart-=a,e.block_start-=a,e.insert>e.strstart&&(e.insert=e.strstart),ek(e),n+=a),0===e.strm.avail_in)break;if(t=ez(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=t,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=eE(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=eE(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)},eN=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,i,a,s,r=0,o=e.strm.avail_in;do{if(i=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i>(a=e.strstart-e.block_start)+e.strm.avail_in&&(i=a+e.strm.avail_in),i>s&&(i=s),i<n&&(0===i&&t!==es||t===en||i!==a+e.strm.avail_in)))break;r=t===es&&i===a+e.strm.avail_in?1:0,X(e,0,0,r),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,eS(e.strm),a&&(a>i&&(a=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,i-=a),i&&(ez(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(0===r)return((o-=e.strm.avail_in)&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),r)?4:t!==en&&t!==es&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&(ez(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,n=(s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s)>e.w_size?e.w_size:s,((a=e.strstart-e.block_start)>=n||(a||t===es)&&t!==en&&0===e.strm.avail_in&&a<=s)&&(i=a>s?s:a,r=t===es&&0===e.strm.avail_in&&i===a?1:0,X(e,e.block_start,i,r),e.block_start+=i,eS(e.strm)),r?3:1)},eI=(e,t)=>{let n,i;for(;;){if(e.lookahead<262){if(eL(e),e.lookahead<262&&t===en)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=eE(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-262&&(e.match_length=eC(e,n)),e.match_length>=3){if(i=ee(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do e.strstart++,e.ins_h=eE(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(0!=--e.match_length)e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=eE(e,e.ins_h,e.window[e.strstart+1])}else i=ee(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(eA(e,!1),0===e.strm.avail_out))return 1}return(e.insert=e.strstart<2?e.strstart:2,t===es)?(eA(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(eA(e,!1),0===e.strm.avail_out)?1:2},eT=(e,t)=>{let n,i,a;for(;;){if(e.lookahead<262){if(eL(e),e.lookahead<262&&t===en)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=eE(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-262&&(e.match_length=eC(e,n),e.match_length<=5&&(e.strategy===ep||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-3,i=ee(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=eE(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(0!=--e.prev_length)if(e.match_available=0,e.match_length=2,e.strstart++,i&&(eA(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=ee(e,0,e.window[e.strstart-1]))&&eA(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return(e.match_available&&(i=ee(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===es)?(eA(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(eA(e,!1),0===e.strm.avail_out)?1:2},eR=(e,t)=>{let n,i,a,s;let r=e.window;for(;;){if(e.lookahead<=258){if(eL(e),e.lookahead<=258&&t===en)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=r[a=e.strstart-1])===r[++a]&&i===r[++a]&&i===r[++a]){s=e.strstart+258;do;while(i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&i===r[++a]&&a<s)e.match_length=258-(s-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=ee(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=ee(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(eA(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===es)?(eA(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(eA(e,!1),0===e.strm.avail_out)?1:2},eF=(e,t)=>{let n;for(;;){if(0===e.lookahead&&(eL(e),0===e.lookahead)){if(t===en)return 1;break}if(e.match_length=0,n=ee(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(eA(e,!1),0===e.strm.avail_out))return 1}return(e.insert=0,t===es)?(eA(e,!0),0===e.strm.avail_out)?3:4:e.sym_next&&(eA(e,!1),0===e.strm.avail_out)?1:2};function ej(e,t,n,i,a){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=a}let eP=[new ej(0,0,0,0,eN),new ej(4,4,8,4,eI),new ej(4,5,16,8,eI),new ej(4,6,32,32,eI),new ej(4,4,16,16,eT),new ej(8,16,32,32,eT),new ej(8,16,128,128,eT),new ej(8,32,128,256,eT),new ej(32,128,258,1024,eT),new ej(32,258,258,4096,eT)],eU=e=>{e.window_size=2*e.w_size,ex(e.head),e.max_lazy_match=eP[e.level].max_lazy,e.good_match=eP[e.level].good_length,e.nice_match=eP[e.level].nice_length,e.max_chain_length=eP[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0};function eM(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=eb,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),ex(this.dyn_ltree),ex(this.dyn_dtree),ex(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),ex(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),ex(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}let eW=e=>{if(!e)return 1;let t=e.state;return t&&t.strm===e&&(42===t.status||57===t.status||69===t.status||73===t.status||91===t.status||103===t.status||113===t.status||666===t.status)?0:1},eB=e=>{if(eW(e))return ev(e,ed);e.total_in=e.total_out=0,e.data_type=e_;let t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=-2,G(t),eo},eZ=e=>{let t=eB(e);return t===eo&&eU(e.state),t};var e$={deflateInit2:(e,t,n,i,a,s)=>{if(!e)return ed;let r=1;if(t===eu&&(t=6),i<0?(r=0,i=-i):i>15&&(r=2,i-=16),a<1||a>9||n!==eb||i<8||i>15||t<0||t>9||s<0||s>em||8===i&&1!==r)return ev(e,ed);8===i&&(i=9);let o=new eM;return e.state=o,o.strm=e,o.status=42,o.wrap=r,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=s,o.method=n,eZ(e)},deflateSetHeader:(e,t)=>eW(e)||2!==e.state.wrap?ed:(e.state.gzhead=t,eo),deflate:(e,t)=>{if(eW(e)||t>er||t<0)return e?ev(e,ed):ed;let n=e.state;if(!e.output||0!==e.avail_in&&!e.input||666===n.status&&t!==es)return ev(e,0===e.avail_out?eh:ed);let i=n.last_flush;if(n.last_flush=t,0!==n.pending){if(eS(e),0===e.avail_out)return n.last_flush=-1,eo}else if(0===e.avail_in&&ey(t)<=ey(i)&&t!==es)return ev(e,eh);if(666===n.status&&0!==e.avail_in)return ev(e,eh);if(42===n.status&&0===n.wrap&&(n.status=113),42===n.status){let t=eb+(n.w_bits-8<<4)<<8;if(t|=(n.strategy>=ef||n.level<2?0:n.level<6?1:6===n.level?2:3)<<6,0!==n.strstart&&(t|=32),eD(n,t+=31-t%31),0!==n.strstart&&(eD(n,e.adler>>>16),eD(n,65535&e.adler)),e.adler=1,n.status=113,eS(e),0!==n.pending)return n.last_flush=-1,eo}if(57===n.status){if(e.adler=0,eO(n,31),eO(n,139),eO(n,8),n.gzhead)eO(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),eO(n,255&n.gzhead.time),eO(n,n.gzhead.time>>8&255),eO(n,n.gzhead.time>>16&255),eO(n,n.gzhead.time>>24&255),eO(n,9===n.level?2:n.strategy>=ef||n.level<2?4:0),eO(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(eO(n,255&n.gzhead.extra.length),eO(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Y(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(eO(n,0),eO(n,0),eO(n,0),eO(n,0),eO(n,0),eO(n,9===n.level?2:n.strategy>=ef||n.level<2?4:0),eO(n,3),n.status=113,eS(e),0!==n.pending)return n.last_flush=-1,eo}if(69===n.status){if(n.gzhead.extra){let t=n.pending,i=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=Y(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=a,eS(e),0!==n.pending)return n.last_flush=-1,eo;t=0,i-=a}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>t&&(e.adler=Y(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Y(e.adler,n.pending_buf,n.pending-i,i)),eS(e),0!==n.pending)return n.last_flush=-1,eo;i=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,eO(n,t)}while(0!==t)n.gzhead.hcrc&&n.pending>i&&(e.adler=Y(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,i=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=Y(e.adler,n.pending_buf,n.pending-i,i)),eS(e),0!==n.pending)return n.last_flush=-1,eo;i=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,eO(n,t)}while(0!==t)n.gzhead.hcrc&&n.pending>i&&(e.adler=Y(e.adler,n.pending_buf,n.pending-i,i))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(eS(e),0!==n.pending))return n.last_flush=-1,eo;eO(n,255&e.adler),eO(n,e.adler>>8&255),e.adler=0}if(n.status=113,eS(e),0!==n.pending)return n.last_flush=-1,eo}if(0!==e.avail_in||0!==n.lookahead||t!==en&&666!==n.status){let i=0===n.level?eN(n,t):n.strategy===ef?eF(n,t):n.strategy===eg?eR(n,t):eP[n.level].func(n,t);if((3===i||4===i)&&(n.status=666),1===i||3===i)return 0===e.avail_out&&(n.last_flush=-1),eo;if(2===i&&(t===ei?et(n):t!==er&&(X(n,0,0,!1),t===ea&&(ex(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),eS(e),0===e.avail_out))return n.last_flush=-1,eo}return t!==es?eo:n.wrap<=0?el:(2===n.wrap?(eO(n,255&e.adler),eO(n,e.adler>>8&255),eO(n,e.adler>>16&255),eO(n,e.adler>>24&255),eO(n,255&e.total_in),eO(n,e.total_in>>8&255),eO(n,e.total_in>>16&255),eO(n,e.total_in>>24&255)):(eD(n,e.adler>>>16),eD(n,65535&e.adler)),eS(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?eo:el)},deflateEnd:e=>{if(eW(e))return ed;let t=e.state.status;return e.state=null,113===t?ev(e,ec):eo},deflateSetDictionary:(e,t)=>{let n=t.length;if(eW(e))return ed;let i=e.state,a=i.wrap;if(2===a||1===a&&42!==i.status||i.lookahead)return ed;if(1===a&&(e.adler=V(e.adler,t,n,0)),i.wrap=0,n>=i.w_size){0===a&&(ex(i.head),i.strstart=0,i.block_start=0,i.insert=0);let e=new Uint8Array(i.w_size);e.set(t.subarray(n-i.w_size,n),0),t=e,n=i.w_size}let s=e.avail_in,r=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,eL(i);i.lookahead>=3;){let e=i.strstart,t=i.lookahead-2;do i.ins_h=eE(i,i.ins_h,i.window[e+3-1]),i.prev[e&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=e,e++;while(--t)i.strstart=e,i.lookahead=2,eL(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=r,e.input=o,e.avail_in=s,i.wrap=a,eo}};let eH=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var eV={assign:function(e){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let n=t.shift();if(n){if("object"!=typeof n)throw TypeError(n+"must be non-object");for(let t in n)eH(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;let n=new Uint8Array(t);for(let t=0,i=0,a=e.length;t<a;t++){let a=e[t];n.set(a,i),i+=a.length}return n}};let eq=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){eq=!1}let eY=new Uint8Array(256);for(let e=0;e<256;e++)eY[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;eY[254]=eY[254]=1;let eJ=(e,t)=>{if(t<65534&&e.subarray&&eq)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let i=0;i<t;i++)n+=String.fromCharCode(e[i]);return n};var eK={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,i,a,s,r=e.length,o=0;for(a=0;a<r;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<r&&(64512&(i=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),a++),o+=n<128?1:n<2048?2:n<65536?3:4;for(s=0,t=new Uint8Array(o),a=0;s<o;a++)(64512&(n=e.charCodeAt(a)))==55296&&a+1<r&&(64512&(i=e.charCodeAt(a+1)))==56320&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t},buf2string:(e,t)=>{let n,i;let a=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let s=Array(2*a);for(i=0,n=0;n<a;){let t=e[n++];if(t<128){s[i++]=t;continue}let r=eY[t];if(r>4){s[i++]=65533,n+=r-1;continue}for(t&=2===r?31:3===r?15:7;r>1&&n<a;)t=t<<6|63&e[n++],r--;if(r>1){s[i++]=65533;continue}t<65536?s[i++]=t:(t-=65536,s[i++]=55296|t>>10&1023,s[i++]=56320|1023&t)}return eJ(s,i)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(192&e[n])==128;)n--;return n<0||0===n?t:n+eY[e[n]]>t?n:t}},eG=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};let eX=Object.prototype.toString,{Z_NO_FLUSH:eQ,Z_SYNC_FLUSH:e0,Z_FULL_FLUSH:e1,Z_FINISH:e2,Z_OK:e5,Z_STREAM_END:e6,Z_DEFAULT_COMPRESSION:e3,Z_DEFAULT_STRATEGY:e8,Z_DEFLATED:e4}=K;function e9(e){this.options=eV.assign({level:e3,method:e4,chunkSize:16384,windowBits:15,memLevel:8,strategy:e8},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eG,this.strm.avail_out=0;let n=e$.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==e5)throw Error(J[n]);if(t.header&&e$.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?eK.string2buf(t.dictionary):"[object ArrayBuffer]"===eX.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=e$.deflateSetDictionary(this.strm,e))!==e5)throw Error(J[n]);this._dict_set=!0}}function e7(e,t){let n=new e9(t);if(n.push(e,!0),n.err)throw n.msg||J[n.err];return n.result}e9.prototype.push=function(e,t){let n,i;let a=this.strm,s=this.options.chunkSize;if(this.ended)return!1;for(i=t===~~t?t:!0===t?e2:eQ,"string"==typeof e?a.input=eK.string2buf(e):"[object ArrayBuffer]"===eX.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;;){if(0===a.avail_out&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),(i===e0||i===e1)&&a.avail_out<=6){this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;continue}if((n=e$.deflate(a,i))===e6)return a.next_out>0&&this.onData(a.output.subarray(0,a.next_out)),n=e$.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===e5;if(0===a.avail_out){this.onData(a.output);continue}if(i>0&&a.next_out>0){this.onData(a.output.subarray(0,a.next_out)),a.avail_out=0;continue}if(0===a.avail_in)break}return!0},e9.prototype.onData=function(e){this.chunks.push(e)},e9.prototype.onEnd=function(e){e===e5&&(this.result=eV.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var te=function(e,t){let n,i,a,s,r,o,l,d,c,h,u,p,f,g,m,w,_,b,v,y,x,k,E,S;let A=e.state;n=e.next_in,E=e.input,i=n+(e.avail_in-5),a=e.next_out,S=e.output,s=a-(t-e.avail_out),r=a+(e.avail_out-257),o=A.dmax,l=A.wsize,d=A.whave,c=A.wnext,h=A.window,u=A.hold,p=A.bits,f=A.lencode,g=A.distcode,m=(1<<A.lenbits)-1,w=(1<<A.distbits)-1;e:do for(p<15&&(u+=E[n++]<<p,p+=8,u+=E[n++]<<p,p+=8),_=f[u&m];;){if(u>>>=b=_>>>24,p-=b,0==(b=_>>>16&255))S[a++]=65535&_;else if(16&b)for(v=65535&_,(b&=15)&&(p<b&&(u+=E[n++]<<p,p+=8),v+=u&(1<<b)-1,u>>>=b,p-=b),p<15&&(u+=E[n++]<<p,p+=8,u+=E[n++]<<p,p+=8),_=g[u&w];;){if(u>>>=b=_>>>24,p-=b,16&(b=_>>>16&255)){if(y=65535&_,p<(b&=15)&&(u+=E[n++]<<p,(p+=8)<b&&(u+=E[n++]<<p,p+=8)),(y+=u&(1<<b)-1)>o){e.msg="invalid distance too far back",A.mode=16209;break e}if(u>>>=b,p-=b,y>(b=a-s)){if((b=y-b)>d&&A.sane){e.msg="invalid distance too far back",A.mode=16209;break e}if(x=0,k=h,0===c){if(x+=l-b,b<v){v-=b;do S[a++]=h[x++];while(--b)x=a-y,k=S}}else if(c<b){if(x+=l+c-b,(b-=c)<v){v-=b;do S[a++]=h[x++];while(--b)if(x=0,c<v){v-=b=c;do S[a++]=h[x++];while(--b)x=a-y,k=S}}}else if(x+=c-b,b<v){v-=b;do S[a++]=h[x++];while(--b)x=a-y,k=S}for(;v>2;)S[a++]=k[x++],S[a++]=k[x++],S[a++]=k[x++],v-=3;v&&(S[a++]=k[x++],v>1&&(S[a++]=k[x++]))}else{x=a-y;do S[a++]=S[x++],S[a++]=S[x++],S[a++]=S[x++],v-=3;while(v>2)v&&(S[a++]=S[x++],v>1&&(S[a++]=S[x++]))}}else if((64&b)==0){_=g[(65535&_)+(u&(1<<b)-1)];continue}else{e.msg="invalid distance code",A.mode=16209;break e}break}else if((64&b)==0){_=f[(65535&_)+(u&(1<<b)-1)];continue}else if(32&b){A.mode=16191;break e}else{e.msg="invalid literal/length code",A.mode=16209;break e}break}while(n<i&&a<r)n-=v=p>>3,p-=v<<3,u&=(1<<p)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<r?257+(r-a):257-(a-r),A.hold=u,A.bits=p};let tt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),tn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ti=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),ta=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var ts=(e,t,n,i,a,s,r,o)=>{let l,d,c,h,u,p,f,g,m;let w=o.bits,_=0,b=0,v=0,y=0,x=0,k=0,E=0,S=0,A=0,O=0,D=null,z=new Uint16Array(16),C=new Uint16Array(16),L=null;for(_=0;_<=15;_++)z[_]=0;for(b=0;b<i;b++)z[t[n+b]]++;for(y=15,x=w;y>=1&&0===z[y];y--);if(x>y&&(x=y),0===y)return a[s++]=20971520,a[s++]=20971520,o.bits=1,0;for(v=1;v<y&&0===z[v];v++);for(x<v&&(x=v),S=1,_=1;_<=15;_++)if(S<<=1,(S-=z[_])<0)return -1;if(S>0&&(0===e||1!==y))return -1;for(_=1,C[1]=0;_<15;_++)C[_+1]=C[_]+z[_];for(b=0;b<i;b++)0!==t[n+b]&&(r[C[t[n+b]]++]=b);if(0===e?(D=L=r,p=20):1===e?(D=tt,L=tn,p=257):(D=ti,L=ta,p=0),O=0,b=0,_=v,u=s,k=x,E=0,c=-1,h=(A=1<<x)-1,1===e&&A>852||2===e&&A>592)return 1;for(;;){f=_-E,r[b]+1<p?(g=0,m=r[b]):r[b]>=p?(g=L[r[b]-p],m=D[r[b]-p]):(g=96,m=0),l=1<<_-E,v=d=1<<k;do a[u+(O>>E)+(d-=l)]=f<<24|g<<16|m|0;while(0!==d)for(l=1<<_-1;O&l;)l>>=1;if(0!==l?(O&=l-1,O+=l):O=0,b++,0==--z[_]){if(_===y)break;_=t[n+r[b]]}if(_>x&&(O&h)!==c){for(0===E&&(E=x),u+=v,S=1<<(k=_-E);k+E<y&&!((S-=z[k+E])<=0);)k++,S<<=1;if(A+=1<<k,1===e&&A>852||2===e&&A>592)return 1;a[c=O&h]=x<<24|k<<16|u-s|0}}return 0!==O&&(a[u+O]=_-E<<24|4194304),o.bits=x,0};let{Z_FINISH:tr,Z_BLOCK:to,Z_TREES:tl,Z_OK:td,Z_STREAM_END:tc,Z_NEED_DICT:th,Z_STREAM_ERROR:tu,Z_DATA_ERROR:tp,Z_MEM_ERROR:tf,Z_BUF_ERROR:tg,Z_DEFLATED:tm}=K,tw=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function t_(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}let tb=e=>{if(!e)return 1;let t=e.state;return!t||t.strm!==e||t.mode<16180||t.mode>16211?1:0},tv=e=>{if(tb(e))return tu;let t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=16180,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,td},ty=e=>{if(tb(e))return tu;let t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,tv(e)},tx=(e,t)=>{let n;if(tb(e))return tu;let i=e.state;return(t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15))?tu:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,ty(e))},tk=!0,tE=e=>{if(tk){i=new Int32Array(512),a=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(ts(1,e.lens,0,288,i,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;ts(2,e.lens,0,32,a,0,e.work,{bits:5}),tk=!1}e.lencode=i,e.lenbits=9,e.distcode=a,e.distbits=5},tS=(e,t,n,i)=>{let a;let s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):((a=s.wsize-s.wnext)>i&&(a=i),s.window.set(t.subarray(n-i,n-i+a),s.wnext),(i-=a)?(s.window.set(t.subarray(n-i,n),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0};var tA={inflateReset:ty,inflateInit2:(e,t)=>{if(!e)return tu;let n=new t_;e.state=n,n.strm=e,n.window=null,n.mode=16180;let i=tx(e,t);return i!==td&&(e.state=null),i},inflate:(e,t)=>{let n,i,a,s,r,o,l,d,c,h,u,p,f,g,m,w,_,b,v,y,x,k,E,S;let A=0,O=new Uint8Array(4),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(tb(e)||!e.output||!e.input&&0!==e.avail_in)return tu;16191===(n=e.state).mode&&(n.mode=16192),r=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,d=n.hold,c=n.bits,h=o,u=l,k=td;t:for(;;)switch(n.mode){case 16180:if(0===n.wrap){n.mode=16192;break}for(;c<16;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}if(2&n.wrap&&35615===d){0===n.wbits&&(n.wbits=15),n.check=0,O[0]=255&d,O[1]=d>>>8&255,n.check=Y(n.check,O,2,0),d=0,c=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg="incorrect header check",n.mode=16209;break}if((15&d)!==tm){e.msg="unknown compression method",n.mode=16209;break}if(d>>>=4,c-=4,x=(15&d)+8,0===n.wbits&&(n.wbits=x),x>15||x>n.wbits){e.msg="invalid window size",n.mode=16209;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&d?16189:16191,d=0,c=0;break;case 16181:for(;c<16;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}if(n.flags=d,(255&n.flags)!==tm){e.msg="unknown compression method",n.mode=16209;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=16209;break}n.head&&(n.head.text=d>>8&1),512&n.flags&&4&n.wrap&&(O[0]=255&d,O[1]=d>>>8&255,n.check=Y(n.check,O,2,0)),d=0,c=0,n.mode=16182;case 16182:for(;c<32;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}n.head&&(n.head.time=d),512&n.flags&&4&n.wrap&&(O[0]=255&d,O[1]=d>>>8&255,O[2]=d>>>16&255,O[3]=d>>>24&255,n.check=Y(n.check,O,4,0)),d=0,c=0,n.mode=16183;case 16183:for(;c<16;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}n.head&&(n.head.xflags=255&d,n.head.os=d>>8),512&n.flags&&4&n.wrap&&(O[0]=255&d,O[1]=d>>>8&255,n.check=Y(n.check,O,2,0)),d=0,c=0,n.mode=16184;case 16184:if(1024&n.flags){for(;c<16;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}n.length=d,n.head&&(n.head.extra_len=d),512&n.flags&&4&n.wrap&&(O[0]=255&d,O[1]=d>>>8&255,n.check=Y(n.check,O,2,0)),d=0,c=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&((p=n.length)>o&&(p=o),p&&(n.head&&(x=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(s,s+p),x)),512&n.flags&&4&n.wrap&&(n.check=Y(n.check,i,p,s)),o-=p,s+=p,n.length-=p),n.length))break t;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break t;p=0;do x=i[s+p++],n.head&&x&&n.length<65536&&(n.head.name+=String.fromCharCode(x));while(x&&p<o)if(512&n.flags&&4&n.wrap&&(n.check=Y(n.check,i,p,s)),o-=p,s+=p,x)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break t;p=0;do x=i[s+p++],n.head&&x&&n.length<65536&&(n.head.comment+=String.fromCharCode(x));while(x&&p<o)if(512&n.flags&&4&n.wrap&&(n.check=Y(n.check,i,p,s)),o-=p,s+=p,x)break t}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;c<16;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}if(4&n.wrap&&d!==(65535&n.check)){e.msg="header crc mismatch",n.mode=16209;break}d=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=16191;break;case 16189:for(;c<32;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}e.adler=n.check=tw(d),d=0,c=0,n.mode=16190;case 16190:if(0===n.havedict)return e.next_out=r,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=d,n.bits=c,th;e.adler=n.check=1,n.mode=16191;case 16191:if(t===to||t===tl)break t;case 16192:if(n.last){d>>>=7&c,c-=7&c,n.mode=16206;break}for(;c<3;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}switch(n.last=1&d,c-=1,3&(d>>>=1)){case 0:n.mode=16193;break;case 1:if(tE(n),n.mode=16199,t===tl){d>>>=2,c-=2;break t}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=16209}d>>>=2,c-=2;break;case 16193:for(d>>>=7&c,c-=7&c;c<32;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}if((65535&d)!=(d>>>16^65535)){e.msg="invalid stored block lengths",n.mode=16209;break}if(n.length=65535&d,d=0,c=0,n.mode=16194,t===tl)break t;case 16194:n.mode=16195;case 16195:if(p=n.length){if(p>o&&(p=o),p>l&&(p=l),0===p)break t;a.set(i.subarray(s,s+p),r),o-=p,s+=p,l-=p,r+=p,n.length-=p;break}n.mode=16191;break;case 16196:for(;c<14;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}if(n.nlen=(31&d)+257,d>>>=5,c-=5,n.ndist=(31&d)+1,d>>>=5,c-=5,n.ncode=(15&d)+4,d>>>=4,c-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=16209;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;c<3;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}n.lens[D[n.have++]]=7&d,d>>>=3,c-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,E={bits:n.lenbits},k=ts(0,n.lens,0,19,n.lencode,0,n.work,E),n.lenbits=E.bits,k){e.msg="invalid code lengths set",n.mode=16209;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;m=(A=n.lencode[d&(1<<n.lenbits)-1])>>>24,w=A>>>16&255,_=65535&A,!(m<=c);){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}if(_<16)d>>>=m,c-=m,n.lens[n.have++]=_;else{if(16===_){for(S=m+2;c<S;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}if(d>>>=m,c-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=16209;break}x=n.lens[n.have-1],p=3+(3&d),d>>>=2,c-=2}else if(17===_){for(S=m+3;c<S;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}d>>>=m,c-=m,x=0,p=3+(7&d),d>>>=3,c-=3}else{for(S=m+7;c<S;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}d>>>=m,c-=m,x=0,p=11+(127&d),d>>>=7,c-=7}if(n.have+p>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=16209;break}for(;p--;)n.lens[n.have++]=x}}if(16209===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=16209;break}if(n.lenbits=9,E={bits:n.lenbits},k=ts(1,n.lens,0,n.nlen,n.lencode,0,n.work,E),n.lenbits=E.bits,k){e.msg="invalid literal/lengths set",n.mode=16209;break}if(n.distbits=6,n.distcode=n.distdyn,E={bits:n.distbits},k=ts(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E),n.distbits=E.bits,k){e.msg="invalid distances set",n.mode=16209;break}if(n.mode=16199,t===tl)break t;case 16199:n.mode=16200;case 16200:if(o>=6&&l>=258){e.next_out=r,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=d,n.bits=c,te(e,u),r=e.next_out,a=e.output,l=e.avail_out,s=e.next_in,i=e.input,o=e.avail_in,d=n.hold,c=n.bits,16191===n.mode&&(n.back=-1);break}for(n.back=0;m=(A=n.lencode[d&(1<<n.lenbits)-1])>>>24,w=A>>>16&255,_=65535&A,!(m<=c);){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}if(w&&(240&w)==0){for(b=m,v=w,y=_;m=(A=n.lencode[y+((d&(1<<b+v)-1)>>b)])>>>24,w=A>>>16&255,_=65535&A,!(b+m<=c);){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}d>>>=b,c-=b,n.back+=b}if(d>>>=m,c-=m,n.back+=m,n.length=_,0===w){n.mode=16205;break}if(32&w){n.back=-1,n.mode=16191;break}if(64&w){e.msg="invalid literal/length code",n.mode=16209;break}n.extra=15&w,n.mode=16201;case 16201:if(n.extra){for(S=n.extra;c<S;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}n.length+=d&(1<<n.extra)-1,d>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;m=(A=n.distcode[d&(1<<n.distbits)-1])>>>24,w=A>>>16&255,_=65535&A,!(m<=c);){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}if((240&w)==0){for(b=m,v=w,y=_;m=(A=n.distcode[y+((d&(1<<b+v)-1)>>b)])>>>24,w=A>>>16&255,_=65535&A,!(b+m<=c);){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}d>>>=b,c-=b,n.back+=b}if(d>>>=m,c-=m,n.back+=m,64&w){e.msg="invalid distance code",n.mode=16209;break}n.offset=_,n.extra=15&w,n.mode=16203;case 16203:if(n.extra){for(S=n.extra;c<S;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}n.offset+=d&(1<<n.extra)-1,d>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=16209;break}n.mode=16204;case 16204:if(0===l)break t;if(p=u-l,n.offset>p){if((p=n.offset-p)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=16209;break}p>n.wnext?(p-=n.wnext,f=n.wsize-p):f=n.wnext-p,p>n.length&&(p=n.length),g=n.window}else g=a,f=r-n.offset,p=n.length;p>l&&(p=l),l-=p,n.length-=p;do a[r++]=g[f++];while(--p)0===n.length&&(n.mode=16200);break;case 16205:if(0===l)break t;a[r++]=n.length,l--,n.mode=16200;break;case 16206:if(n.wrap){for(;c<32;){if(0===o)break t;o--,d|=i[s++]<<c,c+=8}if(u-=l,e.total_out+=u,n.total+=u,4&n.wrap&&u&&(e.adler=n.check=n.flags?Y(n.check,a,u,r-u):V(n.check,a,u,r-u)),u=l,4&n.wrap&&(n.flags?d:tw(d))!==n.check){e.msg="incorrect data check",n.mode=16209;break}d=0,c=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;c<32;){if(0===o)break t;o--,d+=i[s++]<<c,c+=8}if(4&n.wrap&&d!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=16209;break}d=0,c=0}n.mode=16208;case 16208:k=tc;break t;case 16209:k=tp;break t;case 16210:return tf;default:return tu}return e.next_out=r,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=d,n.bits=c,(n.wsize||u!==e.avail_out&&n.mode<16209&&(n.mode<16206||t!==tr))&&tS(e,e.output,e.next_out,u-e.avail_out),h-=e.avail_in,u-=e.avail_out,e.total_in+=h,e.total_out+=u,n.total+=u,4&n.wrap&&u&&(e.adler=n.check=n.flags?Y(n.check,a,u,e.next_out-u):V(n.check,a,u,e.next_out-u)),e.data_type=n.bits+(n.last?64:0)+(16191===n.mode?128:0)+(16199===n.mode||16194===n.mode?256:0),(0===h&&0===u||t===tr)&&k===td&&(k=tg),k},inflateEnd:e=>{if(tb(e))return tu;let t=e.state;return t.window&&(t.window=null),e.state=null,td},inflateGetHeader:(e,t)=>{if(tb(e))return tu;let n=e.state;return(2&n.wrap)==0?tu:(n.head=t,t.done=!1,td)},inflateSetDictionary:(e,t)=>{let n;let i=t.length;return tb(e)||0!==(n=e.state).wrap&&16190!==n.mode?tu:16190===n.mode&&V(1,t,i,0)!==n.check?tp:tS(e,t,i,i)?(n.mode=16210,tf):(n.havedict=1,td)}},tO=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};let tD=Object.prototype.toString,{Z_NO_FLUSH:tz,Z_FINISH:tC,Z_OK:tL,Z_STREAM_END:tN,Z_NEED_DICT:tI,Z_STREAM_ERROR:tT,Z_DATA_ERROR:tR,Z_MEM_ERROR:tF}=K;function tj(e){this.options=eV.assign({chunkSize:65536,windowBits:15,to:""},e||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits)==0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new eG,this.strm.avail_out=0;let n=tA.inflateInit2(this.strm,t.windowBits);if(n!==tL||(this.header=new tO,tA.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=eK.string2buf(t.dictionary):"[object ArrayBuffer]"===tD.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=tA.inflateSetDictionary(this.strm,t.dictionary))!==tL)))throw Error(J[n])}function tP(e,t){let n=new tj(t);if(n.push(e),n.err)throw n.msg||J[n.err];return n.result}tj.prototype.push=function(e,t){let n,i,a;let s=this.strm,r=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(i=t===~~t?t:!0===t?tC:tz,"[object ArrayBuffer]"===tD.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;;){for(0===s.avail_out&&(s.output=new Uint8Array(r),s.next_out=0,s.avail_out=r),(n=tA.inflate(s,i))===tI&&o&&((n=tA.inflateSetDictionary(s,o))===tL?n=tA.inflate(s,i):n===tR&&(n=tI));s.avail_in>0&&n===tN&&s.state.wrap>0&&0!==e[s.next_in];)tA.inflateReset(s),n=tA.inflate(s,i);switch(n){case tT:case tR:case tI:case tF:return this.onEnd(n),this.ended=!0,!1}if(a=s.avail_out,s.next_out&&(0===s.avail_out||n===tN)){if("string"===this.options.to){let e=eK.utf8border(s.output,s.next_out),t=s.next_out-e,n=eK.buf2string(s.output,e);s.next_out=t,s.avail_out=r-t,t&&s.output.set(s.output.subarray(e,e+t),0),this.onData(n)}else this.onData(s.output.length===s.next_out?s.output:s.output.subarray(0,s.next_out))}if(n!==tL||0!==a){if(n===tN)return n=tA.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===s.avail_in)break}}return!0},tj.prototype.onData=function(e){this.chunks.push(e)},tj.prototype.onEnd=function(e){e===tL&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=eV.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};let{Deflate:tU,deflate:tM,deflateRaw:tW,gzip:tB}={Deflate:e9,deflate:e7,deflateRaw:function(e,t){return(t=t||{}).raw=!0,e7(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,e7(e,t)},constants:K},{Inflate:tZ,inflate:t$,inflateRaw:tH,ungzip:tV}={Inflate:tj,inflate:tP,inflateRaw:function(e,t){return(t=t||{}).raw=!0,tP(e,t)},ungzip:tP,constants:K},tq=window.navigator;function tY(...e){return e.join("-")}async function tJ(e){try{await tq.clipboard.writeText(e)}catch(e){console.error("Could not write to clipboard.",e.message)}}let tK=window.history,tG=window.localStorage,tX=window.location;class tQ{key;#e;#t;constructor(e,t,n={}){if(this.key=e,this.#e=!0===n.ephemeral,this.#t=structuredClone(t),!this.#e&&void 0!==e){let t=tG.getItem(e);if(t){console.debug(`Found local cache for key '${e}'.`,t);try{this.set(JSON.parse(t))}catch(t){console.debug(`Could not parse cache for key '${e}'.`,t.message)}}}let i=n.params??{};for(let e in i){let t=tQ.getParam(i[e]);void 0!==t&&this.set(e,t)}}get(e){return structuredClone(void 0===e?this.#t:this.#t[e])}set(e,t){void 0===t&&(t=e,e=this.key);let n=e===this.key;return t=structuredClone(t),n?this.#t=t:this.#t[e]=t,this.#e||tG.setItem(this.key,JSON.stringify(this.#t)),this.get()}update(e){return this.set(e(this.get()))}static url=new URL(tX);static params=tQ.url.searchParams;static decode(e){return function(e){let t=window.atob((e+"===".slice((e.length+3)%4)).replace(/-/g,"+").replace(/_/g,"/"));return new TextDecoder().decode(t$(Uint8Array.from(t,e=>e.codePointAt(0))))}(e)}static encode(e){return window.btoa(String.fromCodePoint(...tM(new TextEncoder().encode(e)))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}static getParam(e){if(tQ.params.has(e.name))return tQ.#n(e,tQ.params.get(e.name))}static getStorage(e){let t=tG.getItem(e.name);if(console.log(e,t),null!==t)return tQ.#n(e,t)}static #n(e,t){let n=e.isEncoded?tQ.decode(t):t;return e.isJson?JSON.parse(n):n}static reload(){tX.assign(tQ.url.search)}static setParam(e,t){tQ.params.has(e.name)&&(e.isJson&&(t=JSON.stringify(t)),e.isEncoded&&(t=tQ.encode(t)),tQ.params.set(e.name,t),tK.pushState({[e.name]:t},"",tQ.url))}static Param=class{name;isEncoded;isJson;constructor(e,t,n){this.name=e,this.isEncoded=!0===t,this.isJson=!0===n}};static Params=Object.freeze({Debug:"debug",Expand:"expand",Id:"id",State:"state",Width:"width"})}let t0=window.console=window.console||{debug:function(){}},t1=t0.debug;function t2(e){t0.debug=e?t1:function(){}}t2(tQ.params.has(tQ.Params.Debug)??!1);let t5="direction",t6="east",t3="north",t8="south",t4="west",t9=Object.freeze({East:tY(t5,t6),North:tY(t5,t3),NorthEast:tY(t5,t3,t6),NorthWest:tY(t5,t3,t4),South:tY(t5,t8),SouthEast:tY(t5,t8,t6),SouthWest:tY(t5,t8,t4),West:tY(t5,t4)});class t7{id;index;#i;#a;constructor(e,t,n){this.id=[e,t].join(","),this.row=Number(e),this.column=Number(t),void 0!==n&&(this.#a=n,this.index=this.row*n+this.column)}add(e){return new t7(this.row+e.row,this.column+e.column,this.#a)}equals(e){return this.id===e?.id}getDirection(e){return this.getNeighbors().find(t=>t.coordinates.equals(e))?.direction}getNeighbors(){return this.#i??(this.#i=t7.getNeighbors(this))}getNeighborsCrossing(e){let t=t7.Crossings[this.getDirection(e)]??[];return this.getNeighbors().filter(e=>t.includes(e.direction))}isNeighbor(e){return this.getNeighbors().some(t=>t.coordinates.equals(e))}toString(){return this.id}static getNeighbors(e){return t7.Neighbors.map(t=>new t7.Neighbor(t.direction,e.add(t.coordinates)))}static Crossings=Object.freeze({[t9.NorthEast]:[t9.North,t9.East],[t9.NorthWest]:[t9.North,t9.West],[t9.SouthEast]:[t9.South,t9.East],[t9.SouthWest]:[t9.South,t9.West]});static Neighbor=class{coordinates;direction;index;constructor(e,t){this.direction=e,this.coordinates=t,this.index=t.index}};static Neighbors=Object.freeze([new t7.Neighbor(t9.East,new t7(0,1)),new t7.Neighbor(t9.North,new t7(-1,0)),new t7.Neighbor(t9.NorthEast,new t7(-1,1)),new t7.Neighbor(t9.NorthWest,new t7(-1,-1)),new t7.Neighbor(t9.South,new t7(1,0)),new t7.Neighbor(t9.SouthEast,new t7(1,1)),new t7.Neighbor(t9.SouthWest,new t7(1,-1)),new t7.Neighbor(t9.West,new t7(0,-1))])}let ne=0;class nt{name;value;constructor(e){this.name=e,this.value=1<<ne++}}class nn{#t;constructor(...e){this.set(...e)}add(...e){return e.forEach(e=>{this.#t|=e.value}),this}get(){return this.#t}has(...e){return e.some(e=>(this.#t&e.value)>0)}remove(...e){return e.forEach(e=>{this.#t&=~e.value}),this}set(...e){return this.#t=0,e.forEach(e=>{"number"==typeof e?this.#t=e:e instanceof nn?this.#t=e.get():e instanceof nt&&this.add(e)}),this}toString(e){return e.flatMap(e=>this.has(e)?[e.name]:[]).join(",")}}class ni{#s=[];#r={context:void 0,element:document};constructor(e={},t=[]){this.#r=Object.assign(this.#r,e),this.add(t)}add(e={},t=[]){Array.isArray(e)&&(t=e,e={}),0!==t.length&&(this.#s=this.#s.concat(t.map(t=>{if((t=Object.assign({},this.#r,e,t)).type)Array.isArray(t.type)||(t.type=[t.type]);else throw Error("Event type is required");return t.context&&(Array.isArray(t.context)||(t.context=[t.context]),t.handler=t.handler.bind(...t.context)),t.type.forEach(e=>t.element.addEventListener(e,t.handler,t.options)),t})))}remove(){this.#s.forEach(e=>e.type.forEach(t=>e.element.removeEventListener(t,e.handler))),this.#s=[]}}let na=document.getElementById("grid");class ns{#o=document.createElement("span");#l=document.createElement("div");#d;#c=new ni({context:this,element:this.#l});#h;constructor(e,t){this.#d=e,this.#h=t,this.#c.add([{type:"pointerdown",handler:this.#u},{type:"pointerenter",handler:this.#u}]),this.#o.className="content";let n=document.createElement("div");n.classList.add("background"),n.append(this.#o),this.#l.append(n),this.update()}equals(e){return this.getIndex()===e.getIndex()}getContent(){return this.#h.content}getCoordinates(){return this.#d}getDirection(e){return this.getCoordinates().getDirection(e.getCoordinates())}getElement(){return this.#l}getFlags(){return this.#h.getFlags()}getIndex(){return this.#h.index}isConnected(e){return this.getFlags().has(ns.FlagsByName[this.getDirection(e)])}isNeighbor(e){return this.getCoordinates().isNeighbor(e?.getCoordinates())}reset(){this.update(e=>{let t=new nn,n=e.getFlags();return ns.StickyFlags.filter(e=>n.has(e)).forEach(e=>t.add(e)),e.copy({flags:t})})}toString(){return`[${ns.Name}:${this.getCoordinates.toString()}]`}update(e){if(void 0!==e){if("function"==typeof e&&(e=e(this.#h)),!(e instanceof ns.State))throw Error("Cannot update cell state: value given is not of type Cell.State");this.#h=e}this.#l.className=ns.Name,this.#l.dataset.index=this.getIndex();let t=this.getFlags();return Object.values(ns.Flags).filter(e=>t.has(e)).forEach(e=>this.#l.classList.add(tY(ns.Name,e.name))),this.#o.textContent=this.#h.content,this.#h}#u(e){if("pointerdown"===e.type&&e.target.releasePointerCapture(e.pointerId),e.buttons>0){let t={cell:this,event:e};setTimeout(()=>na.dispatchEvent(new CustomEvent(ns.Events.Select,{detail:t})))}}static Events=Object.freeze({Select:"cell-select"});static Flags=Object.freeze({Active:new nt("active"),DirectionEast:new nt(t9.East),DirectionNorth:new nt(t9.North),DirectionNorthEast:new nt(t9.NorthEast),DirectionNorthWest:new nt(t9.NorthWest),DirectionSouth:new nt(t9.South),DirectionSouthEast:new nt(t9.SouthEast),DirectionSouthWest:new nt(t9.SouthWest),DirectionWest:new nt(t9.West),First:new nt("first"),Last:new nt("last"),Path:new nt("path"),Selected:new nt("selected"),Swap:new nt("swap"),Swapped:new nt("swapped"),Validated:new nt("validated"),WordEnd:new nt("word-end"),WordStart:new nt("word-start")});static FlagsByName=Object.fromEntries(Object.values(ns.Flags).map(e=>[e.name,e]));static StickyFlags=Object.freeze([ns.Flags.Swapped]);static Name="cell";static State=class{index;content;flags;#p;constructor(e,t,n=0){this.index=e,this.content=t,this.flags=n instanceof nn?n.get():n}copy(e){return new ns.State(e.index??this.index,e.content??this.content,e.flags??this.flags)}getFlags(){return this.#p??(this.#p=new nn(this.flags))}}}class nr{character;frequency;points;weight;constructor(e){this.character=e,this.frequency=nr.frequencies[e],this.points=nr.pointTiers.reduce((e,t)=>e+(this.frequency<t?1:0),1);let t=nr.characters.slice(0,nr.characters.indexOf(e)+1);this.weight=t.reduce((e,t)=>e+nr.frequencies[t],0)}static frequencies=Object.freeze({a:.08167,b:.01492,c:.02782,d:.04253,e:.12702,f:.02228,g:.02015,h:.06094,i:.06966,j:.00153,k:.00772,l:.04025,m:.02406,n:.06749,o:.07507,p:.01929,q:95e-5,r:.05987,s:.06327,t:.09056,u:.02758,v:.00978,w:.0236,x:.0015,y:.01974,z:74e-5});static characters=Object.freeze(Object.keys(nr.frequencies));static pointTiers=[.1,.5,1,4,8].map(e=>e/100)}let no=Object.fromEntries(nr.characters.map(e=>[e,new nr(e)])),nl=Object.values(no),nd=document.getElementById("letter-points"),nc={};for(let e in nl.forEach(e=>(nc[e.points]??(nc[e.points]=[])).push(e)),nc){let t=document.createElement("li"),n=document.createElement("span");n.classList.add("points"),n.textContent=`${e} Point${e>1?"s":""}:`;let i=document.createElement("span");i.classList.add("letters"),i.textContent=nc[e].map(e=>e.character).join(", "),t.append(n,i),nd.append(t)}class nh{content;indexes=[];points;constructor(e,t){let n=[],i=[];t.forEach(e=>{let t=e.getContent();n.push(t);let a=no[t];e.getFlags().has(ns.Flags.Swapped)||i.push(a),this.indexes.push(e.getIndex())}),this.content=n.join("");let a=Math.floor(i.length/nh.widthMultiplier(e));this.points=i.reduce((e,t)=>e+t.points,0)*a}static widthMultiplier(e){return Math.floor(e/2)}static minimumLength=3}class nu{constructor(e,t){this.start=e,this.end=t}contains(e){return e>=this.start&&e<=this.end}}class np{name;url;constructor(e,t){this.name=e,this.url=t}}let nf=Object.freeze({Default:"default",Profanity:"profanity"}),ng=Object.freeze({Default:new np(nf.Default,"https://raw.githubusercontent.com/kflorence/word-list/main/words.txt?v=1"),Profanity:new np(nf.Profanity,"https://raw.githubusercontent.com/kflorence/word-list/main/words-profanity.txt?v=1")});class nm{dictionaries={};values=[];async load(e){if(this.dictionaries[e.name]){console.debug(`Dictionary '${e.name}' has already been loaded.`);return}console.debug(`Words is loading dictionary '${e.name}' from URL: '${e.url}'`);try{let t=await fetch(e.url,{cache:"force-cache"}),n=await t.text(),i=this.values.length-1;this.values=Array.from(new Set(this.values.concat(n.split("\n").filter(e=>e.length>=nh.minimumLength)))),this.dictionaries[e.name]=new nu(i,this.values.length-1),console.debug(`Words loaded. New word count: ${this.values.length}`)}catch(t){console.error(`Could not load words for dictionary '${e.name}' from URL '${e.url}'`,t.message)}}getRandom(e,t){let n=Array.from(this.values),i=0,a=[];return function s(){let r=t-i-nh.minimumLength;r>=nh.minimumLength?n=n.filter(e=>e.length<=r):(r+=nh.minimumLength,n=n.filter(e=>e.length===r)),console.debug(`getWords ${a.length}: count = ${i}/${t}, maximumWordLength = ${r}, availableWords = ${n.length}`);let o=Math.floor(e()*n.length),l=n[o];return(n.splice(o,1),console.debug(`getWords picked word '${l}' at index ${o}.`),a.push(l),(i+=l.length)===t)?(console.debug(`getWords result: ${a.join(", ")}`),a):s()}()}getDictionary(e){let t=this.values.indexOf(e);if(!(t<0)){for(let e in this.dictionaries)if(this.dictionaries[e].contains(t))return e}}isValid(e){return e.length>=nh.minimumLength&&this.values.includes(e)}unload(e){let t=this.dictionaries[e.name];t&&(console.debug(`Unloading dictionary '${e.name}'. Current length: ${this.values.length}`),this.values.splice(t.start,t.end-t.start+1),delete this.dictionaries[e.name],console.debug(`Done unloading. New length: ${this.values.length}`))}}let nw=document.getElementById("grid");class n_{ephemeral;id;size;width;#f;#g=[];#m=[];#c=new ni({context:this,element:nw});#w=-1;#_;#b;#v;#y=[];#x;#h;#k;constructor(e){let t=tQ.params.has(tQ.Params.State),n=t?n_.#E.fromState(tQ.getParam(n_.StateParam)):n_.#E.fromParams();if(t){let e=tQ.getStorage(new tQ.Param(n.getSeed(),!1,!0));n.best=e.best}this.ephemeral=t,this.id=n.id,this.width=n.width,this.size=this.width*this.width,this.#b=n.getSeed(),this.#_=n_.splitmix32(this.#b),this.#h=new tQ(this.#b,n,{ephemeral:t}),this.#k=e,nw.dataset.width=this.width,this.#c.add([{type:ns.Events.Select,handler:this.#u},{type:"pointerup",element:document,handler:this.#S}])}getDictionaries(){return Array.from(new Set([nf.Default].concat(this.#A().dictionary))).sort()}getMoves(){return this.#A().moves}getSeedWords(){return Array.from(this.#v)}getSelection(){return Array.from(this.#y)}getState(){return tQ.encode(JSON.stringify(this.#h.get()))}getStatistics(e){return e??=this.#A(),new n_.Statistics(e,this.getWords(e),this.size)}getSwaps(){return this.#A().swaps.map(e=>e.map(e=>{let t=this.#g[e],n=this.#m[e].content,i=t.getCoordinates().toString();return`${n} (${i})`}))}getWords(e){return(e??this.#A()).words.map(e=>new nh(this.width,e.map(e=>this.#g[e])))}removeSwap(e){let t=this.#A(),n=t.swaps.splice(e,1)[0],i=[n_.Moves.Swap,e].join(":"),a=t.moves.findIndex(e=>i===e);t.moves.splice(a,1),this.#O(t);let s=t.words.findIndex(e=>n.some(t=>e.indexOf(t)>=0));s>=0&&this.removeWord(s),this.#D(n)}removeWord(e){let t=this.#A(),n=t.words.splice(e)[0],i=t.path.findIndex(e=>n.indexOf(e)>=0),a=t.path.splice(i);t.dictionary.splice(e),t.moves=t.moves.filter(t=>{let[n,i]=t.split(":");return!(n===n_.Moves.Spell&&i>=e)}),this.#O(t);let s=t.path[t.path.length-1];void 0!==s&&a.push(s),this.#D(a)}reset(){this.#O(new n_.#E(this.id,this.width)),this.#D(n_.getIndexes(this.#g))}setup(){this.#v=this.#k.getRandom(this.#_,this.size);let e=this.#v.join("").split(""),t=[];for(let n=0;n<this.size;n++){t.push(n);let i=new t7(Math.floor(n/this.width),n%this.width,this.width),a=Math.floor(this.#_()*e.length),s=e.splice(a,1)[0],r=new ns.State(n,s),o=new ns(i,r);this.#g.push(o),this.#m.push(r)}this.#D(t),nw.replaceChildren(...this.#g.map(e=>e.getElement())),nw.classList.remove(n_.ClassNames.Loading)}undo(){if(this.#y.length){this.#z(this.#y.splice(0));return}let e=this.#A();if(0===e.moves.length)return;let[t,n]=e.moves[e.moves.length-1].split(":");switch(t){case n_.Moves.Spell:this.removeWord(n);break;case n_.Moves.Swap:this.removeSwap(n)}}#C(e){this.#L(),e.update(e=>e.copy({flags:e.getFlags().add(ns.Flags.Active)})),this.#f=e}#N(e){let t=this.#y[this.#I(e)];if(t){let n=e.getDirection(t);e.update(e=>e.copy({flags:e.getFlags().add(ns.FlagsByName[n])}))}}#L(){this.#f&&(this.#f.update(e=>e.copy({flags:e.getFlags().remove(ns.Flags.Active)})),this.#f=void 0)}#z(e){e.forEach(e=>e.reset());let t=this.#T();t&&this.#D([t.getIndex()]),this.#R(n_.Events.Selection)}#R(e,t=null){let n=new CustomEvent(e,{detail:t});setTimeout(()=>document.dispatchEvent(n))}#T(){let e=this.#A();return this.#g[e.path[e.path.length-1]]}#I(e){if(0===this.#y.length||!(e??=this.#T()))return;let t=[0],n=this.#y.length-1;return 0!==n&&t.push(n),t.find(t=>{let n=this.#y[t];return!n.getFlags().has(ns.Flags.Swap)&&this.#F(e,n)})??-1}#A(){return n_.#E.fromState(this.#h.get())}#j(e,t){let[n,i]=e.getCoordinates().getNeighborsCrossing(t.getCoordinates()).map(e=>this.#g[e.index]);return n?.isConnected(i)||i?.isConnected(n)||!1}#F(e,t){return e?.isNeighbor(t)&&!this.#j(e,t)}#S(e){if(this.#L(),!this.#x){e.target.closest("#grid")||e.target.closest("#undo")||this.#z(this.#y.splice(0));return}let t=this.#y.length;t-this.#x.length>1?this.#P():2===t&&this.#y[t-1].getFlags().has(ns.Flags.Swap)&&this.#U(...this.#y.splice(0)),this.#x=void 0}#u(e){if(!this.#x&&"pointerdown"!==e.detail.event.type){console.debug("Ignoring cell events prior to pointerdown.");return}let t=e.detail.cell;if(this.#C(t),t.getFlags().has(ns.Flags.Validated))return;let n=void 0!==this.#x;if(n){if(0===this.#y.length){console.debug("SelectMultiple: Selection was cleared during multi-select. Wait for pointerup before continuing.");return}}else this.#x=new n_.SelectionStart(e,this.#y.length);let i=[],a=this.#y[this.#y.length-1],s=this.#y.findIndex(e=>e.equals(t));if(a?.getFlags().has(ns.Flags.Swap))this.#M(t,a,i,s,n);else{let e=t.isNeighbor(a),r=this.#F(a,t);n?this.#W(t,a,i,s,r):this.#B(t,a,i,s,e,r)}i.includes(ns.Flags.Path)&&i.push(ns.FlagsByName[t.getDirection(a)],ns.Flags.Selected);let r=this.#T();r&&(this.#D([r.getIndex()]),this.#y.length&&!i.includes(ns.Flags.Swap)&&this.#N(r)),i.length&&(t.update(e=>e.copy({flags:e.getFlags().add(...i)})),this.#R(n_.Events.Selection))}#W(e,t,n,i,a){i>=0?(console.debug("SelectMultiple: Re-selecting a previously selected cell. De-select everything after it."),this.#z(this.#y.splice(i+1))):a?(console.debug("SelectMultiple: A valid new cell has been selected."),this.#y.push(e),n.push(ns.Flags.Path)):console.debug("SelectMultiple: Invalid cell selected. Ignoring.")}#B(e,t,n,i,a,s){if(i>=0){if(1!==this.#y.length||e.getFlags().has(ns.Flags.Swapped)){let e=this.#y.length-1;this.#y.length>=nh.minimumLength&&i===e?(console.debug("SelectSingle: Submitting selection for validation."),this.#P()):(console.debug("SelectSingle: Re-selecting a previously selected cell. De-select everything after it."),this.#z(this.#y.splice(i+1)))}else console.debug("SelectSingle: A non-swapped selected cell has been re-tapped. Mark for swap."),n.push(ns.Flags.Swap)}else a?s?(console.debug("SelectSingle: A valid new cell has been selected."),this.#y.push(e),n.push(ns.Flags.Path)):console.debug("SelectSingle: Invalid cell selected. Ignoring."):(this.#y.length&&(console.debug("SelectSingle: A non-neighboring cell has been selected. De-select everything else."),this.#z(this.#y.splice(0))),this.#y.push(e),n.push(ns.Flags.Selected))}#M(e,t,n,i,a){a?(console.debug("Swap: Multiple target cells selected. De-selecting everything except source cell."),this.#z(this.#y.splice(1))):e.getFlags().has(ns.Flags.Swap,ns.Flags.Swapped)||e.getContent()===t.getContent()?(console.debug("Swap: Invalid target cell selected. Cancelling swap."),this.#z(this.#y.splice(0))):e.getFlags().has(ns.Flags.Swapped)||(console.debug("Swap: Valid target cell selected. Initiating swap."),n.push(ns.Flags.Swap),this.#y.push(e))}#O(e){this.#h.set(e),this.ephemeral&&tQ.setParam(n_.StateParam,e)}#U(e,t){let n=this.#A(),i=[e.getIndex(),t.getIndex()];n.swaps.push(i),n.moves.push([n_.Moves.Swap,n.swaps.length-1].join(":")),this.#O(n),this.#D(i)}#D(e){let t=this.#A(),n=t.path.length-1;if(e.forEach(e=>{let i=this.#g[e],a=this.#m[e].content,s=new nn,r=t.swaps.find(t=>t.includes(e));if(r){s.add(ns.Flags.Swapped);let t=0===r.indexOf(e)?r[1]:r[0];a=this.#m[t].content}let o=t.path.indexOf(e);if(o>=0){s.add(ns.Flags.Path);let a=t.path[o+1];if(void 0!==a){let e=this.#g[a];s.add(ns.FlagsByName[i.getDirection(e)])}0===o&&s.add(ns.Flags.First),o===n&&(n!==this.#w&&this.#w>=0&&this.#g[this.#w].update(e=>e.copy({flags:e.getFlags().remove(ns.Flags.Last)})),s.add(ns.Flags.Last));let r=t.words.find(t=>t.includes(e));if(r){s.add(ns.Flags.Validated);let n=r.length-1,i=(t.path.indexOf(r[0])>t.path.indexOf(r[n])?Array.from(r).reverse():r).indexOf(e);0===i?s.add(ns.Flags.WordStart):i===n&&s.add(ns.Flags.WordEnd)}}i.update(e=>e.copy({content:a,flags:s}))}),this.#w=n,!this.ephemeral){let e=this.getStatistics(t);e.score>t.best&&(t.best=e.score,this.#O(t))}this.#R(n_.Events.Update)}#P(){let e=n_.getIndexes(this.#y),t=this.#T();if(t){let n=this.#I(t);n<0?(console.debug("Unable to anchor selection to existing path."),e.splice(0)):0!==n?(console.debug("Anchoring selection at end."),e.reverse()):console.debug("Anchoring selection at beginning.")}if(e.length){let t=Array.from(this.#y),n=n_.getContent(t);if(this.#k.isValid(n)||(n=n_.getContent(t.reverse())),this.#k.isValid(n)){let i=this.#A();i.path.push(...e),i.words.push(n_.getIndexes(t)),i.dictionary.push(this.#k.getDictionary(n)),i.moves.push([n_.Moves.Spell,i.words.length-1].join(":")),this.#O(i)}}let n=t?e.concat([t.getIndex()]):e;this.#z(this.#y.splice(0)),this.#D(n)}static cyrb53=function(e,t=0){let n=3735928559^t,i=1103547991^t;for(let t=0,a;t<e.length;t++)n=Math.imul(n^(a=e.charCodeAt(t)),2654435761),i=Math.imul(i^a,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(i^i>>>13,3266489909),4294967296*(2097151&(i=Math.imul(i^i>>>16,2246822507)^Math.imul(n^n>>>13,3266489909)))+(n>>>0)};static getIndexes(e){return e.map(e=>e.getIndex())}static getContent(e){return e.map(e=>e.getContent()).join("")}static splitmix32(e){return function(){e|=0;let t=(e=e+2654435769|0)^e>>>16;return t=Math.imul(t,569420461),t^=t>>>15,(((t=Math.imul(t,1935289751))^t>>>15)>>>0)/4294967296}}static Moves=Object.freeze({Spell:"spell",Swap:"swap"});static Name="grid";static ClassNames=Object.freeze({Loading:tY(n_.Name,"loading")});static DefaultId=(()=>{let e=new Date,t=e.getFullYear(),n=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getDate().toString().padStart(2,"0");return`${t}-${n}-${i}`})();static DefaultWidth=5;static Events=Object.freeze({Selection:tY(n_.Name,"selection"),Update:tY(n_.Name,"update")});static Today=Date.parse(n_.DefaultId);static Widths=Object.freeze([5,7,9]);static SelectionStart=class{event;length;constructor(e,t){this.event=e,this.length=t}};static #E=class{best;dictionary;id;moves;path;swaps;width;words;constructor(e,t,n,i,a,s,r,o){this.best=r??0,this.dictionary=o??[],this.id=e,this.width=n_.Widths.includes(t)?t:n_.DefaultWidth,this.path=n??[],this.swaps=i??[],this.words=a??[],this.moves=s??[]}getSeed(){return n_.cyrb53([this.id,this.width].join(","))}static fromParams(){let e=tQ.params.get(tQ.Params.Id);if(null!==e){let t=Date.parse(e);!isNaN(t)&&t>n_.Today&&(console.debug("The provided ID is for a future date, defaulting to the ID for today.",e),e=n_.DefaultId)}else e=n_.DefaultId;let t=tQ.params.get(tQ.Params.Width);return new n_.#E(e,Number(t))}static fromState(e){return new n_.#E(e.id,e.width,e.path,e.swaps,e.words,e.moves,e.best,e.dictionary)}};static Rating=class{description;emoji;constructor(e,t){this.description=e,this.emoji=t}};static StateParam=new tQ.Param(tQ.Params.State,!0,!0);static Statistics=class{averageWordLength;best;bestDiff;moves;progress;rating;score;swapCount;wordCount;constructor(e,t,n){let{length:i,points:a}=t.reduce((e,t)=>({length:e.length+t.content.length,points:e.points+t.points}),{length:0,points:0}),s=a+(i===n?n:0),r=e.best-s;this.averageWordLength=0===i?0:(i/t.length).toPrecision(2),this.best=e.best,this.bestDiff=0===r?"=":r<0?r:`+${r}`,this.moves=e.moves.map(e=>e.split(":")[0]),this.progress=Math.trunc(e.path.length/n*100),this.score=s;let o=Math.min(n_.Statistics.Ratings.length-1,Math.floor(this.score/n));this.rating=69===a?new n_.Rating("Heh","\uD83D\uDE0F"):n_.Statistics.Ratings[o],this.swapCount=e.swaps.length,this.wordCount=t.length}static Ratings=Object.freeze([new n_.Rating("Hmm","\uD83E\uDD14"),new n_.Rating("Meh","\uD83D\uDE10"),new n_.Rating("Whew","\uD83D\uDE05"),new n_.Rating("Great","\uD83E\uDD73"),new n_.Rating("Wow","\uD83E\uDD2F")])}}let nb=document.getElementById("grid-size-multipliers");function nv(e){return e?(e.nodeName||"").toLowerCase():null}function ny(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function nx(e){var t=ny(e).Element;return e instanceof t||e instanceof Element}function nk(e){var t=ny(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function nE(e){if("undefined"==typeof ShadowRoot)return!1;var t=ny(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}n_.Widths.forEach(e=>{let t=document.createElement("li");t.textContent=`${e}x${e} = ${nh.widthMultiplier(e)}`,nb.append(t)});var nS={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},a=t.elements[e];nk(a)&&nv(a)&&(Object.assign(a.style,n),Object.keys(i).forEach(function(e){var t=i[e];!1===t?a.removeAttribute(e):a.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var i=t.elements[e],a=t.attributes[e]||{},s=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});nk(i)&&nv(i)&&(Object.assign(i.style,s),Object.keys(a).forEach(function(e){i.removeAttribute(e)}))})}},requires:["computeStyles"]},nA=Math.max,nO=Math.min,nD=Math.round;function nz(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function nC(){return!/^((?!chrome|android).)*safari/i.test(nz())}function nL(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),a=1,s=1;t&&nk(e)&&(a=e.offsetWidth>0&&nD(i.width)/e.offsetWidth||1,s=e.offsetHeight>0&&nD(i.height)/e.offsetHeight||1);var r=(nx(e)?ny(e):window).visualViewport,o=!nC()&&n,l=(i.left+(o&&r?r.offsetLeft:0))/a,d=(i.top+(o&&r?r.offsetTop:0))/s,c=i.width/a,h=i.height/s;return{width:c,height:h,top:d,right:l+c,bottom:d+h,left:l,x:l,y:d}}function nN(e){var t=ny(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function nI(e){return((nx(e)?e.ownerDocument:e.document)||window.document).documentElement}function nT(e){return nL(nI(e)).left+nN(e).scrollLeft}function nR(e){return ny(e).getComputedStyle(e)}function nF(e){var t=nR(e),n=t.overflow,i=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+i)}function nj(e){var t=nL(e),n=e.offsetWidth,i=e.offsetHeight;return 1>=Math.abs(t.width-n)&&(n=t.width),1>=Math.abs(t.height-i)&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function nP(e){return"html"===nv(e)?e:e.assignedSlot||e.parentNode||(nE(e)?e.host:null)||nI(e)}function nU(e,t){void 0===t&&(t=[]);var n,i=function e(t){return["html","body","#document"].indexOf(nv(t))>=0?t.ownerDocument.body:nk(t)&&nF(t)?t:e(nP(t))}(e),a=i===(null==(n=e.ownerDocument)?void 0:n.body),s=ny(i),r=a?[s].concat(s.visualViewport||[],nF(i)?i:[]):i,o=t.concat(r);return a?o:o.concat(nU(nP(r)))}function nM(e){return nk(e)&&"fixed"!==nR(e).position?e.offsetParent:null}function nW(e){for(var t=ny(e),n=nM(e);n&&["table","td","th"].indexOf(nv(n))>=0&&"static"===nR(n).position;)n=nM(n);return n&&("html"===nv(n)||"body"===nv(n)&&"static"===nR(n).position)?t:n||function(e){var t=/firefox/i.test(nz());if(/Trident/i.test(nz())&&nk(e)&&"fixed"===nR(e).position)return null;var n=nP(e);for(nE(n)&&(n=n.host);nk(n)&&0>["html","body"].indexOf(nv(n));){var i=nR(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var nB="bottom",nZ="right",n$="left",nH="auto",nV=["top",nB,nZ,n$],nq="start",nY="viewport",nJ="popper",nK=nV.reduce(function(e,t){return e.concat([t+"-"+nq,t+"-end"])},[]),nG=[].concat(nV,[nH]).reduce(function(e,t){return e.concat([t,t+"-"+nq,t+"-end"])},[]),nX=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"],nQ={placement:"bottom",modifiers:[],strategy:"absolute"};function n0(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"==typeof e.getBoundingClientRect)})}var n1={passive:!0};function n2(e){return e.split("-")[0]}function n5(e){return e.split("-")[1]}function n6(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function n3(e){var t,n=e.reference,i=e.element,a=e.placement,s=a?n2(a):null,r=a?n5(a):null,o=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(s){case"top":t={x:o,y:n.y-i.height};break;case nB:t={x:o,y:n.y+n.height};break;case nZ:t={x:n.x+n.width,y:l};break;case n$:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var d=s?n6(s):null;if(null!=d){var c="y"===d?"height":"width";switch(r){case nq:t[d]=t[d]-(n[c]/2-i[c]/2);break;case"end":t[d]=t[d]+(n[c]/2-i[c]/2)}}return t}var n8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function n4(e){var t,n,i,a,s,r,o,l=e.popper,d=e.popperRect,c=e.placement,h=e.variation,u=e.offsets,p=e.position,f=e.gpuAcceleration,g=e.adaptive,m=e.roundOffsets,w=e.isFixed,_=u.x,b=void 0===_?0:_,v=u.y,y=void 0===v?0:v,x="function"==typeof m?m({x:b,y:y}):{x:b,y:y};b=x.x,y=x.y;var k=u.hasOwnProperty("x"),E=u.hasOwnProperty("y"),S=n$,A="top",O=window;if(g){var D=nW(l),z="clientHeight",C="clientWidth";D===ny(l)&&"static"!==nR(D=nI(l)).position&&"absolute"===p&&(z="scrollHeight",C="scrollWidth"),("top"===c||(c===n$||c===nZ)&&"end"===h)&&(A=nB,y-=(w&&D===O&&O.visualViewport?O.visualViewport.height:D[z])-d.height,y*=f?1:-1),(c===n$||("top"===c||c===nB)&&"end"===h)&&(S=nZ,b-=(w&&D===O&&O.visualViewport?O.visualViewport.width:D[C])-d.width,b*=f?1:-1)}var L=Object.assign({position:p},g&&n8),N=!0===m?(t={x:b,y:y},n=ny(l),i=t.x,a=t.y,{x:nD(i*(s=n.devicePixelRatio||1))/s||0,y:nD(a*s)/s||0}):{x:b,y:y};return(b=N.x,y=N.y,f)?Object.assign({},L,((o={})[A]=E?"0":"",o[S]=k?"0":"",o.transform=1>=(O.devicePixelRatio||1)?"translate("+b+"px, "+y+"px)":"translate3d("+b+"px, "+y+"px, 0)",o)):Object.assign({},L,((r={})[A]=E?y+"px":"",r[S]=k?b+"px":"",r.transform="",r))}var n9={left:"right",right:"left",bottom:"top",top:"bottom"};function n7(e){return e.replace(/left|right|bottom|top/g,function(e){return n9[e]})}var ie={start:"end",end:"start"};function it(e){return e.replace(/start|end/g,function(e){return ie[e]})}function ii(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&nE(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ia(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function is(e,t,n){var i,a,s,r,o,l,d,c,h,u;return t===nY?ia(function(e,t){var n=ny(e),i=nI(e),a=n.visualViewport,s=i.clientWidth,r=i.clientHeight,o=0,l=0;if(a){s=a.width,r=a.height;var d=nC();(d||!d&&"fixed"===t)&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:r,x:o+nT(e),y:l}}(e,n)):nx(t)?((i=nL(t,!1,"fixed"===n)).top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i):ia((a=nI(e),r=nI(a),o=nN(a),l=null==(s=a.ownerDocument)?void 0:s.body,d=nA(r.scrollWidth,r.clientWidth,l?l.scrollWidth:0,l?l.clientWidth:0),c=nA(r.scrollHeight,r.clientHeight,l?l.scrollHeight:0,l?l.clientHeight:0),h=-o.scrollLeft+nT(a),u=-o.scrollTop,"rtl"===nR(l||r).direction&&(h+=nA(r.clientWidth,l?l.clientWidth:0)-d),{width:d,height:c,x:h,y:u}))}function ir(){return{top:0,right:0,bottom:0,left:0}}function io(e){return Object.assign({},ir(),e)}function il(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function id(e,t){void 0===t&&(t={});var n,i,a,s,r,o,l,d,c=t,h=c.placement,u=void 0===h?e.placement:h,p=c.strategy,f=void 0===p?e.strategy:p,g=c.boundary,m=c.rootBoundary,w=c.elementContext,_=void 0===w?nJ:w,b=c.altBoundary,v=c.padding,y=void 0===v?0:v,x=io("number"!=typeof y?y:il(y,nV)),k=e.rects.popper,E=e.elements[void 0!==b&&b?_===nJ?"reference":nJ:_],S=(n=nx(E)?E:E.contextElement||nI(e.elements.popper),i=void 0===g?"clippingParents":g,a=void 0===m?nY:m,l=(o=[].concat("clippingParents"===i?(s=nU(nP(n)),nx(r=["absolute","fixed"].indexOf(nR(n).position)>=0&&nk(n)?nW(n):n)?s.filter(function(e){return nx(e)&&ii(e,r)&&"body"!==nv(e)}):[]):[].concat(i),[a]))[0],(d=o.reduce(function(e,t){var i=is(n,t,f);return e.top=nA(i.top,e.top),e.right=nO(i.right,e.right),e.bottom=nO(i.bottom,e.bottom),e.left=nA(i.left,e.left),e},is(n,l,f))).width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d),A=nL(e.elements.reference),O=n3({reference:A,element:k,strategy:"absolute",placement:u}),D=ia(Object.assign({},k,O)),z=_===nJ?D:A,C={top:S.top-z.top+x.top,bottom:z.bottom-S.bottom+x.bottom,left:S.left-z.left+x.left,right:z.right-S.right+x.right},L=e.modifiersData.offset;if(_===nJ&&L){var N=L[u];Object.keys(C).forEach(function(e){var t=[nZ,nB].indexOf(e)>=0?1:-1,n=["top",nB].indexOf(e)>=0?"y":"x";C[e]+=N[n]*t})}return C}function ic(e,t,n){return nA(e,nO(t,n))}function ih(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function iu(e){return["top",nZ,nB,n$].some(function(t){return e[t]>=0})}var ip=(B=void 0===(W=(M={defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,a=i.scroll,s=void 0===a||a,r=i.resize,o=void 0===r||r,l=ny(t.elements.popper),d=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&d.forEach(function(e){e.addEventListener("scroll",n.update,n1)}),o&&l.addEventListener("resize",n.update,n1),function(){s&&d.forEach(function(e){e.removeEventListener("scroll",n.update,n1)}),o&&l.removeEventListener("resize",n.update,n1)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=n3({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,a=n.adaptive,s=n.roundOffsets,r=void 0===s||s,o={placement:n2(t.placement),variation:n5(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:void 0===i||i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,n4(Object.assign({},o,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:void 0===a||a,roundOffsets:r})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,n4(Object.assign({},o,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:r})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},nS,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,a=n.offset,s=void 0===a?[0,0]:a,r=nG.reduce(function(e,n){var i,a,r,o,l,d;return e[n]=(i=t.rects,r=[n$,"top"].indexOf(a=n2(n))>=0?-1:1,l=(o="function"==typeof s?s(Object.assign({},i,{placement:n})):s)[0],d=o[1],l=l||0,d=(d||0)*r,[n$,nZ].indexOf(a)>=0?{x:d,y:l}:{x:l,y:d}),e},{}),o=r[t.placement],l=o.x,d=o.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=d),t.modifiersData[i]=r}},{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var a=n.mainAxis,s=void 0===a||a,r=n.altAxis,o=void 0===r||r,l=n.fallbackPlacements,d=n.padding,c=n.boundary,h=n.rootBoundary,u=n.altBoundary,p=n.flipVariations,f=void 0===p||p,g=n.allowedAutoPlacements,m=t.options.placement,w=n2(m)===m,_=l||(w||!f?[n7(m)]:function(e){if(n2(e)===nH)return[];var t=n7(e);return[it(e),t,it(t)]}(m)),b=[m].concat(_).reduce(function(e,n){var i,a,s,r,o,l,u,p,m,w,_,b;return e.concat(n2(n)===nH?(a=(i={placement:n,boundary:c,rootBoundary:h,padding:d,flipVariations:f,allowedAutoPlacements:g}).placement,s=i.boundary,r=i.rootBoundary,o=i.padding,l=i.flipVariations,p=void 0===(u=i.allowedAutoPlacements)?nG:u,0===(_=(w=(m=n5(a))?l?nK:nK.filter(function(e){return n5(e)===m}):nV).filter(function(e){return p.indexOf(e)>=0})).length&&(_=w),Object.keys(b=_.reduce(function(e,n){return e[n]=id(t,{placement:n,boundary:s,rootBoundary:r,padding:o})[n2(n)],e},{})).sort(function(e,t){return b[e]-b[t]})):n)},[]),v=t.rects.reference,y=t.rects.popper,x=new Map,k=!0,E=b[0],S=0;S<b.length;S++){var A=b[S],O=n2(A),D=n5(A)===nq,z=["top",nB].indexOf(O)>=0,C=z?"width":"height",L=id(t,{placement:A,boundary:c,rootBoundary:h,altBoundary:u,padding:d}),N=z?D?nZ:n$:D?nB:"top";v[C]>y[C]&&(N=n7(N));var I=n7(N),T=[];if(s&&T.push(L[O]<=0),o&&T.push(L[N]<=0,L[I]<=0),T.every(function(e){return e})){E=A,k=!1;break}x.set(A,T)}if(k)for(var R=f?3:1,F=function(e){var t=b.find(function(t){var n=x.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return E=t,"break"},j=R;j>0&&"break"!==F(j);j--);t.placement!==E&&(t.modifiersData[i]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,a=n.mainAxis,s=n.altAxis,r=n.boundary,o=n.rootBoundary,l=n.altBoundary,d=n.padding,c=n.tether,h=void 0===c||c,u=n.tetherOffset,p=void 0===u?0:u,f=id(t,{boundary:r,rootBoundary:o,padding:d,altBoundary:l}),g=n2(t.placement),m=n5(t.placement),w=!m,_=n6(g),b="x"===_?"y":"x",v=t.modifiersData.popperOffsets,y=t.rects.reference,x=t.rects.popper,k="function"==typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,E="number"==typeof k?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),S=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(v){if(void 0===a||a){var O,D="y"===_?"top":n$,z="y"===_?nB:nZ,C="y"===_?"height":"width",L=v[_],N=L+f[D],I=L-f[z],T=h?-x[C]/2:0,R=m===nq?y[C]:x[C],F=m===nq?-x[C]:-y[C],j=t.elements.arrow,P=h&&j?nj(j):{width:0,height:0},U=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ir(),M=U[D],W=U[z],B=ic(0,y[C],P[C]),Z=w?y[C]/2-T-B-M-E.mainAxis:R-B-M-E.mainAxis,$=w?-y[C]/2+T+B+W+E.mainAxis:F+B+W+E.mainAxis,H=t.elements.arrow&&nW(t.elements.arrow),V=H?"y"===_?H.clientTop||0:H.clientLeft||0:0,q=null!=(O=null==S?void 0:S[_])?O:0,Y=ic(h?nO(N,L+Z-q-V):N,L,h?nA(I,L+$-q):I);v[_]=Y,A[_]=Y-L}if(void 0!==s&&s){var J,K,G="x"===_?"top":n$,X="x"===_?nB:nZ,Q=v[b],ee="y"===b?"height":"width",et=Q+f[G],en=Q-f[X],ei=-1!==["top",n$].indexOf(g),ea=null!=(K=null==S?void 0:S[b])?K:0,es=ei?et:Q-y[ee]-x[ee]-ea+E.altAxis,er=ei?Q+y[ee]+x[ee]-ea-E.altAxis:en,eo=h&&ei?(J=ic(es,Q,er))>er?er:J:ic(h?es:et,Q,h?er:en);v[b]=eo,A[b]=eo-Q}t.modifiersData[i]=A}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,a=e.options,s=n.elements.arrow,r=n.modifiersData.popperOffsets,o=n2(n.placement),l=n6(o),d=[n$,nZ].indexOf(o)>=0?"height":"width";if(s&&r){var c,h=io("number"!=typeof(c="function"==typeof(c=a.padding)?c(Object.assign({},n.rects,{placement:n.placement})):c)?c:il(c,nV)),u=nj(s),p="y"===l?"top":n$,f="y"===l?nB:nZ,g=n.rects.reference[d]+n.rects.reference[l]-r[l]-n.rects.popper[d],m=r[l]-n.rects.reference[l],w=nW(s),_=w?"y"===l?w.clientHeight||0:w.clientWidth||0:0,b=h[p],v=_-u[d]-h[f],y=_/2-u[d]/2+(g/2-m/2),x=ic(b,y,v);n.modifiersData[i]=((t={})[l]=x,t.centerOffset=x-y,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=t.elements.popper.querySelector(i)))&&ii(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,r=id(t,{elementContext:"reference"}),o=id(t,{altBoundary:!0}),l=ih(r,i),d=ih(o,a,s),c=iu(l),h=iu(d);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:d,isReferenceHidden:c,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":h})}}]}).defaultModifiers)?[]:W,$=void 0===(Z=M.defaultOptions)?nQ:Z,function(e,t,n){void 0===n&&(n=$);var i,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},nQ,$),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},r=[],o=!1,l={state:s,setOptions:function(n){var i,a,o,c,h,u="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},$,s.options,u),s.scrollParents={reference:nx(e)?nU(e):e.contextElement?nU(e.contextElement):[],popper:nU(t)};var p=(a=Object.keys(i=[].concat(B,s.options.modifiers).reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{})).map(function(e){return i[e]}),o=new Map,c=new Set,h=[],a.forEach(function(e){o.set(e.name,e)}),a.forEach(function(e){c.has(e.name)||function e(t){c.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach(function(t){if(!c.has(t)){var n=o.get(t);n&&e(n)}}),h.push(t)}(e)}),nX.reduce(function(e,t){return e.concat(h.filter(function(e){return e.phase===t}))},[]));return s.orderedModifiers=p.filter(function(e){return e.enabled}),s.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,i=e.effect;if("function"==typeof i){var a=i({state:s,name:t,instance:l,options:void 0===n?{}:n});r.push(a||function(){})}}),l.update()},forceUpdate:function(){if(!o){var e=s.elements,t=e.reference,n=e.popper;if(n0(t,n)){s.rects={reference:(a=nW(n),r="fixed"===s.options.strategy,d=nk(a),p=nk(a)&&(h=nD((c=a.getBoundingClientRect()).width)/a.offsetWidth||1,u=nD(c.height)/a.offsetHeight||1,1!==h||1!==u),f=nI(a),g=nL(t,p,r),m={scrollLeft:0,scrollTop:0},w={x:0,y:0},(d||!d&&!r)&&(("body"!==nv(a)||nF(f))&&(m=(i=a)!==ny(i)&&nk(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:nN(i)),nk(a)?(w=nL(a,!0),w.x+=a.clientLeft,w.y+=a.clientTop):f&&(w.x=nT(f))),{x:g.left+m.scrollLeft-w.x,y:g.top+m.scrollTop-w.y,width:g.width,height:g.height}),popper:nj(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach(function(e){return s.modifiersData[e.name]=Object.assign({},e.data)});for(var i,a,r,d,c,h,u,p,f,g,m,w,_=0;_<s.orderedModifiers.length;_++){if(!0===s.reset){s.reset=!1,_=-1;continue}var b=s.orderedModifiers[_],v=b.fn,y=b.options,x=void 0===y?{}:y,k=b.name;"function"==typeof v&&(s=v({state:s,options:x,name:k,instance:l})||s)}}}},update:(i=function(){return new Promise(function(e){l.forceUpdate(),e(s)})},function(){return a||(a=new Promise(function(e){Promise.resolve().then(function(){a=void 0,e(i())})})),a}),destroy:function(){d(),o=!0}};if(!n0(e,t))return l;function d(){r.forEach(function(e){return e()}),r=[]}return l.setOptions(n).then(function(e){!o&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}),ig="tippy-content",im="tippy-arrow",iw="tippy-svg-arrow",i_={passive:!0,capture:!0},ib=function(){return document.body};function iv(e,t,n){if(Array.isArray(e)){var i=e[t];return null==i?Array.isArray(n)?n[t]:n:i}return e}function iy(e,t){var n=({}).toString.call(e);return 0===n.indexOf("[object")&&n.indexOf(t+"]")>-1}function ix(e,t){return"function"==typeof e?e.apply(void 0,t):e}function ik(e,t){var n;return 0===t?e:function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}}function iE(e){return[].concat(e)}function iS(e,t){-1===e.indexOf(t)&&e.push(t)}function iA(e){return[].slice.call(e)}function iO(e){return Object.keys(e).reduce(function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t},{})}function iD(){return document.createElement("div")}function iz(e){return["Element","Fragment"].some(function(t){return iy(e,t)})}function iC(e,t){e.forEach(function(e){e&&(e.style.transitionDuration=t+"ms")})}function iL(e,t){e.forEach(function(e){e&&e.setAttribute("data-state",t)})}function iN(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(t){e[i](t,n)})}function iI(e,t){for(var n,i=t;i;){if(e.contains(i))return!0;i=null==i.getRootNode?void 0:null==(n=i.getRootNode())?void 0:n.host}return!1}var iT={isTouch:!1},iR=0;function iF(){!iT.isTouch&&(iT.isTouch=!0,window.performance&&document.addEventListener("mousemove",ij))}function ij(){var e=performance.now();e-iR<20&&(iT.isTouch=!1,document.removeEventListener("mousemove",ij)),iR=e}function iP(){var e=document.activeElement;if(e&&e._tippy&&e._tippy.reference===e){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}var iU=!!("undefined"!=typeof window&&"undefined"!=typeof document)&&!!window.msCrypto,iM=Object.assign({appendTo:ib,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),iW=Object.keys(iM);function iB(e){var t=(e.plugins||[]).reduce(function(t,n){var i,a=n.name,s=n.defaultValue;return a&&(t[a]=void 0!==e[a]?e[a]:null!=(i=iM[a])?i:s),t},{});return Object.assign({},e,t)}function iZ(e,t){var n,i=Object.assign({},t,{content:ix(t.content,[e])},t.ignoreAttributes?{}:((n=t.plugins)?Object.keys(iB(Object.assign({},iM,{plugins:n}))):iW).reduce(function(t,n){var i=(e.getAttribute("data-tippy-"+n)||"").trim();if(!i)return t;if("content"===n)t[n]=i;else try{t[n]=JSON.parse(i)}catch(e){t[n]=i}return t},{}));return i.aria=Object.assign({},iM.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?t.interactive:i.aria.expanded,content:"auto"===i.aria.content?t.interactive?null:"describedby":i.aria.content},i}function i$(e,t){e.innerHTML=t}function iH(e){var t=iD();return!0===e?t.className=im:(t.className=iw,iz(e)?t.appendChild(e):i$(t,e)),t}function iV(e,t){iz(t.content)?(i$(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?i$(e,t.content):e.textContent=t.content)}function iq(e){var t=e.firstElementChild,n=iA(t.children);return{box:t,content:n.find(function(e){return e.classList.contains(ig)}),arrow:n.find(function(e){return e.classList.contains(im)||e.classList.contains(iw)}),backdrop:n.find(function(e){return e.classList.contains("tippy-backdrop")})}}function iY(e){var t=iD(),n=iD();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=iD();function a(n,i){var a=iq(t),s=a.box,r=a.content,o=a.arrow;i.theme?s.setAttribute("data-theme",i.theme):s.removeAttribute("data-theme"),"string"==typeof i.animation?s.setAttribute("data-animation",i.animation):s.removeAttribute("data-animation"),i.inertia?s.setAttribute("data-inertia",""):s.removeAttribute("data-inertia"),s.style.maxWidth="number"==typeof i.maxWidth?i.maxWidth+"px":i.maxWidth,i.role?s.setAttribute("role",i.role):s.removeAttribute("role"),(n.content!==i.content||n.allowHTML!==i.allowHTML)&&iV(r,e.props),i.arrow?o?n.arrow!==i.arrow&&(s.removeChild(o),s.appendChild(iH(i.arrow))):s.appendChild(iH(i.arrow)):o&&s.removeChild(o)}return i.className=ig,i.setAttribute("data-state","hidden"),iV(i,e.props),t.appendChild(n),n.appendChild(i),a(e.props,e.props),{popper:t,onUpdate:a}}iY.$$tippy=!0;var iJ=1,iK=[],iG=[];function iX(e,t){void 0===t&&(t={});var n=iM.plugins.concat(t.plugins||[]);document.addEventListener("touchstart",iF,i_),window.addEventListener("blur",iP);var i=Object.assign({},t,{plugins:n}),a=(iz(e)?[e]:iy(e,"NodeList")?iA(e):Array.isArray(e)?e:iA(document.querySelectorAll(e))).reduce(function(e,t){var n=t&&function(e,t){var n,i,a,s,r,o,l,d,c=iZ(e,Object.assign({},iM,iB(iO(t)))),h=!1,u=!1,p=!1,f=!1,g=[],m=ik(H,c.interactiveDebounce),w=iJ++,_=(n=c.plugins).filter(function(e,t){return n.indexOf(e)===t}),b={id:w,reference:e,popper:iD(),popperInstance:null,props:c,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:_,clearDelayTimeouts:function(){clearTimeout(i),clearTimeout(a),cancelAnimationFrame(s)},setProps:function(t){if(!b.state.isDestroyed){L("onBeforeUpdate",[b,t]),Z();var n=b.props,i=iZ(e,Object.assign({},n,iO(t),{ignoreAttributes:!0}));b.props=i,B(),n.interactiveDebounce!==i.interactiveDebounce&&(T(),m=ik(H,i.interactiveDebounce)),n.triggerTarget&&!i.triggerTarget?iE(n.triggerTarget).forEach(function(e){e.removeAttribute("aria-expanded")}):i.triggerTarget&&e.removeAttribute("aria-expanded"),I(),C(),x&&x(n,i),b.popperInstance&&(J(),G().forEach(function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})),L("onAfterUpdate",[b,t])}},setContent:function(e){b.setProps({content:e})},show:function(){var t=b.state.isVisible,n=b.state.isDestroyed,i=!b.state.isEnabled,a=iT.isTouch&&!b.props.touch,s=iv(b.props.duration,0,iM.duration);if(!(t||n||i||a||(d||e).hasAttribute("disabled"))&&(L("onShow",[b],!1),!1!==b.props.onShow(b))){if(b.state.isVisible=!0,O()&&(y.style.visibility="visible"),C(),P(),b.state.isMounted||(y.style.transition="none"),O()){var r,o,c,h=iq(y);iC([h.box,h.content],0)}l=function(){var e;if(b.state.isVisible&&!f){if(f=!0,y.offsetHeight,y.style.transition=b.props.moveTransition,O()&&b.props.animation){var t=iq(y),n=t.box,i=t.content;iC([n,i],s),iL([n,i],"visible")}N(),I(),iS(iG,b),null==(e=b.popperInstance)||e.forceUpdate(),L("onMount",[b]),b.props.animation&&O()&&M(s,function(){b.state.isShown=!0,L("onShown",[b])})}},o=b.props.appendTo,c=d||e,(r=b.props.interactive&&o===ib||"parent"===o?c.parentNode:ix(o,[c])).contains(y)||r.appendChild(y),b.state.isMounted=!0,J()}},hide:function(){var e=!b.state.isVisible,t=b.state.isDestroyed,n=!b.state.isEnabled,i=iv(b.props.duration,1,iM.duration);if(!e&&!t&&!n&&(L("onHide",[b],!1),!1!==b.props.onHide(b))){if(b.state.isVisible=!1,b.state.isShown=!1,f=!1,h=!1,O()&&(y.style.visibility="hidden"),T(),U(),C(!0),O()){var a,s=iq(y),r=s.box,o=s.content;b.props.animation&&(iC([r,o],i),iL([r,o],"hidden"))}(N(),I(),b.props.animation)?O()&&(a=b.unmount,M(i,function(){!b.state.isVisible&&y.parentNode&&y.parentNode.contains(y)&&a()})):b.unmount()}},hideWithInteractivity:function(e){D().addEventListener("mousemove",m),iS(iK,m),m(e)},enable:function(){b.state.isEnabled=!0},disable:function(){b.hide(),b.state.isEnabled=!1},unmount:function(){b.state.isVisible&&b.hide(),b.state.isMounted&&(K(),G().forEach(function(e){e._tippy.unmount()}),y.parentNode&&y.parentNode.removeChild(y),iG=iG.filter(function(e){return e!==b}),b.state.isMounted=!1,L("onHidden",[b]))},destroy:function(){b.state.isDestroyed||(b.clearDelayTimeouts(),b.unmount(),Z(),delete e._tippy,b.state.isDestroyed=!0,L("onDestroy",[b]))}};if(!c.render)return b;var v=c.render(b),y=v.popper,x=v.onUpdate;y.setAttribute("data-tippy-root",""),y.id="tippy-"+b.id,b.popper=y,e._tippy=b,y._tippy=b;var k=_.map(function(e){return e.fn(b)}),E=e.hasAttribute("aria-expanded");return B(),I(),C(),L("onCreate",[b]),c.showOnCreate&&X(),y.addEventListener("mouseenter",function(){b.props.interactive&&b.state.isVisible&&b.clearDelayTimeouts()}),y.addEventListener("mouseleave",function(){b.props.interactive&&b.props.trigger.indexOf("mouseenter")>=0&&D().addEventListener("mousemove",m)}),b;function S(){var e=b.props.touch;return Array.isArray(e)?e:[e,0]}function A(){return"hold"===S()[0]}function O(){var e;return!!(null!=(e=b.props.render)&&e.$$tippy)}function D(){var t,n,i=(d||e).parentNode;return i&&null!=(n=iE(i)[0])&&null!=(t=n.ownerDocument)&&t.body?n.ownerDocument:document}function z(e){return b.state.isMounted&&!b.state.isVisible||iT.isTouch||r&&"focus"===r.type?0:iv(b.props.delay,e?0:1,iM.delay)}function C(e){void 0===e&&(e=!1),y.style.pointerEvents=b.props.interactive&&!e?"":"none",y.style.zIndex=""+b.props.zIndex}function L(e,t,n){if(void 0===n&&(n=!0),k.forEach(function(n){n[e]&&n[e].apply(n,t)}),n){var i;(i=b.props)[e].apply(i,t)}}function N(){var t=b.props.aria;if(t.content){var n="aria-"+t.content,i=y.id;iE(b.props.triggerTarget||e).forEach(function(e){var t=e.getAttribute(n);if(b.state.isVisible)e.setAttribute(n,t?t+" "+i:i);else{var a=t&&t.replace(i,"").trim();a?e.setAttribute(n,a):e.removeAttribute(n)}})}}function I(){!E&&b.props.aria.expanded&&iE(b.props.triggerTarget||e).forEach(function(t){b.props.interactive?t.setAttribute("aria-expanded",b.state.isVisible&&t===(d||e)?"true":"false"):t.removeAttribute("aria-expanded")})}function T(){D().removeEventListener("mousemove",m),iK=iK.filter(function(e){return e!==m})}function R(t){if(!iT.isTouch||!p&&"mousedown"!==t.type){var n=t.composedPath&&t.composedPath()[0]||t.target;if(!(b.props.interactive&&iI(y,n))){if(iE(b.props.triggerTarget||e).some(function(e){return iI(e,n)})){if(iT.isTouch||b.state.isVisible&&b.props.trigger.indexOf("click")>=0)return}else L("onClickOutside",[b,t]);!0!==b.props.hideOnClick||(b.clearDelayTimeouts(),b.hide(),u=!0,setTimeout(function(){u=!1}),b.state.isMounted||U())}}}function F(){p=!0}function j(){p=!1}function P(){var e=D();e.addEventListener("mousedown",R,!0),e.addEventListener("touchend",R,i_),e.addEventListener("touchstart",j,i_),e.addEventListener("touchmove",F,i_)}function U(){var e=D();e.removeEventListener("mousedown",R,!0),e.removeEventListener("touchend",R,i_),e.removeEventListener("touchstart",j,i_),e.removeEventListener("touchmove",F,i_)}function M(e,t){var n=iq(y).box;function i(e){e.target===n&&(iN(n,"remove",i),t())}if(0===e)return t();iN(n,"remove",o),iN(n,"add",i),o=i}function W(t,n,i){void 0===i&&(i=!1),iE(b.props.triggerTarget||e).forEach(function(e){e.addEventListener(t,n,i),g.push({node:e,eventType:t,handler:n,options:i})})}function B(){A()&&(W("touchstart",$,{passive:!0}),W("touchend",V,{passive:!0})),b.props.trigger.split(/\s+/).filter(Boolean).forEach(function(e){if("manual"!==e)switch(W(e,$),e){case"mouseenter":W("mouseleave",V);break;case"focus":W(iU?"focusout":"blur",q);break;case"focusin":W("focusout",q)}})}function Z(){g.forEach(function(e){var t=e.node,n=e.eventType,i=e.handler,a=e.options;t.removeEventListener(n,i,a)}),g=[]}function $(e){var t,n=!1;if(!(!b.state.isEnabled||Y(e))&&!u){var i=(null==(t=r)?void 0:t.type)==="focus";r=e,d=e.currentTarget,I(),!b.state.isVisible&&iy(e,"MouseEvent")&&iK.forEach(function(t){return t(e)}),"click"===e.type&&(0>b.props.trigger.indexOf("mouseenter")||h)&&!1!==b.props.hideOnClick&&b.state.isVisible?n=!0:X(e),"click"===e.type&&(h=!n),n&&!i&&Q(e)}}function H(t){var n,i,a,s=t.target,r=(d||e).contains(s)||y.contains(s);("mousemove"!==t.type||!r)&&(n=G().concat(y).map(function(e){var t,n=null==(t=e._tippy.popperInstance)?void 0:t.state;return n?{popperRect:e.getBoundingClientRect(),popperState:n,props:c}:null}).filter(Boolean),i=t.clientX,a=t.clientY,n.every(function(e){var t=e.popperRect,n=e.popperState,s=e.props.interactiveBorder,r=n.placement.split("-")[0],o=n.modifiersData.offset;if(!o)return!0;var l="bottom"===r?o.top.y:0,d="top"===r?o.bottom.y:0,c="right"===r?o.left.x:0,h="left"===r?o.right.x:0,u=t.top-a+l>s,p=a-t.bottom-d>s,f=t.left-i+c>s,g=i-t.right-h>s;return u||p||f||g})&&(T(),Q(t)))}function V(e){if(!(Y(e)||b.props.trigger.indexOf("click")>=0&&h)){if(b.props.interactive){b.hideWithInteractivity(e);return}Q(e)}}function q(t){(!(0>b.props.trigger.indexOf("focusin"))||t.target===(d||e))&&(b.props.interactive&&t.relatedTarget&&y.contains(t.relatedTarget)||Q(t))}function Y(e){return!!iT.isTouch&&A()!==e.type.indexOf("touch")>=0}function J(){K();var t=b.props,n=t.popperOptions,i=t.placement,a=t.offset,s=t.getReferenceClientRect,r=t.moveTransition,o=O()?iq(y).arrow:null,c=s?{getBoundingClientRect:s,contextElement:s.contextElement||d||e}:e,h=[{name:"offset",options:{offset:a}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!r}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(O()){var n=iq(y).box;["placement","reference-hidden","escaped"].forEach(function(e){"placement"===e?n.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?n.setAttribute("data-"+e,""):n.removeAttribute("data-"+e)}),t.attributes.popper={}}}}];O()&&o&&h.push({name:"arrow",options:{element:o,padding:3}}),h.push.apply(h,(null==n?void 0:n.modifiers)||[]),b.popperInstance=ip(c,y,Object.assign({},n,{placement:i,onFirstUpdate:l,modifiers:h}))}function K(){b.popperInstance&&(b.popperInstance.destroy(),b.popperInstance=null)}function G(){return iA(y.querySelectorAll("[data-tippy-root]"))}function X(e){b.clearDelayTimeouts(),e&&L("onTrigger",[b,e]),P();var t=z(!0),n=S(),a=n[0],s=n[1];iT.isTouch&&"hold"===a&&s&&(t=s),t?i=setTimeout(function(){b.show()},t):b.show()}function Q(e){if(b.clearDelayTimeouts(),L("onUntrigger",[b,e]),!b.state.isVisible){U();return}if(!(b.props.trigger.indexOf("mouseenter")>=0&&b.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0)||!h){var t=z(!1);t?a=setTimeout(function(){b.state.isVisible&&b.hide()},t):s=requestAnimationFrame(function(){b.hide()})}}}(t,i);return n&&e.push(n),e},[]);return iz(e)?a[0]:a}iX.defaultProps=iM,iX.setDefaultProps=function(e){Object.keys(e).forEach(function(t){iM[t]=e[t]})},iX.currentInput=iT,Object.assign({},nS,{effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow)}}),iX.setDefaultProps({render:iY});let iQ=document.getElementById("expand"),i0=document.getElementById("footer"),i1=document.getElementById("include-state"),i2=document.getElementById("include-profanity"),i5=document.getElementById("new"),i6=document.getElementById("path"),i3=document.getElementById("reset"),i8=document.getElementById("score"),i4=document.getElementById("seed-words"),i9=document.getElementById("selection"),i7=document.getElementById("share"),ae=document.getElementById("statistics"),at=document.getElementById("swaps"),an=document.getElementById("undo"),ai=document.getElementById("width"),aa=document.getElementById("words"),as=window.crypto,ar=iX(i7,{content:"Copied!",theme:"custom",trigger:"manual"});tQ.params.has(n_.StateParam.name)&&document.body.classList.add("share");class ao{#c=new ni({context:this});#Z;#h;#k;constructor(){this.#h=new tQ("game",{},{params:{[tQ.Params.Expand]:new tQ.Param(tQ.Params.Expand)}}),this.#k=new nm,this.#Z=new n_(this.#k),i5.href=`?${tQ.Params.Id}=${as.randomUUID().split("-")[0]}`,i6.href=`?${tQ.Params.Id}=${this.#Z.id}`,i6.textContent=this.#Z.id,this.#c.add([{type:"change",element:i2,handler:this.#$},{type:"change",element:i1,handler:this.#H},{type:"change",element:ai,handler:this.#V},{type:"click",element:iQ,handler:this.#q},{type:"click",element:i3,handler:this.reset},{type:"click",element:i7,handler:this.share},{type:"click",element:at,handler:this.#Y},{type:"click",element:an,handler:this.#J},{type:"click",element:aa,handler:this.#K},{type:n_.Events.Selection,handler:this.#G},{type:n_.Events.Update,handler:this.#X}]),this.#Q(),this.#ee()}reset(){this.#Z.reset(),this.update()}async setup(){await this.#k.load(ng.Default),this.#Z.setup(),this.#et(),this.update(),(this.#h.get().includeProfanityInDictionary||this.#Z.getDictionaries().includes(nf.Profanity))&&await this.#k.load(ng.Profanity)}async share(){let e=this.#Z.id,t=this.#Z.width,n=`${t}x${t}`,i=this.#h.get(),a=new URL(tQ.url.toString()),s=this.#Z.getStatistics();i.includeStateInShareUrl?a.searchParams.set(tQ.Params.State,this.#Z.getState()):(a.searchParams.set(tQ.Params.Id,e),a.searchParams.set(tQ.Params.Width,t));let r=this.#Z.getDictionaries().join(" + "),o=s.moves.map(e=>e===n_.Moves.Spell?"\uD83D\uDFE9":"\uD83D\uDFEA").join(""),l=`Path: #${e} (${n})
Score: ${s.score} ${s.rating.description} ${s.rating.emoji} (${s.progress}% filled)
`+(o?`Moves: ${o}
`:"")+(r?`Dictionary: ${r}
`:"")+`${a.toString()}`;await tJ(l),ar.show(),setTimeout(()=>ar.hide(),1e3)}update(){this.#en(),this.#ei(),this.#ea(),this.#es()}#Y(e){e.target.classList.contains(ao.ClassNames.Delete)&&(this.#Z.removeSwap(e.target.dataset.index),this.update())}#K(e){e.target.classList.contains(ao.ClassNames.Delete)&&(this.#Z.removeWord(e.target.dataset.index),this.update())}#q(){this.#h.set(tQ.Params.Expand,!this.#h.get(tQ.Params.Expand)),this.#Q()}#X(){this.update()}async #$(e){let t=this.#h.get();t.includeProfanityInDictionary=e.target.checked,t.includeProfanityInDictionary?await this.#k.load(ng.Profanity):this.#k.unload(ng.Profanity),this.#h.set(t)}#H(e){let t=this.#h.get();t.includeStateInShareUrl=e.target.checked,this.#h.set(t)}#J(){an.classList.contains(ao.ClassNames.Disabled)||this.#Z.undo()}#V(e){tQ.params.set(tQ.Params.Width,e.target.value),tQ.reload()}#Q(){let e=this.#h.get(),t=!0===e.expand;i0.classList.toggle(ao.ClassNames.Expanded,t),iQ.textContent=t?"expand_less":"expand_more",i2.checked=e.includeProfanityInDictionary,i1.checked=e.includeStateInShareUrl}#et(){i4.replaceChildren(...this.#Z.getSeedWords().map(e=>{let t=document.createElement("li");return t.textContent=e,t}))}#G(){this.#ea();let e=this.#Z.getSelection().filter(e=>!e.getFlags().has(ns.Flags.Swap));if(i9.replaceChildren(),i9.classList.remove(ao.ClassNames.Valid),!e.length)return;let t=document.createElement("span");t.textContent=n_.getContent(e);let n=[t];if(this.#k.isValid(t.textContent))t.classList.add(ao.ClassNames.Valid);else{let n=n_.getContent(e.reverse());this.#k.isValid(n)&&(t.classList.add(ao.ClassNames.Valid),t.textContent=n)}if(t.classList.contains(ao.ClassNames.Valid)){let t=new nh(this.#Z.width,e),i=document.createElement("span");i.classList.add(ao.ClassNames.Points),i.textContent=t.points,n.push(i)}i9.replaceChildren(...n)}#en(){let e=this.#Z.getStatistics();i8.textContent=e.score,ae.replaceChildren(...[{name:"Average Word Length",value:e.averageWordLength},{name:"Progress",value:`${e.progress}%`},{name:"Rating",value:`${e.rating.description} ${e.rating.emoji}`},{name:"Your Best Score",value:`${e.best} (${e.bestDiff})`}].map(e=>{let t=document.createElement("span");t.textContent=e.name;let n=document.createElement("span");return n.textContent=e.value,ao.getListItem(t,n)}))}#ei(){let e=this.#Z.getSwaps();at.replaceChildren(...e.map((e,t)=>{let n=document.createElement("span");return n.classList.add(ao.ClassNames.Swap),n.textContent=`${e.map(e=>e.toUpperCase()).join(" → ")}`,ao.getListItem(n,ao.getDeleteElement(t))}))}#ea(){let e=this.#Z.getMoves(),t=this.#Z.getSelection(),n=0===e.length&&0===t.length;an.classList.toggle(ao.ClassNames.Disabled,n)}#ee(){ai.replaceChildren(...n_.Widths.map(e=>{let t=document.createElement("option");return t.textContent=`${e}x${e}`,t.value=e.toString(),e===this.#Z.width&&(t.selected=!0),t}))}#es(){let e=this.#Z.getWords();aa.replaceChildren(...e.map((e,t)=>{let n=document.createElement("span");n.classList.add(ao.ClassNames.Word),n.textContent=`${t+1}. ${e.content}`;let i=document.createElement("span");return i.classList.add(ao.ClassNames.Points),i.textContent=e.points,ao.getListItem([n,i],ao.getDeleteElement(t))}))}static getDeleteElement(e){let t=document.createElement("span");return t.classList.add(ao.ClassNames.Delete,ao.ClassNames.Icon),t.dataset.index=e.toString(),t.textContent="delete",t.title="Delete",t}static getListItem(e,t){let n=document.createElement("li"),i=document.createElement("div");i.classList.add(ao.ClassNames.Container),n.append(i);let a=document.createElement("div");a.classList.add(ao.ClassNames.FlexLeft),a.append(...Array.isArray(e)?e:[e]),i.append(a);let s=document.createElement("div");return s.classList.add(ao.ClassNames.FlexRight),s.append(...Array.isArray(t)?t:[t]),i.append(s),n}static ClassNames=Object.freeze({Container:"container",Delete:"delete",Disabled:"disabled",Expanded:"expanded",FlexLeft:"flex-left",FlexRight:"flex-right",Icon:"material-symbols-outlined",Points:"points",Swap:"swap",Valid:"valid",Word:"word"})}let al=document.getElementById("help"),ad=document.getElementById("help-dialog");al.addEventListener("click",()=>{ad.open||ad.showModal()});let ac="G-44BJC1S0CM",ah=document.createElement("script");ah.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=${ac}`),document.head.append(ah);let au=window.dataLayer=window.dataLayer||[];function ap(){au.push(arguments)}ap("js",new Date),ap("config",ac);let af=new ao;af.setup(),window.addEventListener("popstate",()=>{window.location.reload()}),window.debug=t2,window.game=af}();
//# sourceMappingURL=index.925c11b4.js.map
